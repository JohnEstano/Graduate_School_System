import{j as e,r as l,L as we,S as Se}from"./app-BDkuJsct.js";import{t as m,T as De}from"./index-By5vkq0G.js";import{B as n}from"./button-DggClj9M.js";import{C as oe}from"./checkbox-CR1JIwzI.js";import{I as Ae}from"./input-BmPXXlp0.js";import Te from"./table-all-defense-list-CzjrANHu.js";import{D as T,a as z,b as P,c as q}from"./dialog-DeUj0iLU.js";import{C as ze}from"./calendar-BhsmegxW.js";import{P as V,a as W,b as G}from"./popover-CxnVWzfd.js";import{A as Pe}from"./app-layout-Cr_DtTkJ.js";import{D as qe,a as Re,b as Oe,d as j}from"./dropdown-menu-B7sOazTG.js";import{e as $e}from"./endOfDay-Ci94Ylrd.js";import{i as Be}from"./isWithinInterval-BawuBiIN.js";import{S as Ee}from"./send-9CEFXyiZ.js";import{c as Le}from"./createLucideIcon-CEmaZ7tj.js";import{S as Me}from"./search-oqoQW3gm.js";import{C as de}from"./circle-plus-C8aRXmTg.js";import{C as Fe}from"./calendar-CI-DWPmu.js";import{X as ce}from"./x-CtfT_1vN.js";import{A as Ie}from"./arrow-right-DTnDefOT.js";import{H as Xe}from"./hourglass-BE6hGw0v.js";import{B as He}from"./banknote-Cl0WRxxf.js";import{C as Je}from"./circle-check-_tJ384BC.js";import{P as Ke}from"./printer-CSDni_pD.js";import{S as F}from"./signature-B6fTe-ja.js";import{s as me,f as pe}from"./format-Cze4Gw5q.js";import"./index-BhbofC_p.js";import"./index-B_a1aFVM.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./index-LRezjsDo.js";import"./index-BdhkuEJx.js";import"./index-DMsjTEK4.js";import"./index-Dia2ik6c.js";import"./index-QFmRa-KD.js";import"./check-BUlQxyEc.js";import"./table-CnA6sFiR.js";import"./badge-BJdX7_A9.js";import"./program-abbreviations-BcvFCzIW.js";import"./clock-BykI6stH.js";import"./index-CWqpdCTP.js";import"./index-D-bfryUZ.js";import"./endOfWeek-BqBOMalL.js";import"./differenceInCalendarMonths-BlVIDW-K.js";import"./normalizeInterval-6lUcOLZ2.js";import"./endOfMonth-DvPI_8Ds.js";import"./isSameDay-DsAL-Hdb.js";import"./isSameMonth-C-hFGgGu.js";import"./chevron-right-BpKiIXqV.js";import"./chevron-down-DMxaecxw.js";import"./floating-ui.react-dom-w0Q93DA2.js";import"./tooltip-CWM4FSMS.js";import"./separator-DaKqQg6m.js";import"./avatar-DpsgA3Kf.js";import"./settings-BITCJcnj.js";import"./users-BTr8E8QO.js";import"./graduation-cap-Cszrlop1.js";import"./file-text-rxgzo2tt.js";import"./dollar-sign-CSALIIUa.js";import"./credit-card-CM3Zlvhr.js";import"./tabs-BOuSS6lC.js";import"./circle-check-big-CKfkcUFR.js";import"./info-DwFda8kE.js";import"./sun-B3PIUh1_.js";import"./index-BKBXBDOv.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Ve=Le("Settings2",Ue);function We({page:h,totalPages:u,onPageChange:a,showingCount:g,totalCount:C}){return e.jsxs("div",{className:"flex justify-between items-center gap-2 px-4 py-2",children:[e.jsxs("span",{className:"text-xs",children:["Page ",h," of ",u]}),e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx(n,{size:"sm",variant:"outline",disabled:h===1,onClick:()=>a(1),children:"«"}),e.jsx(n,{size:"sm",variant:"outline",disabled:h===1,onClick:()=>a(h-1),children:"‹"}),e.jsx(n,{size:"sm",variant:"outline",disabled:h===u,onClick:()=>a(h+1),children:"›"}),e.jsx(n,{size:"sm",variant:"outline",disabled:h===u,onClick:()=>a(u),children:"»"}),e.jsxs("span",{className:"ml-4 text-xs text-muted-foreground",children:["Showing ",g," record",g!==1?"s":"",typeof C=="number"&&e.jsxs(e.Fragment,{children:[" of ",C," total"]})]})]})]})}function he({defenseRequests:h,onStatusChange:u}){const[a,g]=l.useState({open:!1,id:null,action:null});function C(){const t=document.querySelector('meta[name="csrf-token"]');return(t==null?void 0:t.content)||""}const ue=t=>t.map(s=>({...s,expected_rate:s.expected_rate!==void 0&&s.expected_rate!==null?Number(s.expected_rate):null,amount:s.amount!==void 0&&s.amount!==null?Number(s.amount):null,date_of_defense:s.date_of_defense||s.scheduled_date||void 0,mode_defense:s.mode_defense||s.defense_mode||void 0})),[_,N]=l.useState([]);l.useEffect(()=>{fetch("/assistant/all-defense-list/data").then(t=>t.json()).then(t=>{N(t.map(s=>({...s,expected_rate:s.expected_rate!==void 0&&s.expected_rate!==null?Number(s.expected_rate):null,amount:s.amount!==void 0&&s.amount!==null?Number(s.amount):null,date_of_defense:s.date_of_defense||s.scheduled_date||void 0,mode_defense:s.mode_defense||s.defense_mode||void 0,aa_verification_id:s.aa_verification_id})))})},[]);const[R,Q]=l.useState(""),[v,I]=l.useState([]),[b,X]=l.useState([]),[c,H]=l.useState(),[B,fe]=l.useState(null),[E,Y]=l.useState(1),[xe,je]=l.useState({pending:[],rejected:[],approved:[]}),[o,ge]=l.useState({title:!0,presenter:!0,adviser:!0,submitted_at:!0,program:!0,amount_paid:!0,reference_no:!0,coordinator:!0,scheduled_date:!0,actions:!0,date:!0,mode:!0,type:!1,priority:!1,status:!0}),[Z,w]=l.useState(!1),[f,S]=l.useState(null),[ee,D]=l.useState(!1),[y,A]=l.useState(!1),te=l.useCallback(async()=>{A(!0);try{const t=await fetch("/assistant/all-defense-list/data");if(t.ok){const s=await t.json();N(ue(s))}else m.error("Failed to fetch defense requests")}catch{m.error("Error fetching defense requests")}finally{A(!1)}},[]);l.useEffect(()=>{h||te()},[te,h]);const se=l.useMemo(()=>{let t=_;if(R){const s=R.toLowerCase();t=t.filter(i=>`${i.first_name} ${i.last_name} ${i.thesis_title}`.toLowerCase().includes(s))}if(v.length&&(t=t.filter(s=>v.some(i=>(s.aa_verification_status||"").trim().toLowerCase()===i.trim().toLowerCase()))),b.length&&(t=t.filter(s=>b.some(i=>(s.defense_type||"").trim().toLowerCase()===i.trim().toLowerCase()))),c!=null&&c.from&&(c!=null&&c.to)){const s=me(c.from),i=$e(c.to);t=t.filter(r=>{if(!r.date_of_defense)return!1;const p=me(new Date(r.date_of_defense));return Be(p,{start:s,end:i})})}return t},[R,v,b,_,c]),[J,Ge]=l.useState("All"),K=l.useMemo(()=>{let t=se;return J!=="All"&&(t=t.filter(s=>{var i;return(i=s.program)==null?void 0:i.toLowerCase().includes(J.toLowerCase())})),t},[se,J]),O=l.useMemo(()=>B?[...K].sort((t,s)=>{const i=t.date_of_defense?new Date(t.date_of_defense).getTime():0,r=s.date_of_defense?new Date(s.date_of_defense).getTime():0;return B==="asc"?i-r:r-i}):K,[K,B]),L=20,ve=Math.max(1,Math.ceil(O.length/L)),[$,ie]=l.useState([]);l.useEffect(()=>{ie(O.slice((E-1)*L,E*L))},[O,E,L]);const d=xe.all||[],k=t=>je(s=>({...s,all:t})),ne=$.length>0&&$.every(t=>d.includes(t.id)),be=()=>{const t=$.map(s=>s.id);k(ne?d.filter(s=>!t.includes(s)):[...d,...t.filter(s=>!d.includes(s))])},Ce=t=>k(d.includes(t)?d.filter(s=>s!==t):[...d,t]),ye=()=>fe(t=>t==="asc"?"desc":t==="desc"?null:"asc"),x=t=>ge(s=>({...s,[t]:!s[t]})),re=async()=>{try{const t=await fetch("/defense-requests/bulk-remove",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":C(),Accept:"application/json"},body:JSON.stringify({ids:d})}),s=await t.json();t.ok?(N(i=>i.filter(r=>!d.includes(r.id))),k([]),m.success("Deleted")):m.error((s==null?void 0:s.error)||"Delete failed")}catch{m.error("Delete error")}},ae=async()=>{if(!f||d.length===0){w(!1),S(null);return}A(!0);try{const t=_.filter(r=>d.includes(r.id)).map(r=>r.aa_verification_id).filter(r=>!!r),s=f==="approve"?"verified":f==="reject"?"rejected":"pending";(await fetch("/aa/payment-verifications/bulk-update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":C()},body:JSON.stringify({verification_ids:t,status:s})})).ok?(N(r=>r.map(p=>t.includes(p.aa_verification_id??-1)?{...p,aa_verification_status:s}:p)),k([]),m.success("Bulk AA status updated")):m.error("Bulk AA update failed")}catch{m.error("Bulk AA update error")}finally{A(!1),w(!1),S(null)}},Ne=async(t,s)=>{try{(await fetch(`/defense-requests/${t}/priority`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":C(),Accept:"application/json"},body:JSON.stringify({priority:s})})).ok?(N(r=>r.map(p=>p.id===t?{...p,priority:s}:p)),m.success("Priority updated")):m.error("Failed to update priority")}catch{m.error("Error updating priority")}};function ke(){const t=_.filter(i=>d.includes(i.id)),s=window.open("","","height=900,width=1200");s&&(s.document.write(`
      <html>
        <head>
          <title>Print Selected</title>
          <style>
            body{font-family:Arial;padding:32px}
            h1{font-size:18px;margin:0 0 16px}
            table{border-collapse:collapse;width:100%}
            th,td{border:1px solid #ccc;padding:6px 8px;font-size:12px;text-align:left}
          </style>
        </head>
        <body>
          <h1>Defense Requests</h1>
          <table>
            <thead><tr><th>ID</th><th>Title</th><th>Presenter</th><th>Type</th><th>Priority</th><th>Status</th></tr></thead>
            <tbody>
              ${t.map(i=>`<tr>
                <td>${i.id}</td>
                <td>${i.thesis_title}</td>
                <td>${i.first_name} ${i.last_name}</td>
                <td>${i.defense_type}</td>
                <td>${i.priority}</td>
                <td>${i.status}</td>
              </tr>`).join("")}
            </tbody>
          </table>
          <script>window.print()<\/script>
        </body>
      </html>
    `),s.document.close())}const _e=l.useCallback(async(t,s)=>{try{(await fetch(`/defense-requests/${t}/status`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":C(),Accept:"application/json"},body:JSON.stringify({status:s})})).ok?(N(r=>r.map(p=>p.id===t?{...p,status:s}:p)),u==null||u(t,s),m.success(`Request #${t} set to ${s}`)):m.error("Failed to update status")}catch{m.error("Error updating status")}},[u]);function U(t,s){g({open:!0,id:t,action:s})}async function le(){if(!a.id||!a.action){g({open:!1,id:null,action:null});return}let t="Pending";a.action==="approve"?t="Approved":a.action==="reject"?t="Rejected":a.action==="retrieve"&&(t="Pending"),await _e(a.id,t),g({open:!1,id:null,action:null})}async function M(t){if(d.length!==0){A(!0);try{const s=_.filter(r=>d.includes(r.id)).map(r=>r.aa_verification_id).filter(r=>!!r);(await fetch("/aa/payment-verifications/bulk-update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":C()},body:JSON.stringify({verification_ids:s,status:t})})).ok?(N(r=>r.map(p=>s.includes(p.aa_verification_id??-1)?{...p,aa_verification_status:t}:p)),k([]),m.success(`Bulk updated to ${t.replace("_"," ")}`)):m.error("Bulk update failed")}catch{m.error("Bulk update error")}finally{A(!1)}}}return l.useEffect(()=>{let t;return y?t=m.loading("Loading defense requests..."):m.dismiss(),()=>{t&&m.dismiss(t)}},[y]),e.jsxs(e.Fragment,{children:[e.jsx(we,{title:"Defense Requests"}),e.jsx(De,{richColors:!0,position:"bottom-right"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-2 rounded-xl pt-5 pr-3 pl-3 relative overflow-x-hidden",children:[e.jsxs("div",{className:"w-full bg-white dark:bg-zinc-900 border border-border rounded-lg overflow-hidden mb-2",children:[e.jsxs("div",{className:"flex flex-row dark:bg-zinc-900 items-center justify-between w-full p-3 border-b bg-white",children:[e.jsxs("div",{className:"flex dark:bg-zinc-900 items-center gap-2",children:[e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-rose-500/10 border border-rose-500",children:e.jsx(Ee,{className:"h-5 w-5 text-rose-500"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-base font-semibold",children:"Defense Requests"}),e.jsx("span",{className:"block text-xs text-muted-foreground",children:"This section shows all defense requests. Search, filter, and manage requests."})]})]}),e.jsx("div",{className:"flex items-center gap-2 ml-auto",children:e.jsxs(qe,{children:[e.jsx(Re,{asChild:!0,children:e.jsxs(n,{variant:"outline",size:"sm",className:"h-8 px-2 flex items-center gap-1",children:[e.jsx(Ve,{className:"h-4 w-4"}),"Columns"]})}),e.jsxs(Oe,{align:"end",className:"min-w-[220px]",children:[e.jsx(j,{checked:o.title,onCheckedChange:()=>x("title"),children:"Thesis Title"}),e.jsx(j,{checked:o.presenter,onCheckedChange:()=>x("presenter"),children:"Presenter"}),e.jsx(j,{checked:o.adviser,onCheckedChange:()=>x("adviser"),children:"Adviser"}),e.jsx(j,{checked:o.submitted_at,onCheckedChange:()=>x("submitted_at"),children:"Submitted At"}),e.jsx(j,{checked:o.program,onCheckedChange:()=>x("program"),children:"Program"}),e.jsx(j,{checked:o.expected_amount,onCheckedChange:()=>x("expected_amount"),children:"Expected Amount"}),e.jsx(j,{checked:o.amount_paid,onCheckedChange:()=>x("amount_paid"),children:"Amount Paid"}),e.jsx(j,{checked:o.reference_no,onCheckedChange:()=>x("reference_no"),children:"Reference/OR No."}),e.jsx(j,{checked:o.coordinator,onCheckedChange:()=>x("coordinator"),children:"Program Coordinator"}),e.jsx(j,{checked:o.scheduled_date,onCheckedChange:()=>x("scheduled_date"),children:"Scheduled Date"}),e.jsx(j,{checked:o.actions,onCheckedChange:()=>x("actions"),children:"Actions"})]})]})})]}),e.jsx("div",{className:"flex dark:bg-zinc-900 items-center justify-between gap-2 px-4 py-3 border-b bg-white",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{type:"text",startIcon:Me,placeholder:"Search...",value:R,onChange:t=>{Q(t.target.value),Y(1)},className:"max-w-xs text-sm h-8",disabled:y}),e.jsxs(V,{children:[e.jsx(W,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"h-8 px-3 rounded-md border-dashed text-xs flex items-center gap-1",children:[e.jsx(de,{className:"h-4 w-4 mr-1"}),"Status",v.length>0&&e.jsx("span",{className:"ml-1 px-2 py-0.5 rounded-full text-xs bg-muted",children:v.length>1?`${v.length} selected`:v[0]})]})}),e.jsxs(G,{className:"w-44 p-1",side:"bottom",align:"start",children:[["Pending","Verified","Rejected"].map(t=>e.jsxs("div",{onClick:()=>I(s=>s.includes(t)?s.filter(i=>i!==t):[...s,t]),className:"flex items-center gap-2 p-2 rounded hover:bg-muted cursor-pointer",children:[e.jsx(oe,{checked:v.includes(t)}),e.jsx("span",{className:"text-sm",children:t})]},t)),e.jsx(n,{size:"sm",variant:"ghost",className:"w-full mt-2",onClick:()=>I([]),children:"Clear"})]})]}),e.jsxs(V,{children:[e.jsx(W,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"h-8 px-3 rounded-md border-dashed text-xs flex items-center gap-1",children:[e.jsx(de,{className:"h-4 w-4 mr-1"}),"Type",b.length>0&&e.jsx("span",{className:"ml-1 px-2 py-0.5 rounded-full text-xs bg-muted",children:b.length>1?`${b.length} selected`:b[0]})]})}),e.jsxs(G,{className:"w-44 p-1",side:"bottom",align:"start",children:[Array.from(new Set(_.map(t=>(t.defense_type||"").trim()))).filter(Boolean).map(t=>e.jsxs("div",{onClick:()=>X(s=>s.includes(t)?s.filter(i=>i!==t):[...s,t]),className:"flex items-center gap-2 p-2 rounded hover:bg-muted cursor-pointer",children:[e.jsx(oe,{checked:b.includes(t)}),e.jsx("span",{className:"text-sm",children:t})]},t)),e.jsx(n,{size:"sm",variant:"ghost",className:"w-full mt-2",onClick:()=>X([]),children:"Clear"})]})]}),e.jsxs(V,{children:[e.jsx(W,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"h-8 px-3 rounded-md border-dashed text-xs flex items-center gap-1",children:[e.jsx(Fe,{size:14}),"Date",(c==null?void 0:c.from)&&(c==null?void 0:c.to)&&e.jsx("span",{className:"ml-1 px-2 py-0.5 rounded-full text-xs bg-muted",children:`${pe(c.from,"MMM dd")} - ${pe(c.to,"MMM dd")}`})]})}),e.jsxs(G,{className:"w-auto p-2",side:"bottom",align:"start",children:[e.jsx(ze,{mode:"range",selected:c,onSelect:H}),e.jsx(n,{size:"sm",variant:"ghost",className:"w-full mt-2",onClick:()=>H(void 0),children:"Clear Dates"})]})]}),(v.length>0||b.length>0||(c==null?void 0:c.from)||R.trim())&&e.jsxs(n,{variant:"ghost",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>{I([]),X([]),H(void 0),Q("")},children:[e.jsx(ce,{size:14})," Reset"]})]})})]}),d.length>0&&e.jsxs("div",{className:"fixed left-1/2 z-30 -translate-x-1/2 bottom-4 md:bottom-6 flex items-center gap-1 bg-white border border-border shadow-lg rounded-lg px-4 py-1 text-xs animate-in fade-in slide-in-from-bottom-2 dark:bg-muted dark:text-muted-foreground dark:border-border",children:[e.jsxs("span",{className:"font-semibold min-w-[70px] text-center",children:[d.length," selected"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(n,{variant:"ghost",size:"sm",className:"px-3 py-1 h-7 w-auto text-xs flex items-center gap-1",onClick:()=>M("ready_for_finance"),disabled:y,children:[e.jsx(Ie,{size:13,className:"text-blue-600"}),"Ready for Finance"]}),e.jsxs(n,{variant:"ghost",size:"sm",className:"px-3 py-1 h-7 w-auto text-xs flex items-center gap-1",onClick:()=>M("in_progress"),disabled:y,children:[e.jsx(Xe,{size:13,className:"text-amber-600"}),"In Progress"]}),e.jsxs(n,{variant:"ghost",size:"sm",className:"px-3 py-1 h-7 w-auto text-xs flex items-center gap-1",onClick:()=>M("paid"),disabled:y,children:[e.jsx(He,{size:13,className:"text-emerald-600"}),"Paid"]}),e.jsxs(n,{variant:"ghost",size:"sm",className:"px-3 py-1 h-7 w-auto text-xs flex items-center gap-1",onClick:()=>M("completed"),disabled:y,children:[e.jsx(Je,{size:13,className:"text-green-600"}),"Mark as Completed"]}),e.jsxs(n,{variant:"ghost",size:"sm",className:"px-3 py-1 h-7 w-auto text-xs flex items-center gap-1",onClick:ke,disabled:y,children:[e.jsx(Ke,{size:13}),"Print"]}),e.jsx(n,{variant:"ghost",size:"icon",className:"px-1 py-1 h-7 w-auto text-xs flex items-center",onClick:()=>k([]),"aria-label":"Clear selection",children:e.jsx(ce,{size:14})})]})]}),e.jsx("div",{className:"flex-1 flex flex-col gap-4 w-full min-h-screen",children:e.jsxs("div",{className:"flex flex-col w-full min-h-0 overflow-x-hidden",children:[e.jsx("div",{className:"relative w-full max-w-full",children:e.jsx("div",{className:"w-full max-w-full",children:e.jsx(Te,{paged:$,setPaged:ie,columns:{title:o.title,presenter:o.presenter,adviser:o.adviser,submitted_at:o.submitted_at,program:o.program,expected_amount:o.expected_amount,amount_paid:o.amount_paid,reference_no:o.reference_no,coordinator:o.coordinator,scheduled_date:o.scheduled_date,status:!0,type:o.type,priority:o.priority,actions:o.actions},selected:d,toggleSelectOne:Ce,headerChecked:ne,toggleSelectAll:be,toggleSort:ye,sortDir:B,onPriorityChange:Ne,onRowApprove:t=>U(t,"approve"),onRowReject:t=>U(t,"reject"),onRowRetrieve:t=>U(t,"retrieve"),onViewDetails:t=>Se.visit(`/assistant/all-defense-list/${t}/details`),totalCount:O.length})})}),e.jsx(We,{page:E,totalPages:ve,onPageChange:Y,showingCount:$.length,totalCount:O.length})]})}),e.jsx(T,{open:a.open,onOpenChange:t=>{t||g({open:!1,id:null,action:null})},children:e.jsxs(z,{children:[e.jsx(P,{children:"Confirm Action"}),e.jsx(q,{children:a.action==="approve"?"Please review before approving.":"Apply this status change?"}),e.jsxs("div",{className:"mt-3 text-sm space-y-3",children:[a.id&&e.jsxs("p",{children:["Request #",a.id,": Set to"," ",e.jsx("span",{className:"font-semibold",children:a.action==="approve"?"Approved":a.action==="reject"?"Rejected":"Pending"}),"?"]}),a.action==="approve"&&e.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-md border bg-muted/40 p-5",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:e.jsx(F,{className:"h-14 w-14 text-primary"})}),e.jsx("p",{className:"text-center text-sm leading-relaxed",children:"Approving this defense request authorizes the use of your signature on the official defense documents."})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(n,{variant:"ghost",onClick:()=>g({open:!1,id:null,action:null}),children:"Cancel"}),e.jsx(n,{onClick:le,children:"Confirm"})]})]})}),e.jsx(T,{open:Z,onOpenChange:t=>{t||(w(!1),S(null))},children:e.jsxs(z,{children:[e.jsx(P,{children:"Status Update"}),e.jsx(q,{children:f==="approve"?"Review before bulk approval.":"Confirm the status change."}),e.jsxs("div",{className:"space-y-3 mt-2 text-sm",children:[e.jsxs("p",{children:["Update ",d.length," request",d.length!==1&&"s"," to"," ",e.jsx("span",{className:"font-semibold",children:f==="approve"?"Verified":f==="reject"?"Rejected":"Pending"}),"?"]}),f==="approve"&&e.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-md border bg-muted/40 p-5",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:e.jsx(F,{className:"h-14 w-14 text-primary"})}),e.jsx("p",{className:"text-center text-sm leading-relaxed",children:"Approving these defense requests authorizes the use of your signature on their official defense documents."})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"ghost",onClick:()=>{w(!1),S(null)},children:"Cancel"}),e.jsx(n,{onClick:ae,children:"Confirm"})]})]})]})}),e.jsx(T,{open:ee,onOpenChange:D,children:e.jsxs(z,{children:[e.jsx(P,{children:"Delete Requests"}),e.jsx(q,{children:"This action cannot be undone."}),e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsxs("p",{className:"text-sm",children:["Delete ",d.length," selected request(s)?"]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"ghost",onClick:()=>D(!1),children:"Cancel"}),e.jsx(n,{variant:"destructive",onClick:async()=>{await re(),D(!1)},children:"Delete"})]})]})]})})]}),e.jsx(T,{open:a.open,onOpenChange:t=>{t||g({open:!1,id:null,action:null})},children:e.jsxs(z,{children:[e.jsx(P,{children:"Confirm Action"}),e.jsx(q,{children:a.action==="approve"?"Please review before approving.":"Apply this status change?"}),e.jsxs("div",{className:"mt-3 text-sm space-y-3",children:[a.id&&e.jsxs("p",{children:["Request #",a.id,": Set to"," ",e.jsx("span",{className:"font-semibold",children:a.action==="approve"?"Approved":a.action==="reject"?"Rejected":"Pending"}),"?"]}),a.action==="approve"&&e.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-md border bg-muted/40 p-5",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:e.jsx(F,{className:"h-14 w-14 text-primary"})}),e.jsx("p",{className:"text-center text-sm leading-relaxed",children:"Approving this defense request authorizes the use of your signature on the official defense documents."})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(n,{variant:"ghost",onClick:()=>g({open:!1,id:null,action:null}),children:"Cancel"}),e.jsx(n,{onClick:le,children:"Confirm"})]})]})}),e.jsx(T,{open:Z,onOpenChange:t=>{t||(w(!1),S(null))},children:e.jsxs(z,{children:[e.jsx(P,{children:"Status Update"}),e.jsx(q,{children:f==="approve"?"Review before bulk approval.":"Confirm the status change."}),e.jsxs("div",{className:"space-y-3 mt-2 text-sm",children:[e.jsxs("p",{children:["Update ",d.length," request",d.length!==1&&"s"," to"," ",e.jsx("span",{className:"font-semibold",children:f==="approve"?"Verified":f==="reject"?"Rejected":"Pending"}),"?"]}),f==="approve"&&e.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-md border bg-muted/40 p-5",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:e.jsx(F,{className:"h-14 w-14 text-primary"})}),e.jsx("p",{className:"text-center text-sm leading-relaxed",children:"Approving these defense requests authorizes the use of your signature on their official defense documents."})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"ghost",onClick:()=>{w(!1),S(null)},children:"Cancel"}),e.jsx(n,{onClick:ae,children:"Confirm"})]})]})]})}),e.jsx(T,{open:ee,onOpenChange:D,children:e.jsxs(z,{children:[e.jsx(P,{children:"Delete Requests"}),e.jsx(q,{children:"This action cannot be undone."}),e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsxs("p",{className:"text-sm",children:["Delete ",d.length," selected request(s)?"]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"ghost",onClick:()=>D(!1),children:"Cancel"}),e.jsx(n,{variant:"destructive",onClick:async()=>{await re(),D(!1)},children:"Delete"})]})]})]})})]})}function os(h){if(h.withLayout){const u=[{title:"Dashboard",href:"/dashboard"},{title:"Defense Requests",href:"/assistant/all-defense-list"}];return e.jsx(Pe,{breadcrumbs:u,children:e.jsx(he,{...h})})}return e.jsx(he,{...h})}export{os as default};
