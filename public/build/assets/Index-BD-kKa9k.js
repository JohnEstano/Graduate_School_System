import{K as h,r as i,j as e,L as j}from"./app-c5ij2Uy8.js";import{A as g}from"./app-layout-CoKXZjt7.js";import{B as p}from"./button-Bw6OnloJ.js";import y from"./PaymentForm-Byvy1YiJ.js";import v from"./display-payment-yq-kVq3K.js";import{D as N,a as k}from"./dialog-BwPQxLPS.js";import{R as w}from"./receipt-Cb46pmdQ.js";import{C as S}from"./check--NhZ1PHA.js";import"./index-C6aQ0K-7.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./input-CzpjdScL.js";import"./index-DMzRbVW9.js";import"./index-DQWsGEEw.js";import"./index-CQBUWWAm.js";import"./x-b-iKzdpp.js";import"./createLucideIcon-QXbACLHs.js";import"./tooltip-83sBEdgp.js";import"./floating-ui.react-dom-Dei2gU0X.js";import"./separator-D3p5J1Rh.js";import"./index-B09PGLNS.js";import"./chevron-right-Ck80R1L5.js";import"./dropdown-menu-BwXzysW_.js";import"./index-CV-6as2J.js";import"./index-bpbdPemA.js";import"./index-k7YYal9B.js";import"./settings-DxBpoil_.js";import"./chevrons-up-down-D9rV0uwe.js";import"./file-text-DKQ02F9u.js";import"./graduation-cap-tQeZTHqc.js";import"./users-pq8v5pDb.js";import"./credit-card-Dc2ElWmq.js";import"./badge-B7RMVcXi.js";import"./circle-check-big-REqj7tp6.js";import"./info-DAOKqyYD.js";import"./label-BNkzA3Iq.js";import"./calendar-Bx5rz3fW.js";import"./format-C3S3_MiX.js";import"./endOfWeek-KFoFvLmK.js";import"./differenceInCalendarMonths-DPjP5_IA.js";import"./normalizeInterval-vmjBzA5w.js";import"./endOfMonth-CYiy1H1z.js";import"./isSameDay-BpBRZswP.js";import"./isSameMonth-cQo4_rH8.js";import"./chevron-left-bO_x8oOH.js";import"./chevron-down-DGQt6VpT.js";import"./calendar-2wm08bbg.js";import"./paperclip-BdB9cqmg.js";import"./formatDistanceToNow-BgE947HP.js";import"./constructNow-bMnG1Fhl.js";import"./endOfDay-BVBcANM3.js";import"./clock-0Axzbjc3.js";import"./circle-x-CAYAF0N4.js";import"./badge-check-CO5k3EbP.js";function Ce(){const{props:c}=h(),{student:d,canSubmit:x,payment:t}=c,o=i.useMemo(()=>({canSubmit:null,debugOpen:!1}),[]),n=x,a=n&&(!t||t.status==="rejected"),[u,m]=i.useState(!1),[f,l]=i.useState(!1),b=i.useMemo(()=>{const r=t==null?void 0:t.status,s="inline-flex items-center rounded-full px-2 py-1 text-xs font-medium";return r==="approved"?e.jsx("span",{className:`${s} bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300`,children:"Approved"}):r==="rejected"?e.jsx("span",{className:`${s} bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300`,children:"Rejected"}):r==="pending"?e.jsx("span",{className:`${s} bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300`,children:"Pending"}):e.jsx("span",{className:`${s} bg-slate-100 text-slate-800 dark:bg-slate-800/50 dark:text-slate-300`,children:"No submission"})},[t==null?void 0:t.status]);return e.jsxs(g,{children:[e.jsx(j,{title:"Comprehensive Exam â€¢ Payment"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-5 pt-5 px-7 overflow-auto",children:e.jsxs("div",{className:"w-full px-2 bg-white border border-zinc-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between w-full p-3 border-b",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-rose-500/10 border border-rose-500",children:e.jsx(w,{className:"h-5 w-5 text-rose-400"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-base font-semibold",children:"Comprehensive Exam Payment"}),e.jsx("p",{className:"block text-xs text-muted-foreground",children:"Submit your official receipt for verification."}),e.jsx("div",{className:"mt-1 text-xs",children:b})]})]}),e.jsx(p,{className:"bg-rose-500 text-sm px-5 rounded-md",onClick:()=>m(!0),disabled:!a&&!o.debugOpen,title:a||o.debugOpen?"Submit payment":n?"Payment already submitted":"You can submit payment only after your comprehensive application is approved.",children:"Submit payment"})]}),e.jsx("div",{className:"p-1",children:t?e.jsx("div",{id:"payment-card",children:e.jsx(v,{payment:{id:t.payment_id,status:t.status,or_number:t.or_number,payment_date:t.payment_date,receipt_image:t.receipt_image,remarks:t.remarks??null,created_at:t.created_at??null},student:d})}):e.jsx("div",{className:"p-6 text-center text-sm text-muted-foreground",children:"No payment submitted yet."})})]})}),e.jsx(N,{open:u,onOpenChange:r=>{m(r),r||l(!1)},children:e.jsxs(k,{className:"flex h-[70vh] w-full max-w-3xl flex-col",children:[" ",f?e.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center space-y-6 px-4",children:[e.jsx(S,{size:48,className:"text-rose-500"}),e.jsx("h2",{className:"text-2xl font-semibold",children:"Payment Submitted!"}),e.jsx("p",{className:"text-center text-gray-600",children:"Your payment has been saved successfully."}),e.jsx(p,{onClick:()=>{m(!1),setTimeout(()=>{var r;(r=document.getElementById("payment-card"))==null||r.scrollIntoView({behavior:"smooth",block:"start"})},100)},className:"bg-rose-500",children:"Done"})]}):e.jsx("div",{className:"flex-1 overflow-auto px-2",children:e.jsx(y,{canSubmit:a||o.debugOpen,payment:t,onSuccess:()=>l(!0)})})]})})]})}export{Ce as default};
