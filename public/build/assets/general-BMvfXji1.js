import{r as i,j as e,L as b}from"./app-CQngmq00.js";import{S as x}from"./switch-B12NJufO.js";import{D as j,a as S,e as D,b as C,c as w,f as y}from"./dialog-D-tH9FDm.js";import{B as m}from"./button-Cw9tQIeO.js";import{A as k}from"./app-layout-C76KB2Lm.js";import{S as N}from"./layout-DfjdbQgR.js";import"./index-DRp-GX9j.js";import"./index-CDDLQrUy.js";import"./utils-jAU0Cazi.js";import"./index-BSk2xfhC.js";import"./index-BZgaE142.js";import"./x-B3RMhnUQ.js";import"./createLucideIcon-pjYyoixj.js";import"./index-DZZQifJx.js";import"./input-izsDzGd9.js";import"./tooltip-BvePKNvs.js";import"./floating-ui.react-dom-DL84dtXf.js";import"./separator-CMC4qrzs.js";import"./index-ahz1tZ6M.js";import"./chevron-right-QGs8lTP5.js";import"./dropdown-menu-BQlfF7jf.js";import"./index-CgLqTVh4.js";import"./index-VBHUZLOo.js";import"./index-BfMlnZ5P.js";import"./index-Csh4Fj4k.js";import"./check-BEGkAg7k.js";import"./avatar-DUph8BC-.js";import"./settings-CDLWUJwV.js";import"./users-DZ67WViD.js";import"./graduation-cap-DHFIPOzN.js";import"./file-text-Buh9X5tE.js";import"./dollar-sign-CkMbILE9.js";import"./send-BvMnN6yE.js";import"./credit-card-Cid_txJ6.js";import"./tabs-DJOYkXMD.js";import"./badge-BsPMjMb7.js";import"./circle-check-big-PSYRp90q.js";import"./info-BJ9Jpdwx.js";import"./sun-5m6UvoyG.js";function de({role:c,initialAcceptDefense:o}){const[p,d]=i.useState(o??!1),[t,f]=i.useState(o??!1),[u,s]=i.useState(!1),[a,r]=i.useState(!1);function g(n){f(n),s(!0)}async function h(){var l;r(!0),s(!1),d(t);const n=(l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content");await fetch("/api/settings/general",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":n||""},body:JSON.stringify({acceptDefense:t})}),r(!1)}return e.jsxs(k,{breadcrumbs:[{title:"General",href:"/settings/general"}],children:[e.jsx(b,{title:"General Settings"}),e.jsx(N,{children:e.jsx("div",{className:"space-y-8",children:c==="Coordinator"&&e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x,{checked:p,onCheckedChange:g,disabled:a,"aria-label":"Accept defense submissions"}),e.jsx("span",{className:"text-base font-medium",children:"Accept defense submissions"})]}),e.jsx("div",{className:"text-sm text-muted-foreground max-w-lg",children:"When enabled, students can submit defense requirements. When disabled, submissions are blocked. Only applicable to your program."}),e.jsx(j,{open:u,onOpenChange:s,children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(C,{className:"text-base font-semibold",children:t?"Enable Defense Submissions?":"Disable Defense Submissions?"}),e.jsx(w,{className:"text-sm",children:t?"Enabling this will allow students to submit defense requirements.":"Disabling this will block all new defense requirement submissions from students. Existing workflows will not be affected."})]}),e.jsxs(y,{children:[e.jsx(m,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),e.jsx(m,{onClick:h,disabled:a,children:"Confirm"})]})]})})]})})})]})}export{de as default};
