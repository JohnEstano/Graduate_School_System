import{K as L,r as a,j as e,$ as _}from"./app-BAKMM9W6.js";import W from"./defense-status-widget-BDiOH-M2.js";import P from"./weekly-defense-schedule-widget-Csr2IZH9.js";import U from"./quick-actions-widget-DxpEMJ3P.js";import B from"./exam-eligibility-widget-BNd04oWy.js";import{C as y,a as M,b as G,c as H}from"./card-DwLtnUhU.js";import{C as w}from"./clipboard-list-BeCyxD2L.js";import{C as O}from"./calendar-days-6cPOye_8.js";import{B as $}from"./badge-dollar-sign-Ciqfzy1N.js";import{U as V}from"./users-t5r6UxGv.js";import{S as I,M as K}from"./sun-D0NfJtcj.js";import{C as Q}from"./circle-alert-BubI1Ih7.js";import{T as Y}from"./trending-up-FSP76S9w.js";import{c as p}from"./createLucideIcon-BSNBS9Xz.js";import{B as J}from"./book-open-FnWChekc.js";import{U as X}from"./user-plus-w31WTm09.js";import{F as N}from"./file-text-Bhi2OKUW.js";import"./graduation-cap-CyBvkmsT.js";import"./chevron-right-DZ7e7qvM.js";import"./hourglass-C_5Ol5Yl.js";import"./x-BVoq4DiS.js";import"./check-DCZqiU_u.js";import"./calendar-X1sSFtzx.js";import"./skeleton-tKFykgei.js";import"./utils-jAU0Cazi.js";import"./format-HX8DKPSU.js";import"./en-US-BA9orzCf.js";import"./isSameDay-DUlCFK42.js";import"./parseISO-CbXPh3Al.js";import"./tooltip-B2Ch4P2D.js";import"./index-CUQ5MhIm.js";import"./index-CEqJL0NP.js";import"./floating-ui.react-dom-CqLEll0E.js";import"./user-round-BXdc0yRX.js";import"./settings-CXr5fuO8.js";import"./receipt-Ze_0gq-C.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ee=p("ArrowRight",Z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],se=p("SquareCheckBig",te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],re=p("Square",ae);function ie(){return new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}function ne(){const i=new Date().getHours();return i>=6&&i<18}const le=[{title:"NFL Big Data Bowl 2026 - Analytics",description:"Understand player movement while competing for prizes.",featured:"Featured · Hackathon",entrants:"1777 Entrants",prize:"$50,000",time:"2 months to go",image:"https://static01.nfl.com/nfl-big-data-bowl.png"},{title:"Graduate Research Guide",description:"A comprehensive guide for graduate research best practices.",featured:"Guide · Research",entrants:"All Students",prize:"Free",time:"Always available",image:"https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=400&q=80"},{title:"Scholarship Opportunities",description:"Find scholarships you may be eligible for.",featured:"Scholarship · Funding",entrants:"Open",prize:"Varies",time:"Rolling",image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80"},{title:"Thesis Formatting Workshop",description:"Learn how to format your thesis for submission.",featured:"Workshop · Academic",entrants:"Limited slots",prize:"Free",time:"Next week",image:"https://images.unsplash.com/photo-1513258496099-48168024aec0?auto=format&fit=crop&w=400&q=80"},{title:"Career Counseling",description:"Get advice on your career path after graduation.",featured:"Service · Counseling",entrants:"By appointment",prize:"Free",time:"Ongoing",image:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=400&q=80"}],oe=[{icon:e.jsx(X,{className:"w-5 h-5 text-zinc-900 dark:text-zinc-100"}),title:"Register your adviser",description:e.jsxs(e.Fragment,{children:["Add your adviser for your subject course Thesis and Dissertation."," ",e.jsx("a",{href:"/settings",className:"underline text-rose-600 dark:text-rose-300 font-medium hover:text-rose-700 dark:hover:text-rose-200",children:"Go to settings"})," ","and link your adviser using their code or contact your adviser for registration."]}),checked:!1},{icon:e.jsx(N,{className:"w-5 h-5 text-zinc-900 dark:text-zinc-100"}),title:"Apply for Comprehensive Exam",description:"Check eligibility and submit your comprehensive exam application.",checked:!1},{icon:e.jsx(N,{className:"w-5 h-5 text-zinc-900 dark:text-zinc-100"}),title:"Submit Defense Requirement",description:"Upload your requirements for Proposal, Prefinal, or Final defense (Masteral/Doctorate).",checked:!1},{icon:e.jsx(w,{className:"w-5 h-5 text-zinc-900 dark:text-zinc-100"}),title:"Complete Oral Defense Presentation",description:"Prepare and complete your oral defense presentation as scheduled.",checked:!1}];function st(){var j,v;const i=L().props,{auth:{user:t},defenseRequirement:ce,defenseRequest:de}=i,m=i.defenseRequests??[],[f,u]=a.useState([]),[me,xe]=a.useState([]),[k,he]=a.useState([]),[x,g]=a.useState(!0),[pe,fe]=a.useState(!0),[z,S]=a.useState(!0),[D,R]=a.useState(new Date().getDay()),C=[{label:"Sun",value:0},{label:"Mon",value:1},{label:"Tue",value:2},{label:"Wed",value:3},{label:"Thu",value:4},{label:"Fri",value:5},{label:"Sat",value:6}];a.useEffect(()=>{const s=o=>{let n=o.filter(d=>{const c=d.submitted_by;return c===(t==null?void 0:t.id)||c===String(t==null?void 0:t.id)});n.length===0&&(n=o);const h=[...n].sort((d,c)=>{const F=d.created_at?new Date(d.created_at).getTime():0;return(c.created_at?new Date(c.created_at).getTime():0)-F});u(h)};(async()=>{g(!0);try{const o=await fetch("/defense-request",{headers:{Accept:"application/json"}});if(!o.ok)throw new Error("bad");const n=await o.json(),h=Array.isArray(n)?n:n.defenseRequests??[];s(h)}catch{u([])}finally{g(!1)}})()},[t==null?void 0:t.id]);const b=m&&m.length>0?m:f,q=((j=i.recentPayment)==null?void 0:j.amount)??0,A=[{title:"Defense Submissions",value:f.length,description:"Total defense requests submitted",icon:e.jsx(w,{className:"size-4 font-extrabold text-zinc-800 dark:text-zinc-200"})},{title:"Today's Schedules",value:k.length,description:"Events scheduled for today",icon:e.jsx(O,{className:"size-4 font-extrabold text-zinc-800 dark:text-zinc-200"})},{title:"Recent Payment",value:`₱${q.toLocaleString()}`,description:"Most recent payment made",icon:e.jsx($,{className:"size-4 font-extrabold text-zinc-800 dark:text-zinc-200"})},{title:"Exam Eligibility",value:e.jsx(B,{simple:!0}),description:"Check if you are eligible for exams",icon:e.jsx(V,{className:"size-4 font-extrabold text-zinc-800 dark:text-zinc-200"})}],[r,ue]=a.useState(null),[ge,E]=a.useState(!1),[be,T]=a.useState(!0);return a.useEffect(()=>{if(!r)return;const s=()=>{E(r.scrollLeft>0),T(r.scrollLeft+r.clientWidth<r.scrollWidth-5)};return r.addEventListener("scroll",s),s(),()=>r.removeEventListener("scroll",s)},[r]),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-auto bg-white dark:bg-background",children:x?e.jsxs("div",{className:"w-full min-h-[70vh] bg-zinc-100 dark:bg-zinc-900 flex flex-col gap-4 p-0 m-0",children:[e.jsx("div",{className:"h-6 w-1/6 rounded bg-zinc-300 dark:bg-zinc-800 mt-8 mx-8"}),e.jsx("div",{className:"h-12 w-3/4 rounded bg-zinc-300 dark:bg-zinc-800 mx-8"}),e.jsx("div",{className:"h-12 w-2/3 rounded bg-zinc-300 dark:bg-zinc-800 mx-8"}),e.jsx("div",{className:"h-[500px] w-full rounded bg-zinc-300 dark:bg-zinc-800 mt-4"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3 mt-5 flex flex-row justify-between items-center relative overflow-hidden",style:{minHeight:"120px"},children:[e.jsxs("div",{className:"flex flex-col pr-8 pl-7",children:[e.jsxs("span",{className:"flex items-center text-xs font-semibold text-gray-700 dark:text-gray-200 mb-1 relative z-10",children:[ne()?e.jsx(I,{className:"mr-1 size-4 text-rose-500"}):e.jsx(K,{className:"mr-1 size-4 text-rose-500"}),ie()]}),e.jsxs("h1",{className:"text-2xl md:text-3xl font-extrabold text-gray-900 dark:text-white relative z-10",children:["Hi, ",t==null?void 0:t.name,"!"]}),e.jsxs("span",{className:"text-xs text-zinc-500 font-extrabold mt-3 relative z-10",children:[(t==null?void 0:t.role)??"Student",(t==null?void 0:t.school_id)&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-1",children:"/"}),e.jsx("span",{className:"font-bold",children:t.school_id})]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-12 w-px mx-4 bg-gray-300 dark:bg-gray-700 opacity-60"}),e.jsx("div",{className:"mr-8",children:e.jsx(U,{userRole:t==null?void 0:t.role})})]})]}),((v=t==null?void 0:t.advisers)==null?void 0:v.length)===0&&z&&e.jsx("div",{className:"mx-7 my-3",children:e.jsxs("div",{className:"bg-rose-50 dark:bg-rose-950 border border-rose-200 dark:border-rose-900 text-rose-900 dark:text-rose-100 flex items-start gap-3 px-6 py-5 rounded-xl relative",children:[e.jsx(Q,{className:"h-5 w-5 text-rose-500 dark:text-rose-400 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-semibold mb-1 block",children:"You have not registered an adviser yet."}),e.jsxs("span",{className:"text-sm",children:["Please register with your adviser using their code or contact your adviser for assistance.",e.jsx(_,{href:"/settings/profile",className:"ml-2 underline text-rose-600 dark:text-rose-300 font-medium hover:text-rose-700 dark:hover:text-rose-200",children:"Go to Settings"})]})]}),e.jsx("button",{onClick:()=>S(!1),className:"absolute top-3 right-4 px-2 py-1 text-base rounded hover:bg-rose-100 dark:hover:bg-rose-900 text-rose-600 dark:text-rose-200","aria-label":"Close",children:"✕"})]})}),e.jsx("div",{className:"w-full max-w-screen-xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 px-7 mb-6",children:A.map((s,l)=>e.jsxs(y,{className:"col-span-1 rounded-xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 shadow-sm flex flex-col justify-between p-0 min-h-0 h-auto transition hover:shadow-md",style:{minWidth:0},children:[e.jsxs("div",{className:"flex items-center justify-between px-5 pt-4 pb-0",children:[e.jsx("div",{className:"text-sm font-extrabold text-gray-800 dark:text-zinc-100",children:s.title}),e.jsx("div",{className:"rounded-full bg-gray-100 dark:bg-zinc-800 p-1.5 flex items-center justify-center",children:s.icon})]}),e.jsxs("div",{className:"flex flex-col px-5 pb-4 pt-2",children:[e.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white leading-none",children:s.value}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 truncate",children:s.description})]})]},l))}),e.jsxs("div",{className:"flex flex-col gap-6 bg-gray-100 dark:bg-muted ms-4 me-4 rounded-xl mt-2 mb-2 px-5 py-8",children:[e.jsxs("div",{className:"w-full mb-2 flex flex-col md:flex-row gap-4",children:[e.jsx(P,{weekDays:C,selectedDay:D,setSelectedDay:R,approvedDefenses:b,referenceDate:new Date,loading:x,studentId:t==null?void 0:t.id}),e.jsx(W,{recentRequests:b,loading:x})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2"})]}),e.jsx("div",{className:"flex justify-center my-6",children:e.jsx("div",{className:"w-[95%] border-t border-zinc-200 dark:border-zinc-800"})}),e.jsx("div",{className:"w-full flex flex-col items-start px-0 py-0",children:e.jsx("div",{className:"w-full py-8 px-7",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Y,{className:"mr-5 w-5 h-5 text-zinc-900 dark:text-zinc-100"}),e.jsx("span",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:"Next Steps"})]}),e.jsx("div",{className:"text-sm font-semibold text-zinc-700 dark:text-zinc-300 mb-6",children:"Things to do"}),e.jsx("div",{className:"flex flex-col gap-2",children:oe.map((s,l)=>e.jsxs("div",{className:"flex items-center gap-4 bg-transparent rounded-lg px-2 py-3 transition",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center justify-center rounded-full border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-950 w-10 h-10",children:s.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-[15px] font-semibold text-zinc-900 dark:text-zinc-100 leading-tight",children:s.title}),e.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-0.5 leading-snug",children:s.description})]}),e.jsx("div",{className:"flex items-center ml-2",children:e.jsx("span",{className:"inline-flex items-center justify-center",children:s.checked?e.jsx(se,{className:"w-5 h-5 text-zinc-400 dark:text-zinc-600"}):e.jsx(re,{className:"w-5 h-5 text-zinc-400 dark:text-zinc-600"})})})]},l))})]})})}),e.jsx("div",{className:"flex justify-center my-6",children:e.jsx("div",{className:"w-[95%] border-t border-zinc-200 dark:border-zinc-800"})}),e.jsxs("div",{className:"flex items-center px-7 pt-4 pb-2",children:[e.jsx(J,{className:"mr-5 text-black"}),e.jsx("span",{className:"text-lg md:text-xl font-extrabold text-zinc-900 dark:text-white",children:"Resources"})]}),e.jsx("div",{className:"w-full pb-8",children:e.jsx("div",{className:"w-full px-7",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:le.map((s,l)=>e.jsx("a",{href:"#",tabIndex:-1,className:"group cursor-pointer block",style:{textDecoration:"none"},children:e.jsxs(y,{className:"flex flex-col justify-between items-start border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 shadow-none group-hover:shadow-md transition-shadow duration-200 w-full aspect-square min-w-[200px] max-w-[260px] min-h-[200px] max-h-[260px]",children:[e.jsxs(M,{className:"flex-1 w-full pt-6 pb-2 px-4",children:[e.jsx(G,{className:"text-base font-bold text-zinc-900 dark:text-white mb-1",children:s.title}),e.jsx("div",{className:"text-sm text-zinc-600 dark:text-zinc-300 mb-2 line-clamp-3",children:s.description})]}),e.jsx(H,{className:"w-full px-4 pb-4 pt-0 flex justify-end",children:e.jsxs("span",{className:"gap-1 text-rose-500 group-hover:text-rose-600 font-semibold flex items-center",children:["Visit ",e.jsx(ee,{className:"w-4 h-4 ml-1"})]})})]})},l))})})})]})})}export{st as default};
