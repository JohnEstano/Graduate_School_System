<<<<<<<< Updated upstream:public/build/assets/dean-dashboard-C4WYOikM.js
import{K as A,r as a,j as e,R as C}from"./app-CQngmq00.js";import R from"./quick-actions-widget-CFXp9tUk.js";import{S as c}from"./skeleton-Dhy5gbzz.js";import{C as P}from"./card-C_emSl4Q.js";import{T as q,a as W,b as h,c as f}from"./tabs-DJOYkXMD.js";import F from"./weekly-defense-schedule-widget-neNTVngQ.js";import L from"./pending-defense-request-widget-Wll2GlDq.js";import M from"./defense-count-BiU_WDs9.js";import{C as v}from"./clipboard-list-D93gqQbk.js";import{C as E}from"./calendar-days-DHLDYaT_.js";import{B as H}from"./badge-dollar-sign-DPXQOWgc.js";import{U as b}from"./users-DZ67WViD.js";import{S as U,M as _}from"./sun-5m6UvoyG.js";import"./tooltip-BvePKNvs.js";import"./index-DRp-GX9j.js";import"./index-CDDLQrUy.js";import"./floating-ui.react-dom-DL84dtXf.js";import"./utils-jAU0Cazi.js";import"./user-round-Re0lcQTC.js";import"./createLucideIcon-pjYyoixj.js";import"./settings-CDLWUJwV.js";import"./receipt-CoKWPx4G.js";import"./book-open-BEj5GOyH.js";import"./calendar-Bi5dAEy5.js";import"./chevron-right-QGs8lTP5.js";import"./graduation-cap-DHFIPOzN.js";import"./format-HX8DKPSU.js";import"./en-US-BA9orzCf.js";import"./isSameDay-DUlCFK42.js";import"./parseISO-CbXPh3Al.js";import"./constructNow-Chb2L4Vx.js";import"./getRoundingMethod-Btu-7J5l.js";import"./button-Cw9tQIeO.js";import"./index-DZZQifJx.js";import"./generateCategoricalChart-RpaH3faT.js";import"./index-BGXDct6C.js";import"./index-Chjiymov.js";import"./AreaChart-Cnc-_-2A.js";import"./YAxis-CFpew_UZ.js";function B(){return new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}function Y(){const s=new Date().getHours();return s>=6&&s<18}function K(s){const l=new Date;return s.filter(i=>{if(!i.scheduled_date)return!1;const r=new Date(i.scheduled_date);return r.getFullYear()===l.getFullYear()&&r.getMonth()===l.getMonth()&&r.getDate()===l.getDate()}).length}function Ce(){const{auth:{user:s}}=A().props,[l,i]=a.useState([]),[r,x]=a.useState([]),[m,j]=a.useState(!0),[y,p]=a.useState(0),[w,g]=a.useState(0),[N,u]=a.useState(0),[k,z]=a.useState(new Date().getDay()),D=[{label:"Sun",value:0},{label:"Mon",value:1},{label:"Tue",value:2},{label:"Wed",value:3},{label:"Thu",value:4},{label:"Fri",value:5},{label:"Sat",value:6}];a.useEffect(()=>{fetch("/defense-requests",{headers:{Accept:"application/json"}}).then(t=>t.ok?t.json():[]).then(t=>{const o=Array.isArray(t)?t:t.defenseRequests??[];i(o);const n=o.filter(d=>(d.normalized_status||d.status)==="Pending");x(n)}).catch(()=>{i([]),x([])}).finally(()=>j(!1)),fetch("/api/panelists",{headers:{Accept:"application/json"}}).then(t=>t.ok?t.json():[]).then(t=>{p(Array.isArray(t)?t.length:0)}).catch(()=>p(0)),fetch("/api/advisers",{headers:{Accept:"application/json"}}).then(t=>t.ok?t.json():[]).then(t=>{g(Array.isArray(t)?t.length:0)}).catch(()=>g(0)),fetch("/api/programs",{headers:{Accept:"application/json"}}).then(t=>t.ok?t.json():[]).then(t=>{u(Array.isArray(t)?t.length:0)}).catch(()=>u(0))},[]);const S=K(l),T=[{title:"Pending Defense Requests",value:r.length,description:"Awaiting coordinator action",icon:e.jsx(v,{className:"size-5 text-rose-500"}),iconTheme:"bg-rose-100 text-rose-600 dark:bg-rose-900 dark:text-rose-300"},{title:"Today's Defense Schedules",value:S,description:"Defenses scheduled for today",icon:e.jsx(E,{className:"size-5 text-violet-500"}),iconTheme:"bg-violet-100 text-violet-600 dark:bg-violet-900 dark:text-violet-300"},{title:"Pending Honorariums",value:7,description:"Honorariums not yet processed",icon:e.jsx(H,{className:"size-5 text-rose-400"}),iconTheme:"bg-rose-100 text-rose-600 dark:bg-rose-900 dark:text-rose-300"},{title:"Programs",value:N,description:"Total programs",icon:e.jsx(v,{className:"size-5 text-violet-500"}),iconTheme:"bg-violet-100 text-violet-600 dark:bg-violet-900 dark:text-violet-300"},{title:"Advisers",value:w,description:"Total advisers",icon:e.jsx(b,{className:"size-5 text-rose-400"}),iconTheme:"bg-rose-100 text-rose-600 dark:bg-rose-900 dark:text-rose-300"},{title:"Panelists",value:e.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:y}),description:"Total panelists",icon:e.jsx(b,{className:"size-5 text-violet-500"}),iconTheme:"bg-violet-100 text-violet-600 dark:bg-violet-900 dark:text-violet-300"}];return e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-auto bg-white dark:bg-background",children:m?e.jsxs("div",{className:"w-full min-h-[70vh] bg-zinc-100 dark:bg-zinc-900 flex flex-col gap-4 p-0 m-0",children:[e.jsx(c,{className:"h-6 w-1/6 rounded bg-zinc-300 dark:bg-zinc-800 mt-8 mx-8"}),e.jsx(c,{className:"h-12 w-3/4 rounded bg-zinc-300 dark:bg-zinc-800 mx-8"}),e.jsx(c,{className:"h-12 w-2/3 rounded bg-zinc-300 dark:bg-zinc-800 mx-8"}),e.jsx(c,{className:"h-[500px] w-full rounded bg-zinc-300 dark:bg-zinc-800 mt-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 md:mb-7 mt-2 md:mt-3 pt-2 md:pt-3 px-4 md:px-7",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 md:gap-0 relative overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"flex items-center text-xs font-semibold text-gray-700 dark:text-gray-200 mb-1 md:mb-2 relative z-10",children:[Y()?e.jsx(U,{className:"mr-1 size-3 md:size-4 text-rose-500"}):e.jsx(_,{className:"mr-1 size-3 md:size-4 text-rose-500"}),B()]}),e.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white relative z-10",children:["Hi, ",s==null?void 0:s.name,"!"]}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 relative z-10",children:(s==null?void 0:s.role)??"Dean"})]}),e.jsxs("div",{className:"hidden md:flex items-center",children:[e.jsx("div",{className:"h-12 w-px mx-4 bg-gray-300 dark:bg-gray-700 opacity-60"}),e.jsx("div",{className:"mr-8",children:e.jsx(R,{userRole:s==null?void 0:s.role})})]})]})}),e.jsx("div",{className:"w-full max-w-screen-xl mx-auto px-4 md:px-7",children:e.jsxs(q,{defaultValue:"overview",className:"w-full",children:[e.jsxs(W,{className:"mb-2 w-full sm:w-auto",children:[e.jsx(h,{value:"overview",className:"flex-1 sm:flex-none",children:"Overview"}),e.jsx(h,{value:"analytics",className:"flex-1 sm:flex-none",children:"Analytics"})]}),e.jsxs(f,{value:"overview",className:"w-full",children:[e.jsx("div",{className:"w-full max-w-screen-xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-4 px-0 mb-4 md:mb-6",children:T.map((t,o)=>{var n;return e.jsxs(P,{className:"col-span-1 rounded-lg md:rounded-xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 shadow-sm flex flex-col justify-between p-0 min-h-0 h-auto transition hover:shadow-md",style:{minWidth:0},children:[e.jsxs("div",{className:"flex items-center justify-between px-4 md:px-5 pt-3 md:pt-4 pb-0",children:[e.jsx("div",{className:"text-xs md:text-sm font-extrabold text-gray-800 dark:text-zinc-100 leading-tight",children:t.title}),e.jsx("div",{className:`rounded-full p-1 md:p-1.5 flex items-center justify-center flex-shrink-0 ${t.iconTheme}`,children:C.cloneElement(t.icon,{className:"size-3 md:size-4 font-extrabold "+(((n=t.iconTheme)==null?void 0:n.split(" ").find(d=>d.startsWith("text-")))??"")})})]}),e.jsxs("div",{className:"flex flex-col px-4 md:px-5 pb-3 md:pb-4 pt-1 md:pt-2",children:[e.jsx("span",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white leading-none",children:t.value}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 truncate",children:t.description})]})]},o)})}),e.jsx("div",{className:"flex flex-col gap-4 md:gap-6 bg-gray-100 dark:bg-muted rounded-lg md:rounded-xl mt-2 mb-2 px-3 md:px-4 py-4 md:py-8 w-full",children:e.jsxs("div",{className:"w-full mb-2 flex flex-col gap-4",children:[e.jsx(F,{weekDays:D,selectedDay:k,setSelectedDay:z,approvedDefenses:l,referenceDate:new Date,loading:m}),e.jsx(L,{pendingRequests:r,loading:m})]})})]}),e.jsx(f,{value:"analytics",className:"w-full",children:e.jsx("div",{className:"w-full max-w-screen-xl mx-auto grid grid-cols-1 gap-4 mb-4 md:mb-6",children:e.jsx(M,{})})})]})})]})})}export{Ce as default};
========
import{K as A,r as a,j as e,R as C}from"./app-DdPj2m7B.js";import R from"./quick-actions-widget-C-8cE6Xj.js";import{S as c}from"./skeleton-eQxcUfOO.js";import{C as P}from"./card-VQzzqn5t.js";import{T as q,a as W,b as h,c as f}from"./tabs-BvzTftzm.js";import F from"./weekly-defense-schedule-widget-DBOiOoFP.js";import L from"./pending-defense-request-widget-CAwpUGVV.js";import M from"./defense-count-C8f6mCo4.js";import{C as v}from"./clipboard-list-CItztuo4.js";import{C as E}from"./calendar-days-QY893wAX.js";import{B as H}from"./badge-dollar-sign-D1ijFK0L.js";import{U as b}from"./users-Bi2Lh05r.js";import{S as U,M as _}from"./sun-CPhm4DAg.js";import"./tooltip-YyHP33lU.js";import"./index-C0AcbnKJ.js";import"./index-DYEC1Owk.js";import"./floating-ui.react-dom-qFQCHW7g.js";import"./utils-jAU0Cazi.js";import"./user-round-DdfHKHWt.js";import"./createLucideIcon-B8qZ3ylK.js";import"./settings-CYIvZ_Tn.js";import"./receipt-DWAji_2S.js";import"./book-open-DwBftJzx.js";import"./calendar-BkrqGKNC.js";import"./chevron-right-BZod6iQK.js";import"./graduation-cap-BxuxjmnL.js";import"./format-HX8DKPSU.js";import"./en-US-BA9orzCf.js";import"./isSameDay-DUlCFK42.js";import"./parseISO-CbXPh3Al.js";import"./constructNow-Chb2L4Vx.js";import"./getRoundingMethod-Btu-7J5l.js";import"./button-C4XkiM_B.js";import"./index-DZZQifJx.js";import"./generateCategoricalChart-CNUWMMUU.js";import"./index-Bt9ylsuM.js";import"./index-Chjiymov.js";import"./AreaChart-DsRJgi_x.js";import"./YAxis-9IOyoiJg.js";function B(){return new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}function Y(){const s=new Date().getHours();return s>=6&&s<18}function K(s){const l=new Date;return s.filter(i=>{if(!i.scheduled_date)return!1;const r=new Date(i.scheduled_date);return r.getFullYear()===l.getFullYear()&&r.getMonth()===l.getMonth()&&r.getDate()===l.getDate()}).length}function Ce(){const{auth:{user:s}}=A().props,[l,i]=a.useState([]),[r,x]=a.useState([]),[m,j]=a.useState(!0),[y,p]=a.useState(0),[w,g]=a.useState(0),[N,u]=a.useState(0),[k,z]=a.useState(new Date().getDay()),D=[{label:"Sun",value:0},{label:"Mon",value:1},{label:"Tue",value:2},{label:"Wed",value:3},{label:"Thu",value:4},{label:"Fri",value:5},{label:"Sat",value:6}];a.useEffect(()=>{fetch("/defense-requests",{headers:{Accept:"application/json"}}).then(t=>t.ok?t.json():[]).then(t=>{const o=Array.isArray(t)?t:t.defenseRequests??[];i(o);const n=o.filter(d=>(d.normalized_status||d.status)==="Pending");x(n)}).catch(()=>{i([]),x([])}).finally(()=>j(!1)),fetch("/api/panelists",{headers:{Accept:"application/json"}}).then(t=>t.ok?t.json():[]).then(t=>{p(Array.isArray(t)?t.length:0)}).catch(()=>p(0)),fetch("/api/advisers",{headers:{Accept:"application/json"}}).then(t=>t.ok?t.json():[]).then(t=>{g(Array.isArray(t)?t.length:0)}).catch(()=>g(0)),fetch("/api/programs",{headers:{Accept:"application/json"}}).then(t=>t.ok?t.json():[]).then(t=>{u(Array.isArray(t)?t.length:0)}).catch(()=>u(0))},[]);const S=K(l),T=[{title:"Pending Defense Requests",value:r.length,description:"Awaiting coordinator action",icon:e.jsx(v,{className:"size-5 text-rose-500"}),iconTheme:"bg-rose-100 text-rose-600 dark:bg-rose-900 dark:text-rose-300"},{title:"Today's Defense Schedules",value:S,description:"Defenses scheduled for today",icon:e.jsx(E,{className:"size-5 text-violet-500"}),iconTheme:"bg-violet-100 text-violet-600 dark:bg-violet-900 dark:text-violet-300"},{title:"Pending Honorariums",value:7,description:"Honorariums not yet processed",icon:e.jsx(H,{className:"size-5 text-rose-400"}),iconTheme:"bg-rose-100 text-rose-600 dark:bg-rose-900 dark:text-rose-300"},{title:"Programs",value:N,description:"Total programs",icon:e.jsx(v,{className:"size-5 text-violet-500"}),iconTheme:"bg-violet-100 text-violet-600 dark:bg-violet-900 dark:text-violet-300"},{title:"Advisers",value:w,description:"Total advisers",icon:e.jsx(b,{className:"size-5 text-rose-400"}),iconTheme:"bg-rose-100 text-rose-600 dark:bg-rose-900 dark:text-rose-300"},{title:"Panelists",value:e.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:y}),description:"Total panelists",icon:e.jsx(b,{className:"size-5 text-violet-500"}),iconTheme:"bg-violet-100 text-violet-600 dark:bg-violet-900 dark:text-violet-300"}];return e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-auto bg-white dark:bg-background",children:m?e.jsxs("div",{className:"w-full min-h-[70vh] bg-zinc-100 dark:bg-zinc-900 flex flex-col gap-4 p-0 m-0",children:[e.jsx(c,{className:"h-6 w-1/6 rounded bg-zinc-300 dark:bg-zinc-800 mt-8 mx-8"}),e.jsx(c,{className:"h-12 w-3/4 rounded bg-zinc-300 dark:bg-zinc-800 mx-8"}),e.jsx(c,{className:"h-12 w-2/3 rounded bg-zinc-300 dark:bg-zinc-800 mx-8"}),e.jsx(c,{className:"h-[500px] w-full rounded bg-zinc-300 dark:bg-zinc-800 mt-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 md:mb-7 mt-2 md:mt-3 pt-2 md:pt-3 px-4 md:px-7",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 md:gap-0 relative overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"flex items-center text-xs font-semibold text-gray-700 dark:text-gray-200 mb-1 md:mb-2 relative z-10",children:[Y()?e.jsx(U,{className:"mr-1 size-3 md:size-4 text-rose-500"}):e.jsx(_,{className:"mr-1 size-3 md:size-4 text-rose-500"}),B()]}),e.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white relative z-10",children:["Hi, ",s==null?void 0:s.name,"!"]}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 relative z-10",children:(s==null?void 0:s.role)??"Dean"})]}),e.jsxs("div",{className:"hidden md:flex items-center",children:[e.jsx("div",{className:"h-12 w-px mx-4 bg-gray-300 dark:bg-gray-700 opacity-60"}),e.jsx("div",{className:"mr-8",children:e.jsx(R,{userRole:s==null?void 0:s.role})})]})]})}),e.jsx("div",{className:"w-full max-w-screen-xl mx-auto px-4 md:px-7",children:e.jsxs(q,{defaultValue:"overview",className:"w-full",children:[e.jsxs(W,{className:"mb-2 w-full sm:w-auto",children:[e.jsx(h,{value:"overview",className:"flex-1 sm:flex-none",children:"Overview"}),e.jsx(h,{value:"analytics",className:"flex-1 sm:flex-none",children:"Analytics"})]}),e.jsxs(f,{value:"overview",className:"w-full",children:[e.jsx("div",{className:"w-full max-w-screen-xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-4 px-0 mb-4 md:mb-6",children:T.map((t,o)=>{var n;return e.jsxs(P,{className:"col-span-1 rounded-lg md:rounded-xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 shadow-sm flex flex-col justify-between p-0 min-h-0 h-auto transition hover:shadow-md",style:{minWidth:0},children:[e.jsxs("div",{className:"flex items-center justify-between px-4 md:px-5 pt-3 md:pt-4 pb-0",children:[e.jsx("div",{className:"text-xs md:text-sm font-extrabold text-gray-800 dark:text-zinc-100 leading-tight",children:t.title}),e.jsx("div",{className:`rounded-full p-1 md:p-1.5 flex items-center justify-center flex-shrink-0 ${t.iconTheme}`,children:C.cloneElement(t.icon,{className:"size-3 md:size-4 font-extrabold "+(((n=t.iconTheme)==null?void 0:n.split(" ").find(d=>d.startsWith("text-")))??"")})})]}),e.jsxs("div",{className:"flex flex-col px-4 md:px-5 pb-3 md:pb-4 pt-1 md:pt-2",children:[e.jsx("span",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white leading-none",children:t.value}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 truncate",children:t.description})]})]},o)})}),e.jsx("div",{className:"flex flex-col gap-4 md:gap-6 bg-gray-100 dark:bg-muted rounded-lg md:rounded-xl mt-2 mb-2 px-3 md:px-4 py-4 md:py-8 w-full",children:e.jsxs("div",{className:"w-full mb-2 flex flex-col gap-4",children:[e.jsx(F,{weekDays:D,selectedDay:k,setSelectedDay:z,approvedDefenses:l,referenceDate:new Date,loading:m}),e.jsx(L,{pendingRequests:r,loading:m})]})})]}),e.jsx(f,{value:"analytics",className:"w-full",children:e.jsx("div",{className:"w-full max-w-screen-xl mx-auto grid grid-cols-1 gap-4 mb-4 md:mb-6",children:e.jsx(M,{})})})]})})]})})}export{Ce as default};
>>>>>>>> Stashed changes:public/build/assets/dean-dashboard-Cxg6BFYR.js
