import{r as l,j as e,L as y}from"./app-DW0Mt5c9.js";import{A as b}from"./app-layout-CPwLq_xH.js";import"./index-RzYQM1sh.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./button-BZf0VdIO.js";import"./input-Ch6RmxP_.js";import"./index-BMNAwHVU.js";import"./index-DHu7YzAG.js";import"./index-Bh88FqJG.js";import"./x-CW6T59GI.js";import"./createLucideIcon-S0dKkUVo.js";import"./tooltip-3yEC6fE6.js";import"./floating-ui.react-dom-DEJ-U2zP.js";import"./separator-4d5ucxHB.js";import"./index-xrb8sl6P.js";import"./chevron-right-x7vIKCyG.js";import"./dropdown-menu-FJcetjAu.js";import"./index-dxfJWdT_.js";import"./index-I9YLalqX.js";import"./index-Au_TdUcj.js";import"./index-Bwn0NV8Z.js";import"./check-C1Ca0PY3.js";import"./avatar-B3rD_VQk.js";import"./settings-DPsrAkv5.js";import"./users-CFj_s0Ga.js";import"./graduation-cap-d15gjgNL.js";import"./file-text-Dpj0IN7n.js";import"./dollar-sign-DVIUp7aq.js";import"./send-BUfb6BoG.js";import"./credit-card-Bzx9FpUt.js";import"./tabs-3Dm9feNm.js";import"./badge-B7OUzsXL.js";import"./circle-check-big-CG9wjNDm.js";import"./info-Dl-vg0Zq.js";import"./sun-C_6rnlvD.js";function te(){const[o,n]=l.useState([]),[p,x]=l.useState([]),[f,d]=l.useState(null),[h,u]=l.useState(null),[a,c]=l.useState(!0),[m,i]=l.useState(null);return l.useEffect(()=>{let t=!0;return fetch("/legacy/faculty/class-list").then(s=>s.json()).then(s=>{t&&(s.error&&i(s.error),n(s.rows||[]),x(s.periods||[]),d(s.selected_period_id||null),u(s.short_period_label||null))}).catch(s=>i(s.message)).finally(()=>t&&c(!1)),()=>{t=!1}},[]),e.jsxs(b,{breadcrumbs:[{title:"Faculty Class List",href:"/faculty/class-list"}],children:[e.jsx(y,{title:"Class List"}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Instructor Class List"}),a&&e.jsx("div",{className:"text-sm text-gray-500",children:"Loading class list..."}),!a&&p.length>0&&e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Semester / Period"}),e.jsxs("select",{className:"rounded border border-gray-300 bg-white px-2 py-1 text-sm dark:bg-zinc-900 dark:border-zinc-700",value:f||"",onChange:t=>{const s=t.target.value;d(s),c(!0),fetch(`/legacy/faculty/class-list?period_id=${s}`).then(r=>r.json()).then(r=>{n(r.rows||[]),x(r.periods||[]),d(r.selected_period_id||s),u(r.short_period_label||null),r.error?i(r.error):i(null)}).catch(r=>i(r.message)).finally(()=>c(!1))},children:[e.jsx("option",{value:"",disabled:!0,children:"Select Period"}),p.map(t=>e.jsx("option",{value:t.id,children:t.label},t.id))]})]}),h&&e.jsx("div",{className:"rounded bg-pink-50 dark:bg-pink-950/30 px-3 py-2 text-sm font-medium text-pink-700 dark:text-pink-300",children:h})]}),m&&e.jsx("div",{className:"text-sm text-red-600",children:m}),!a&&!m&&o.length===0&&e.jsx("div",{className:"text-sm text-gray-500",children:"No classes found."}),!a&&o.length>0&&e.jsx("div",{className:"overflow-auto rounded border border-gray-200 dark:border-gray-700",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"#"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Course Code"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Course Title"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Type"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Size"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Load"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Section"})]})}),e.jsx("tbody",{children:o.map(t=>e.jsxs("tr",{className:"border-t border-gray-100 dark:border-gray-700",children:[e.jsx("td",{className:"px-3 py-2",children:t.number}),e.jsx("td",{className:"px-3 py-2 font-mono",children:t.course_code}),e.jsx("td",{className:"px-3 py-2",children:t.course_title}),e.jsx("td",{className:"px-3 py-2",children:t.type}),e.jsx("td",{className:"px-3 py-2",children:t.size}),e.jsx("td",{className:"px-3 py-2",children:t.load}),e.jsx("td",{className:"px-3 py-2",children:t.section})]},t.number))})]})})]})]})}export{te as default};
