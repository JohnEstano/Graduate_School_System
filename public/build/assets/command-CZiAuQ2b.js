import{r as a,j as S}from"./app-OOvd0qGy.js";import{R as Ce,P as Ie,O as Se,C as Re}from"./index-B2wwfcIF.js";import{P as A,c as O}from"./index-B9sjBiRz.js";import{u as K}from"./index-C7ezi2Q7.js";import{c as P}from"./utils-jAU0Cazi.js";import{S as Ne}from"./search-BBppaIz6.js";var fe=1,Ae=.9,je=.8,Me=.17,ee=.1,te=.999,$e=.9999,De=.99,Le=/[\\\/_+.#"@\[\(\{&]/,Fe=/[\\\/_+.#"@\[\(\{&]/g,Ke=/[\s-]/,he=/[\s-]/g;function ne(e,n,r,m,o,d,c){if(d===n.length)return o===e.length?fe:De;var f=`${o},${d}`;if(c[f]!==void 0)return c[f];for(var b=m.charAt(d),u=r.indexOf(b,o),v=0,h,I,w,R;u>=0;)h=ne(e,n,r,m,u+1,d+1,c),h>v&&(u===o?h*=fe:Le.test(e.charAt(u-1))?(h*=je,w=e.slice(o,u-1).match(Fe),w&&o>0&&(h*=Math.pow(te,w.length))):Ke.test(e.charAt(u-1))?(h*=Ae,R=e.slice(o,u-1).match(he),R&&o>0&&(h*=Math.pow(te,R.length))):(h*=Me,o>0&&(h*=Math.pow(te,u-o))),e.charAt(u)!==n.charAt(d)&&(h*=$e)),(h<ee&&r.charAt(u-1)===m.charAt(d+1)||m.charAt(d+1)===m.charAt(d)&&r.charAt(u-1)!==m.charAt(d))&&(I=ne(e,n,r,m,u+1,d+2,c),I*ee>h&&(h=I*ee)),h>v&&(v=h),u=r.indexOf(b,u+1);return c[f]=v,v}function pe(e){return e.toLowerCase().replace(he," ")}function Pe(e,n,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,ne(e,n,pe(e),pe(n),0,0,{})}var V='[cmdk-group=""]',re='[cmdk-group-items=""]',qe='[cmdk-group-heading=""]',ge='[cmdk-item=""]',ve=`${ge}:not([aria-disabled="true"])`,ae="cmdk-item-select",L="data-value",Ve=(e,n,r)=>Pe(e,n,r),be=a.createContext(void 0),G=()=>a.useContext(be),ye=a.createContext(void 0),le=()=>a.useContext(ye),xe=a.createContext(void 0),we=a.forwardRef((e,n)=>{let r=F(()=>{var t,i;return{search:"",value:(i=(t=e.value)!=null?t:e.defaultValue)!=null?i:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),m=F(()=>new Set),o=F(()=>new Map),d=F(()=>new Map),c=F(()=>new Set),f=ke(e),{label:b,children:u,value:v,onValueChange:h,filter:I,shouldFilter:w,loop:R,disablePointerSelection:H=!1,vimBindings:j=!0,...z}=e,T=K(),oe=K(),W=K(),M=a.useRef(null),y=Ye();$(()=>{if(v!==void 0){let t=v.trim();r.current.value=t,k.emit()}},[v]),$(()=>{y(6,ie)},[]);let k=a.useMemo(()=>({subscribe:t=>(c.current.add(t),()=>c.current.delete(t)),snapshot:()=>r.current,setState:(t,i,s)=>{var l,p,g,C;if(!Object.is(r.current[t],i)){if(r.current[t]=i,t==="search")_(),X(),y(1,Y);else if(t==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let x=document.getElementById(W);x?x.focus():(l=document.getElementById(T))==null||l.focus()}if(y(7,()=>{var x;r.current.selectedItemId=(x=D())==null?void 0:x.id,k.emit()}),s||y(5,ie),((p=f.current)==null?void 0:p.value)!==void 0){let x=i??"";(C=(g=f.current).onValueChange)==null||C.call(g,x);return}}k.emit()}},emit:()=>{c.current.forEach(t=>t())}}),[]),J=a.useMemo(()=>({value:(t,i,s)=>{var l;i!==((l=d.current.get(t))==null?void 0:l.value)&&(d.current.set(t,{value:i,keywords:s}),r.current.filtered.items.set(t,ue(i,s)),y(2,()=>{X(),k.emit()}))},item:(t,i)=>(m.current.add(t),i&&(o.current.has(i)?o.current.get(i).add(t):o.current.set(i,new Set([t]))),y(3,()=>{_(),X(),r.current.value||Y(),k.emit()}),()=>{d.current.delete(t),m.current.delete(t),r.current.filtered.items.delete(t);let s=D();y(4,()=>{_(),(s==null?void 0:s.getAttribute("id"))===t&&Y(),k.emit()})}),group:t=>(o.current.has(t)||o.current.set(t,new Set),()=>{d.current.delete(t),o.current.delete(t)}),filter:()=>f.current.shouldFilter,label:b||e["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:T,inputId:W,labelId:oe,listInnerRef:M}),[]);function ue(t,i){var s,l;let p=(l=(s=f.current)==null?void 0:s.filter)!=null?l:Ve;return t?p(t,r.current.search,i):0}function X(){if(!r.current.search||f.current.shouldFilter===!1)return;let t=r.current.filtered.items,i=[];r.current.filtered.groups.forEach(l=>{let p=o.current.get(l),g=0;p.forEach(C=>{let x=t.get(C);g=Math.max(x,g)}),i.push([l,g])});let s=M.current;q().sort((l,p)=>{var g,C;let x=l.getAttribute("id"),B=p.getAttribute("id");return((g=t.get(B))!=null?g:0)-((C=t.get(x))!=null?C:0)}).forEach(l=>{let p=l.closest(re);p?p.appendChild(l.parentElement===p?l:l.closest(`${re} > *`)):s.appendChild(l.parentElement===s?l:l.closest(`${re} > *`))}),i.sort((l,p)=>p[1]-l[1]).forEach(l=>{var p;let g=(p=M.current)==null?void 0:p.querySelector(`${V}[${L}="${encodeURIComponent(l[0])}"]`);g==null||g.parentElement.appendChild(g)})}function Y(){let t=q().find(s=>s.getAttribute("aria-disabled")!=="true"),i=t==null?void 0:t.getAttribute(L);k.setState("value",i||void 0)}function _(){var t,i,s,l;if(!r.current.search||f.current.shouldFilter===!1){r.current.filtered.count=m.current.size;return}r.current.filtered.groups=new Set;let p=0;for(let g of m.current){let C=(i=(t=d.current.get(g))==null?void 0:t.value)!=null?i:"",x=(l=(s=d.current.get(g))==null?void 0:s.keywords)!=null?l:[],B=ue(C,x);r.current.filtered.items.set(g,B),B>0&&p++}for(let[g,C]of o.current)for(let x of C)if(r.current.filtered.items.get(x)>0){r.current.filtered.groups.add(g);break}r.current.filtered.count=p}function ie(){var t,i,s;let l=D();l&&(((t=l.parentElement)==null?void 0:t.firstChild)===l&&((s=(i=l.closest(V))==null?void 0:i.querySelector(qe))==null||s.scrollIntoView({block:"nearest"})),l.scrollIntoView({block:"nearest"}))}function D(){var t;return(t=M.current)==null?void 0:t.querySelector(`${ge}[aria-selected="true"]`)}function q(){var t;return Array.from(((t=M.current)==null?void 0:t.querySelectorAll(ve))||[])}function Q(t){let i=q()[t];i&&k.setState("value",i.getAttribute(L))}function Z(t){var i;let s=D(),l=q(),p=l.findIndex(C=>C===s),g=l[p+t];(i=f.current)!=null&&i.loop&&(g=p+t<0?l[l.length-1]:p+t===l.length?l[0]:l[p+t]),g&&k.setState("value",g.getAttribute(L))}function de(t){let i=D(),s=i==null?void 0:i.closest(V),l;for(;s&&!l;)s=t>0?Je(s,V):Xe(s,V),l=s==null?void 0:s.querySelector(ve);l?k.setState("value",l.getAttribute(L)):Z(t)}let ce=()=>Q(q().length-1),se=t=>{t.preventDefault(),t.metaKey?ce():t.altKey?de(1):Z(1)},me=t=>{t.preventDefault(),t.metaKey?Q(0):t.altKey?de(-1):Z(-1)};return a.createElement(A.div,{ref:n,tabIndex:-1,...z,"cmdk-root":"",onKeyDown:t=>{var i;(i=z.onKeyDown)==null||i.call(z,t);let s=t.nativeEvent.isComposing||t.keyCode===229;if(!(t.defaultPrevented||s))switch(t.key){case"n":case"j":{j&&t.ctrlKey&&se(t);break}case"ArrowDown":{se(t);break}case"p":case"k":{j&&t.ctrlKey&&me(t);break}case"ArrowUp":{me(t);break}case"Home":{t.preventDefault(),Q(0);break}case"End":{t.preventDefault(),ce();break}case"Enter":{t.preventDefault();let l=D();if(l){let p=new Event(ae);l.dispatchEvent(p)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:J.inputId,id:J.labelId,style:Qe},b),U(e,t=>a.createElement(ye.Provider,{value:k},a.createElement(be.Provider,{value:J},t))))}),Oe=a.forwardRef((e,n)=>{var r,m;let o=K(),d=a.useRef(null),c=a.useContext(xe),f=G(),b=ke(e),u=(m=(r=b.current)==null?void 0:r.forceMount)!=null?m:c==null?void 0:c.forceMount;$(()=>{if(!u)return f.item(o,c==null?void 0:c.id)},[u]);let v=Ee(o,d,[e.value,e.children,d],e.keywords),h=le(),I=N(y=>y.value&&y.value===v.current),w=N(y=>u||f.filter()===!1?!0:y.search?y.filtered.items.get(o)>0:!0);a.useEffect(()=>{let y=d.current;if(!(!y||e.disabled))return y.addEventListener(ae,R),()=>y.removeEventListener(ae,R)},[w,e.onSelect,e.disabled]);function R(){var y,k;H(),(k=(y=b.current).onSelect)==null||k.call(y,v.current)}function H(){h.setState("value",v.current,!0)}if(!w)return null;let{disabled:j,value:z,onSelect:T,forceMount:oe,keywords:W,...M}=e;return a.createElement(A.div,{ref:O(d,n),...M,id:o,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!I,"data-disabled":!!j,"data-selected":!!I,onPointerMove:j||f.getDisablePointerSelection()?void 0:H,onClick:j?void 0:R},e.children)}),Ge=a.forwardRef((e,n)=>{let{heading:r,children:m,forceMount:o,...d}=e,c=K(),f=a.useRef(null),b=a.useRef(null),u=K(),v=G(),h=N(w=>o||v.filter()===!1?!0:w.search?w.filtered.groups.has(c):!0);$(()=>v.group(c),[]),Ee(c,f,[e.value,e.heading,b]);let I=a.useMemo(()=>({id:c,forceMount:o}),[o]);return a.createElement(A.div,{ref:O(f,n),...d,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&a.createElement("div",{ref:b,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),U(e,w=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},a.createElement(xe.Provider,{value:I},w))))}),ze=a.forwardRef((e,n)=>{let{alwaysRender:r,...m}=e,o=a.useRef(null),d=N(c=>!c.search);return!r&&!d?null:a.createElement(A.div,{ref:O(o,n),...m,"cmdk-separator":"",role:"separator"})}),Be=a.forwardRef((e,n)=>{let{onValueChange:r,...m}=e,o=e.value!=null,d=le(),c=N(u=>u.search),f=N(u=>u.selectedItemId),b=G();return a.useEffect(()=>{e.value!=null&&d.setState("search",e.value)},[e.value]),a.createElement(A.input,{ref:n,...m,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":b.listId,"aria-labelledby":b.labelId,"aria-activedescendant":f,id:b.inputId,type:"text",value:o?e.value:c,onChange:u=>{o||d.setState("search",u.target.value),r==null||r(u.target.value)}})}),Ue=a.forwardRef((e,n)=>{let{children:r,label:m="Suggestions",...o}=e,d=a.useRef(null),c=a.useRef(null),f=N(u=>u.selectedItemId),b=G();return a.useEffect(()=>{if(c.current&&d.current){let u=c.current,v=d.current,h,I=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let w=u.offsetHeight;v.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return I.observe(u),()=>{cancelAnimationFrame(h),I.unobserve(u)}}},[]),a.createElement(A.div,{ref:O(d,n),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":m,id:b.listId},U(e,u=>a.createElement("div",{ref:O(c,b.listInnerRef),"cmdk-list-sizer":""},u)))}),He=a.forwardRef((e,n)=>{let{open:r,onOpenChange:m,overlayClassName:o,contentClassName:d,container:c,...f}=e;return a.createElement(Ce,{open:r,onOpenChange:m},a.createElement(Ie,{container:c},a.createElement(Se,{"cmdk-overlay":"",className:o}),a.createElement(Re,{"aria-label":e.label,"cmdk-dialog":"",className:d},a.createElement(we,{ref:n,...f}))))}),Te=a.forwardRef((e,n)=>N(r=>r.filtered.count===0)?a.createElement(A.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),We=a.forwardRef((e,n)=>{let{progress:r,children:m,label:o="Loading...",...d}=e;return a.createElement(A.div,{ref:n,...d,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},U(e,c=>a.createElement("div",{"aria-hidden":!0},c)))}),E=Object.assign(we,{List:Ue,Item:Oe,Input:Be,Group:Ge,Separator:ze,Dialog:He,Empty:Te,Loading:We});function Je(e,n){let r=e.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function Xe(e,n){let r=e.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function ke(e){let n=a.useRef(e);return $(()=>{n.current=e}),n}var $=typeof window>"u"?a.useEffect:a.useLayoutEffect;function F(e){let n=a.useRef();return n.current===void 0&&(n.current=e()),n}function N(e){let n=le(),r=()=>e(n.snapshot());return a.useSyncExternalStore(n.subscribe,r,r)}function Ee(e,n,r,m=[]){let o=a.useRef(),d=G();return $(()=>{var c;let f=(()=>{var u;for(let v of r){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(u=v.current.textContent)==null?void 0:u.trim():o.current}})(),b=m.map(u=>u.trim());d.value(e,f,b),(c=n.current)==null||c.setAttribute(L,f),o.current=f}),o}var Ye=()=>{let[e,n]=a.useState(),r=F(()=>new Map);return $(()=>{r.current.forEach(m=>m()),r.current=new Map},[e]),(m,o)=>{r.current.set(m,o),n({})}};function _e(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function U({asChild:e,children:n},r){return e&&a.isValidElement(n)?a.cloneElement(_e(n),{ref:n.ref},r(n.props.children)):r(n)}var Qe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ze=a.forwardRef(({className:e,...n},r)=>S.jsx(E,{ref:r,className:P("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...n}));Ze.displayName=E.displayName??"Command";const et=a.forwardRef(({className:e,...n},r)=>S.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex items-center border-b px-3",children:[S.jsx(Ne,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),S.jsx(E.Input,{ref:r,"data-slot":"command-input",className:P("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...n})]}));et.displayName=E.Input.displayName??"CommandInput";const tt=a.forwardRef(({className:e,...n},r)=>S.jsx(E.List,{ref:r,"data-slot":"command-list",className:P("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...n}));tt.displayName=E.List.displayName??"CommandList";const rt=a.forwardRef((e,n)=>S.jsx(E.Empty,{ref:n,"data-slot":"command-empty",className:"py-6 text-center text-sm",...e}));rt.displayName=E.Empty.displayName??"CommandEmpty";const nt=a.forwardRef(({className:e,...n},r)=>S.jsx(E.Group,{ref:r,"data-slot":"command-group",className:P("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...n}));nt.displayName=E.Group.displayName??"CommandGroup";const at=a.forwardRef(({className:e,...n},r)=>S.jsx(E.Separator,{ref:r,"data-slot":"command-separator",className:P("-mx-1 h-px bg-border",e),...n}));at.displayName=E.Separator.displayName??"CommandSeparator";const lt=a.forwardRef(({className:e,...n},r)=>S.jsx(E.Item,{ref:r,"data-slot":"command-item",className:P("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...n}));lt.displayName=E.Item.displayName??"CommandItem";export{Ze as C,tt as a,rt as b,nt as c,lt as d,et as e};
