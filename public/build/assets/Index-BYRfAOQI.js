import{r as s,m as g,j as e,L as N,S as w}from"./app-DW0Mt5c9.js";import{A as y}from"./app-layout-CPwLq_xH.js";import R from"./individual-records-BQ09s1U6.js";import k from"./edit-student-record-N5LENL6P.js";import P from"./delete-prompt-BTMsAD0o.js";import{T,a as A,b as i,c as m,d as I,e as a}from"./table-CYsX4eCK.js";import{A as O,a as _}from"./avatar-B3rD_VQk.js";import{S as D}from"./search-input-CG6hCMfD.js";import"./index-RzYQM1sh.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./button-BZf0VdIO.js";import"./input-Ch6RmxP_.js";import"./index-BMNAwHVU.js";import"./index-DHu7YzAG.js";import"./index-Bh88FqJG.js";import"./x-CW6T59GI.js";import"./createLucideIcon-S0dKkUVo.js";import"./tooltip-3yEC6fE6.js";import"./floating-ui.react-dom-DEJ-U2zP.js";import"./separator-4d5ucxHB.js";import"./index-xrb8sl6P.js";import"./chevron-right-x7vIKCyG.js";import"./dropdown-menu-FJcetjAu.js";import"./index-dxfJWdT_.js";import"./index-I9YLalqX.js";import"./index-Au_TdUcj.js";import"./index-Bwn0NV8Z.js";import"./check-C1Ca0PY3.js";import"./settings-DPsrAkv5.js";import"./users-CFj_s0Ga.js";import"./graduation-cap-d15gjgNL.js";import"./file-text-Dpj0IN7n.js";import"./dollar-sign-DVIUp7aq.js";import"./send-BUfb6BoG.js";import"./credit-card-Bzx9FpUt.js";import"./tabs-3Dm9feNm.js";import"./badge-B7OUzsXL.js";import"./circle-check-big-CG9wjNDm.js";import"./info-Dl-vg0Zq.js";import"./sun-C_6rnlvD.js";import"./dialog-D7L72BhV.js";import"./html2canvas.esm-CBrSDip1.js";import"./jspdf.es.min-Bf9V0y7q.js";import"./typeof-QjJsDpFa.js";import"./chevron-down-B7XKdsxY.js";import"./square-pen-DAuFRdnq.js";import"./download-BwN388zE.js";import"./format-HX8DKPSU.js";import"./en-US-BA9orzCf.js";import"./success-prompt-Dx80arch.js";import"./alert-dialog-CRrgAssw.js";import"./circle-check-C1QAq6HU.js";import"./search-Ck6Ms1BF.js";const C=[{title:"Student Records",href:"/student-records"}];function Ye({records:l,filters:o}){const[x,n]=s.useState(!1),[d,h]=s.useState(!1),[f,c]=s.useState(!1),[r,p]=s.useState(null),{data:u,setData:j,get:b}=g({search:o.search||"",year:o.year||null,program:o.program||null}),[E,L]=s.useState(!1),[M,H]=s.useState(!1);s.useEffect(()=>{const t=setTimeout(()=>{b(route("student-records.index"),{preserveState:!0,replace:!0})},300);return()=>clearTimeout(t)},[u]);const S=()=>{r&&w.delete(route("student-records.destroy",r.id),{onSuccess:()=>{c(!1),p(null)}})},v=t=>{p(t),n(!0)};return e.jsxs(y,{breadcrumbs:C,children:[e.jsx(N,{title:"Student Records"}),e.jsxs("div",{className:"container mx-auto p-6 dark:bg-[#0a0a0a] min-h-screen",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Student Records"})}),e.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between mb-4 gap-4",children:e.jsx(D,{placeholder:"Search Student Name or ID...",className:"w-full md:w-1/3",value:u.search,onChange:t=>j("search",t.target.value)})}),e.jsx("div",{className:"rounded-md border border-border bg-white dark:bg-[#121212] p-2 max-h-[75vh] overflow-y-auto",children:e.jsxs(T,{className:"min-w-full text-sm",children:[e.jsx(A,{className:"sticky top-0 bg-white dark:bg-[#121212] z-10 shadow-sm",children:e.jsxs(i,{children:[e.jsx(m,{className:"w-[30%] px-1 py-2",children:"Student Name"}),e.jsx(m,{className:"w-[25%] px-1 py-2 text-center",children:"Program / Section"}),e.jsx(m,{className:"w-[15%] px-1 py-2 text-center",children:"Academic Status"})]})}),e.jsx(I,{children:l.data.length>0?l.data.map(t=>e.jsxs(i,{className:"hover:bg-muted/50 cursor-pointer",onClick:()=>v(t),children:[e.jsxs(a,{className:"flex items-center space-x-4 px-1 py-2",children:[e.jsx(O,{className:"h-10 w-10 flex-shrink-0 bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300",children:e.jsx(_,{children:t.first_name.charAt(0)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[t.first_name," ",t.middle_name?t.middle_name.charAt(0)+".":""," ",t.last_name]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.student_id})]})]}),e.jsxs(a,{className:"px-1 py-2 text-center",children:[t.program," / ",t.course_section||"-"]}),e.jsx(a,{className:"px-1 py-2 text-center",children:t.academic_status||"-"})]},t.id)):e.jsx(i,{children:e.jsx(a,{colSpan:3,className:"h-24 text-center",children:"No results found."})})})]})}),x&&r&&e.jsx(R,{record:r,onClose:()=>n(!1)}),d&&r&&e.jsx(k,{isOpen:d,onClose:()=>h(!1),record:r}),e.jsx(P,{isOpen:f,onClose:()=>c(!1),onDelete:S})]})]})}export{Ye as default};
