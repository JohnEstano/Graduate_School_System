import{j as e,r as a,L as Se,S as De}from"./app-CQngmq00.js";import{t as m,T as Ae}from"./index-Vwkg4oTI.js";import{B as i}from"./button-Cw9tQIeO.js";import{C as oe}from"./checkbox-D0LzfNbG.js";import{I as Te}from"./input-izsDzGd9.js";import qe from"./table-all-defense-list-B7Q3cW-l.js";import{D as A,a as T,b as q,c as z}from"./dialog-D-tH9FDm.js";import{C as ze}from"./calendar-BpWedVzv.js";import{P as U,a as V,b as W}from"./popover-C8pU6zmg.js";import{A as Pe}from"./app-layout-C76KB2Lm.js";import{D as Re,a as Oe,b as Be,d as j}from"./dropdown-menu-BQlfF7jf.js";import{e as $e}from"./endOfDay-UBg8OSOW.js";import{i as Me}from"./isWithinInterval-BTvWHy0U.js";import{S as Ee}from"./send-BvMnN6yE.js";import{c as Le}from"./createLucideIcon-pjYyoixj.js";import{S as Fe}from"./search-yiLKmxcv.js";import{C as de}from"./circle-plus-dBJ4iWWo.js";import{C as Ie}from"./calendar-Bi5dAEy5.js";import{X as G}from"./x-B3RMhnUQ.js";import{C as ce}from"./circle-check-big-PSYRp90q.js";import{P as Xe}from"./printer-BV1DV1RI.js";import{S as L}from"./signature-CMYTxh5x.js";import{s as me,f as pe}from"./format-HX8DKPSU.js";import"./index-DRp-GX9j.js";import"./index-CDDLQrUy.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./index-ahz1tZ6M.js";import"./index-VBHUZLOo.js";import"./index-CgLqTVh4.js";import"./index-BJk2QW0A.js";import"./index-Csh4Fj4k.js";import"./check-BEGkAg7k.js";import"./table-BEEQP98I.js";import"./badge-BsPMjMb7.js";import"./tooltip-BvePKNvs.js";import"./floating-ui.react-dom-DL84dtXf.js";import"./program-abbreviations-BcvFCzIW.js";import"./eye-B6whRoNB.js";import"./dollar-sign-CkMbILE9.js";import"./hourglass-Ck8E1KPu.js";import"./banknote-DWaOIUXL.js";import"./circle-check-B6ukRmdw.js";import"./clock-Cn1v7f4i.js";import"./index-BSk2xfhC.js";import"./index-BZgaE142.js";import"./en-US-BA9orzCf.js";import"./endOfWeek-QFyZPl43.js";import"./differenceInCalendarMonths-HUNRrXGm.js";import"./normalizeInterval-CdMCNNY-.js";import"./endOfMonth-CK_ShA5m.js";import"./isSameDay-DUlCFK42.js";import"./isSameMonth-CQd3m9St.js";import"./chevron-left-BphKULEz.js";import"./chevron-right-QGs8lTP5.js";import"./chevron-down-Bg3q2iyP.js";import"./separator-CMC4qrzs.js";import"./avatar-DUph8BC-.js";import"./settings-CDLWUJwV.js";import"./users-DZ67WViD.js";import"./graduation-cap-DHFIPOzN.js";import"./file-text-Buh9X5tE.js";import"./credit-card-Cid_txJ6.js";import"./tabs-DJOYkXMD.js";import"./info-BJ9Jpdwx.js";import"./sun-5m6UvoyG.js";import"./index-BfMlnZ5P.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Ke=Le("Settings2",Je);function He({page:p,totalPages:u,onPageChange:r,showingCount:g,totalCount:b}){return e.jsxs("div",{className:"flex justify-between items-center gap-2 px-4 py-2",children:[e.jsxs("span",{className:"text-xs",children:["Page ",p," of ",u]}),e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx(i,{size:"sm",variant:"outline",disabled:p===1,onClick:()=>r(1),children:"«"}),e.jsx(i,{size:"sm",variant:"outline",disabled:p===1,onClick:()=>r(p-1),children:"‹"}),e.jsx(i,{size:"sm",variant:"outline",disabled:p===u,onClick:()=>r(p+1),children:"›"}),e.jsx(i,{size:"sm",variant:"outline",disabled:p===u,onClick:()=>r(u),children:"»"}),e.jsxs("span",{className:"ml-4 text-xs text-muted-foreground",children:["Showing ",g," record",g!==1?"s":"",typeof b=="number"&&e.jsxs(e.Fragment,{children:[" of ",b," total"]})]})]})]})}function he({defenseRequests:p,onStatusChange:u}){const[r,g]=a.useState({open:!1,id:null,action:null});function b(){const t=document.querySelector('meta[name="csrf-token"]');return(t==null?void 0:t.content)||""}const ue=t=>t.map(s=>({...s,expected_rate:s.expected_rate!==void 0&&s.expected_rate!==null?Number(s.expected_rate):null,amount:s.amount!==void 0&&s.amount!==null?Number(s.amount):null,date_of_defense:s.date_of_defense||s.scheduled_date||void 0,mode_defense:s.mode_defense||s.defense_mode||void 0})),[P,k]=a.useState([]);a.useEffect(()=>{fetch("/assistant/all-defense-list/data").then(t=>t.json()).then(t=>{k(t.map(s=>({...s,expected_rate:s.expected_rate!==void 0&&s.expected_rate!==null?Number(s.expected_rate):null,amount:s.amount!==void 0&&s.amount!==null?Number(s.amount):null,date_of_defense:s.date_of_defense||s.scheduled_date||void 0,mode_defense:s.mode_defense||s.defense_mode||void 0,aa_verification_id:s.aa_verification_id})))})},[]);const[R,Q]=a.useState(""),[v,F]=a.useState([]),[C,I]=a.useState([]),[c,X]=a.useState(),[$,fe]=a.useState(null),[M,Y]=a.useState(1),[xe,je]=a.useState({pending:[],rejected:[],approved:[]}),[l,ge]=a.useState({title:!0,presenter:!0,adviser:!0,submitted_at:!0,program:!0,amount_paid:!0,reference_no:!0,coordinator:!0,scheduled_date:!0,actions:!0,date:!0,mode:!0,type:!1,priority:!1,status:!0}),[Z,y]=a.useState(!1),[f,N]=a.useState(null),[ee,S]=a.useState(!1),[w,D]=a.useState(!1),te=a.useCallback(async()=>{D(!0);try{const t=await fetch("/assistant/all-defense-list/data");if(t.ok){const s=await t.json();k(ue(s))}else m.error("Failed to fetch defense requests")}catch{m.error("Error fetching defense requests")}finally{D(!1)}},[]);a.useEffect(()=>{p||te()},[te,p]);const se=a.useMemo(()=>{let t=P;if(R){const s=R.toLowerCase();t=t.filter(n=>`${n.first_name} ${n.last_name} ${n.thesis_title}`.toLowerCase().includes(s))}if(v.length&&(t=t.filter(s=>v.some(n=>(s.aa_verification_status||"").trim().toLowerCase()===n.trim().toLowerCase()))),C.length&&(t=t.filter(s=>C.some(n=>(s.defense_type||"").trim().toLowerCase()===n.trim().toLowerCase()))),c!=null&&c.from&&(c!=null&&c.to)){const s=me(c.from),n=$e(c.to);t=t.filter(d=>{if(!d.date_of_defense)return!1;const h=me(new Date(d.date_of_defense));return Me(h,{start:s,end:n})})}return t},[R,v,C,P,c]),[J,Ue]=a.useState("All"),K=a.useMemo(()=>{let t=se;return J!=="All"&&(t=t.filter(s=>{var n;return(n=s.program)==null?void 0:n.toLowerCase().includes(J.toLowerCase())})),t},[se,J]),O=a.useMemo(()=>$?[...K].sort((t,s)=>{const n=t.date_of_defense?new Date(t.date_of_defense).getTime():0,d=s.date_of_defense?new Date(s.date_of_defense).getTime():0;return $==="asc"?n-d:d-n}):K,[K,$]),E=20,ve=Math.max(1,Math.ceil(O.length/E)),[B,ne]=a.useState([]);a.useEffect(()=>{ne(O.slice((M-1)*E,M*E))},[O,M,E]);const o=xe.all||[],_=t=>je(s=>({...s,all:t})),ie=B.length>0&&B.every(t=>o.includes(t.id)),Ce=()=>{const t=B.map(s=>s.id);_(ie?o.filter(s=>!t.includes(s)):[...o,...t.filter(s=>!o.includes(s))])},be=t=>_(o.includes(t)?o.filter(s=>s!==t):[...o,t]),ye=()=>fe(t=>t==="asc"?"desc":t==="desc"?null:"asc"),x=t=>ge(s=>({...s,[t]:!s[t]})),re=async()=>{try{const t=await fetch("/defense-requests/bulk-remove",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":b(),Accept:"application/json"},body:JSON.stringify({ids:o})}),s=await t.json();t.ok?(k(n=>n.filter(d=>!o.includes(d.id))),_([]),m.success("Deleted")):m.error((s==null?void 0:s.error)||"Delete failed")}catch{m.error("Delete error")}},ae=async()=>{if(!f||o.length===0){y(!1),N(null);return}D(!0);try{const t=P.filter(d=>o.includes(d.id)).map(d=>d.aa_verification_id).filter(d=>!!d),s=f==="approve"?"verified":f==="reject"?"rejected":"pending";(await fetch("/aa/payment-verifications/bulk-update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":b()},body:JSON.stringify({verification_ids:t,status:s})})).ok?(k(d=>d.map(h=>t.includes(h.aa_verification_id??-1)?{...h,aa_verification_status:s}:h)),_([]),m.success("Bulk AA status updated")):m.error("Bulk AA update failed")}catch{m.error("Bulk AA update error")}finally{D(!1),y(!1),N(null)}},Ne=async(t,s)=>{try{(await fetch(`/defense-requests/${t}/priority`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":b(),Accept:"application/json"},body:JSON.stringify({priority:s})})).ok?(k(d=>d.map(h=>h.id===t?{...h,priority:s}:h)),m.success("Priority updated")):m.error("Failed to update priority")}catch{m.error("Error updating priority")}};function ke(){const t=P.filter(n=>o.includes(n.id)),s=window.open("","","height=900,width=1200");s&&(s.document.write(`
      <html>
        <head>
          <title>Print Selected</title>
          <style>
            body{font-family:Arial;padding:32px}
            h1{font-size:18px;margin:0 0 16px}
            table{border-collapse:collapse;width:100%}
            th,td{border:1px solid #ccc;padding:6px 8px;font-size:12px;text-align:left}
          </style>
        </head>
        <body>
          <h1>Defense Requests</h1>
          <table>
            <thead><tr><th>ID</th><th>Title</th><th>Presenter</th><th>Type</th><th>Priority</th><th>Status</th></tr></thead>
            <tbody>
              ${t.map(n=>`<tr>
                <td>${n.id}</td>
                <td>${n.thesis_title}</td>
                <td>${n.first_name} ${n.last_name}</td>
                <td>${n.defense_type}</td>
                <td>${n.priority}</td>
                <td>${n.status}</td>
              </tr>`).join("")}
            </tbody>
          </table>
          <script>window.print()<\/script>
        </body>
      </html>
    `),s.document.close())}const we=a.useCallback(async(t,s)=>{try{(await fetch(`/defense-requests/${t}/status`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":b(),Accept:"application/json"},body:JSON.stringify({status:s})})).ok?(k(d=>d.map(h=>h.id===t?{...h,status:s}:h)),u==null||u(t,s),m.success(`Request #${t} set to ${s}`)):m.error("Failed to update status")}catch{m.error("Error updating status")}},[u]);function H(t,s){g({open:!0,id:t,action:s})}async function le(){if(!r.id||!r.action){g({open:!1,id:null,action:null});return}let t="Pending";r.action==="approve"?t="Approved":r.action==="reject"?t="Rejected":r.action==="retrieve"&&(t="Pending"),await we(r.id,t),g({open:!1,id:null,action:null})}const _e=async()=>{if(o.length!==0){D(!0);try{const t=await fetch("/defense-requests/bulk-status",{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":b(),Accept:"application/json"},body:JSON.stringify({ids:o,status:"Completed"})}),s=await t.json();t.ok&&s.updated_ids?(k(n=>n.map(d=>s.updated_ids.includes(d.id)?{...d,status:"Completed",workflow_state:"completed"}:d)),_([]),m.success("Marked as Completed")):m.error((s==null?void 0:s.error)||"Bulk update failed")}catch{m.error("Bulk update error")}finally{D(!1)}}};return a.useEffect(()=>{let t;return w?t=m.loading("Loading defense requests..."):m.dismiss(),()=>{t&&m.dismiss(t)}},[w]),e.jsxs(e.Fragment,{children:[e.jsx(Se,{title:"Defense Requests"}),e.jsx(Ae,{richColors:!0,position:"bottom-right"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-2 rounded-xl pt-5 pr-3 pl-3 relative overflow-x-hidden",children:[e.jsxs("div",{className:"w-full bg-white dark:bg-zinc-900 border border-border rounded-lg overflow-hidden mb-2",children:[e.jsxs("div",{className:"flex flex-row dark:bg-zinc-900 items-center justify-between w-full p-3 border-b bg-white",children:[e.jsxs("div",{className:"flex dark:bg-zinc-900 items-center gap-2",children:[e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-rose-500/10 border border-rose-500",children:e.jsx(Ee,{className:"h-5 w-5 text-rose-500"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-base font-semibold",children:"Defense Requests"}),e.jsx("span",{className:"block text-xs text-muted-foreground",children:"This section shows all defense requests. Search, filter, and manage requests."})]})]}),e.jsx("div",{className:"flex items-center gap-2 ml-auto",children:e.jsxs(Re,{children:[e.jsx(Oe,{asChild:!0,children:e.jsxs(i,{variant:"outline",size:"sm",className:"h-8 px-2 flex items-center gap-1",children:[e.jsx(Ke,{className:"h-4 w-4"}),"Columns"]})}),e.jsxs(Be,{align:"end",className:"min-w-[220px]",children:[e.jsx(j,{checked:l.title,onCheckedChange:()=>x("title"),children:"Thesis Title"}),e.jsx(j,{checked:l.presenter,onCheckedChange:()=>x("presenter"),children:"Presenter"}),e.jsx(j,{checked:l.adviser,onCheckedChange:()=>x("adviser"),children:"Adviser"}),e.jsx(j,{checked:l.submitted_at,onCheckedChange:()=>x("submitted_at"),children:"Submitted At"}),e.jsx(j,{checked:l.program,onCheckedChange:()=>x("program"),children:"Program"}),e.jsx(j,{checked:l.expected_amount,onCheckedChange:()=>x("expected_amount"),children:"Expected Amount"}),e.jsx(j,{checked:l.amount_paid,onCheckedChange:()=>x("amount_paid"),children:"Amount Paid"}),e.jsx(j,{checked:l.reference_no,onCheckedChange:()=>x("reference_no"),children:"Reference/OR No."}),e.jsx(j,{checked:l.coordinator,onCheckedChange:()=>x("coordinator"),children:"Program Coordinator"}),e.jsx(j,{checked:l.scheduled_date,onCheckedChange:()=>x("scheduled_date"),children:"Scheduled Date"}),e.jsx(j,{checked:l.actions,onCheckedChange:()=>x("actions"),children:"Actions"})]})]})})]}),e.jsx("div",{className:"flex dark:bg-zinc-900 items-center justify-between gap-2 px-4 py-3 border-b bg-white",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Te,{type:"text",startIcon:Fe,placeholder:"Search...",value:R,onChange:t=>{Q(t.target.value),Y(1)},className:"max-w-xs text-sm h-8",disabled:w}),e.jsxs(U,{children:[e.jsx(V,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"h-8 px-3 rounded-md border-dashed text-xs flex items-center gap-1",children:[e.jsx(de,{className:"h-4 w-4 mr-1"}),"Status",v.length>0&&e.jsx("span",{className:"ml-1 px-2 py-0.5 rounded-full text-xs bg-muted",children:v.length>1?`${v.length} selected`:v[0]})]})}),e.jsxs(W,{className:"w-44 p-1",side:"bottom",align:"start",children:[["Pending","Verified","Rejected"].map(t=>e.jsxs("div",{onClick:()=>F(s=>s.includes(t)?s.filter(n=>n!==t):[...s,t]),className:"flex items-center gap-2 p-2 rounded hover:bg-muted cursor-pointer",children:[e.jsx(oe,{checked:v.includes(t)}),e.jsx("span",{className:"text-sm",children:t})]},t)),e.jsx(i,{size:"sm",variant:"ghost",className:"w-full mt-2",onClick:()=>F([]),children:"Clear"})]})]}),e.jsxs(U,{children:[e.jsx(V,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"h-8 px-3 rounded-md border-dashed text-xs flex items-center gap-1",children:[e.jsx(de,{className:"h-4 w-4 mr-1"}),"Type",C.length>0&&e.jsx("span",{className:"ml-1 px-2 py-0.5 rounded-full text-xs bg-muted",children:C.length>1?`${C.length} selected`:C[0]})]})}),e.jsxs(W,{className:"w-44 p-1",side:"bottom",align:"start",children:[Array.from(new Set(P.map(t=>(t.defense_type||"").trim()))).filter(Boolean).map(t=>e.jsxs("div",{onClick:()=>I(s=>s.includes(t)?s.filter(n=>n!==t):[...s,t]),className:"flex items-center gap-2 p-2 rounded hover:bg-muted cursor-pointer",children:[e.jsx(oe,{checked:C.includes(t)}),e.jsx("span",{className:"text-sm",children:t})]},t)),e.jsx(i,{size:"sm",variant:"ghost",className:"w-full mt-2",onClick:()=>I([]),children:"Clear"})]})]}),e.jsxs(U,{children:[e.jsx(V,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"h-8 px-3 rounded-md border-dashed text-xs flex items-center gap-1",children:[e.jsx(Ie,{size:14}),"Date",(c==null?void 0:c.from)&&(c==null?void 0:c.to)&&e.jsx("span",{className:"ml-1 px-2 py-0.5 rounded-full text-xs bg-muted",children:`${pe(c.from,"MMM dd")} - ${pe(c.to,"MMM dd")}`})]})}),e.jsxs(W,{className:"w-auto p-2",side:"bottom",align:"start",children:[e.jsx(ze,{mode:"range",selected:c,onSelect:X}),e.jsx(i,{size:"sm",variant:"ghost",className:"w-full mt-2",onClick:()=>X(void 0),children:"Clear Dates"})]})]}),(v.length>0||C.length>0||(c==null?void 0:c.from)||R.trim())&&e.jsxs(i,{variant:"ghost",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>{F([]),I([]),X(void 0),Q("")},children:[e.jsx(G,{size:14})," Reset"]})]})})]}),o.length>0&&e.jsxs("div",{className:"fixed left-1/2 z-30 -translate-x-1/2 bottom-4 md:bottom-6 flex items-center gap-1 bg-white border border-border shadow-lg rounded-lg px-4 py-1 text-xs animate-in fade-in slide-in-from-bottom-2 dark:bg-muted dark:text-muted-foreground dark:border-border",children:[e.jsxs("span",{className:"font-semibold min-w-[70px] text-center",children:[o.length," selected"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(i,{variant:"ghost",size:"sm",className:"px-3 py-1 h-7 w-auto text-xs flex items-center gap-1",onClick:()=>{N("approve"),y(!0)},disabled:w,children:[e.jsx(ce,{size:13,className:"text-green-600"}),"Bulk Approve"]}),e.jsxs(i,{variant:"ghost",size:"sm",className:"px-3 py-1 h-7 w-auto text-xs flex items-center gap-1",onClick:()=>{N("reject"),y(!0)},disabled:w,children:[e.jsx(G,{size:13,className:"text-red-600"}),"Bulk Reject"]}),e.jsxs(i,{variant:"ghost",size:"sm",className:"px-3 py-1 h-7 w-auto text-xs flex items-center gap-1",onClick:_e,disabled:w,children:[e.jsx(ce,{size:13,className:"text-green-600"}),"Mark as Completed"]}),e.jsxs(i,{variant:"ghost",size:"sm",className:"px-3 py-1 h-7 w-auto text-xs flex items-center gap-1",onClick:ke,disabled:w,children:[e.jsx(Xe,{size:13}),"Print"]}),e.jsx(i,{variant:"ghost",size:"icon",className:"px-1 py-1 h-7 w-auto text-xs flex items-center",onClick:()=>_([]),"aria-label":"Clear selection",children:e.jsx(G,{size:14})})]})]}),e.jsx("div",{className:"flex-1 flex flex-col gap-4 w-full min-h-screen",children:e.jsxs("div",{className:"flex flex-col w-full min-h-0 overflow-x-hidden",children:[e.jsx("div",{className:"relative w-full max-w-full",children:e.jsx("div",{className:"w-full max-w-full",children:e.jsx(qe,{paged:B,setPaged:ne,columns:{title:l.title,presenter:l.presenter,adviser:l.adviser,submitted_at:l.submitted_at,program:l.program,expected_amount:l.expected_amount,amount_paid:l.amount_paid,reference_no:l.reference_no,coordinator:l.coordinator,scheduled_date:l.scheduled_date,status:!0,type:l.type,priority:l.priority,actions:l.actions},selected:o,toggleSelectOne:be,headerChecked:ie,toggleSelectAll:Ce,toggleSort:ye,sortDir:$,onPriorityChange:Ne,onRowApprove:t=>H(t,"approve"),onRowReject:t=>H(t,"reject"),onRowRetrieve:t=>H(t,"retrieve"),onViewDetails:t=>De.visit(`/assistant/all-defense-list/${t}/details`),totalCount:O.length})})}),e.jsx(He,{page:M,totalPages:ve,onPageChange:Y,showingCount:B.length,totalCount:O.length})]})}),e.jsx(A,{open:r.open,onOpenChange:t=>{t||g({open:!1,id:null,action:null})},children:e.jsxs(T,{children:[e.jsx(q,{children:"Confirm Action"}),e.jsx(z,{children:r.action==="approve"?"Please review before approving.":"Apply this status change?"}),e.jsxs("div",{className:"mt-3 text-sm space-y-3",children:[r.id&&e.jsxs("p",{children:["Request #",r.id,": Set to"," ",e.jsx("span",{className:"font-semibold",children:r.action==="approve"?"Approved":r.action==="reject"?"Rejected":"Pending"}),"?"]}),r.action==="approve"&&e.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-md border bg-muted/40 p-5",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:e.jsx(L,{className:"h-14 w-14 text-primary"})}),e.jsx("p",{className:"text-center text-sm leading-relaxed",children:"Approving this defense request authorizes the use of your signature on the official defense documents."})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(i,{variant:"ghost",onClick:()=>g({open:!1,id:null,action:null}),children:"Cancel"}),e.jsx(i,{onClick:le,children:"Confirm"})]})]})}),e.jsx(A,{open:Z,onOpenChange:t=>{t||(y(!1),N(null))},children:e.jsxs(T,{children:[e.jsx(q,{children:"Status Update"}),e.jsx(z,{children:f==="approve"?"Review before bulk approval.":"Confirm the status change."}),e.jsxs("div",{className:"space-y-3 mt-2 text-sm",children:[e.jsxs("p",{children:["Update ",o.length," request",o.length!==1&&"s"," to"," ",e.jsx("span",{className:"font-semibold",children:f==="approve"?"Verified":f==="reject"?"Rejected":"Pending"}),"?"]}),f==="approve"&&e.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-md border bg-muted/40 p-5",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:e.jsx(L,{className:"h-14 w-14 text-primary"})}),e.jsx("p",{className:"text-center text-sm leading-relaxed",children:"Approving these defense requests authorizes the use of your signature on their official defense documents."})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(i,{variant:"ghost",onClick:()=>{y(!1),N(null)},children:"Cancel"}),e.jsx(i,{onClick:ae,children:"Confirm"})]})]})]})}),e.jsx(A,{open:ee,onOpenChange:S,children:e.jsxs(T,{children:[e.jsx(q,{children:"Delete Requests"}),e.jsx(z,{children:"This action cannot be undone."}),e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsxs("p",{className:"text-sm",children:["Delete ",o.length," selected request(s)?"]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(i,{variant:"ghost",onClick:()=>S(!1),children:"Cancel"}),e.jsx(i,{variant:"destructive",onClick:async()=>{await re(),S(!1)},children:"Delete"})]})]})]})})]}),e.jsx(A,{open:r.open,onOpenChange:t=>{t||g({open:!1,id:null,action:null})},children:e.jsxs(T,{children:[e.jsx(q,{children:"Confirm Action"}),e.jsx(z,{children:r.action==="approve"?"Please review before approving.":"Apply this status change?"}),e.jsxs("div",{className:"mt-3 text-sm space-y-3",children:[r.id&&e.jsxs("p",{children:["Request #",r.id,": Set to"," ",e.jsx("span",{className:"font-semibold",children:r.action==="approve"?"Approved":r.action==="reject"?"Rejected":"Pending"}),"?"]}),r.action==="approve"&&e.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-md border bg-muted/40 p-5",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:e.jsx(L,{className:"h-14 w-14 text-primary"})}),e.jsx("p",{className:"text-center text-sm leading-relaxed",children:"Approving this defense request authorizes the use of your signature on the official defense documents."})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(i,{variant:"ghost",onClick:()=>g({open:!1,id:null,action:null}),children:"Cancel"}),e.jsx(i,{onClick:le,children:"Confirm"})]})]})}),e.jsx(A,{open:Z,onOpenChange:t=>{t||(y(!1),N(null))},children:e.jsxs(T,{children:[e.jsx(q,{children:"Status Update"}),e.jsx(z,{children:f==="approve"?"Review before bulk approval.":"Confirm the status change."}),e.jsxs("div",{className:"space-y-3 mt-2 text-sm",children:[e.jsxs("p",{children:["Update ",o.length," request",o.length!==1&&"s"," to"," ",e.jsx("span",{className:"font-semibold",children:f==="approve"?"Verified":f==="reject"?"Rejected":"Pending"}),"?"]}),f==="approve"&&e.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-md border bg-muted/40 p-5",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:e.jsx(L,{className:"h-14 w-14 text-primary"})}),e.jsx("p",{className:"text-center text-sm leading-relaxed",children:"Approving these defense requests authorizes the use of your signature on their official defense documents."})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(i,{variant:"ghost",onClick:()=>{y(!1),N(null)},children:"Cancel"}),e.jsx(i,{onClick:ae,children:"Confirm"})]})]})]})}),e.jsx(A,{open:ee,onOpenChange:S,children:e.jsxs(T,{children:[e.jsx(q,{children:"Delete Requests"}),e.jsx(z,{children:"This action cannot be undone."}),e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsxs("p",{className:"text-sm",children:["Delete ",o.length," selected request(s)?"]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(i,{variant:"ghost",onClick:()=>S(!1),children:"Cancel"}),e.jsx(i,{variant:"destructive",onClick:async()=>{await re(),S(!1)},children:"Delete"})]})]})]})})]})}function ls(p){if(p.withLayout){const u=[{title:"Dashboard",href:"/dashboard"},{title:"Defense Requests",href:"/assistant/all-defense-list"}];return e.jsx(Pe,{breadcrumbs:u,children:e.jsx(he,{...p})})}return e.jsx(he,{...p})}export{ls as default};
