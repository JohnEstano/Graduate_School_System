import{j as e}from"./app-c5ij2Uy8.js";import{S as t}from"./skeleton-CGx7kAgr.js";import{F as o}from"./file-text-DKQ02F9u.js";import{C as x}from"./chevron-right-Ck80R1L5.js";import"./utils-jAU0Cazi.js";import"./createLucideIcon-QXbACLHs.js";function m(i){const l=(i||"").toLowerCase();return l==="submitted"||l==="adviser-review"}const b=({requests:i=[],loading:l=!1})=>{const r=i.filter(s=>m(s.workflow_state)).sort((s,a)=>{const n=s.created_at?Date.parse(s.created_at):0,d=a.created_at?Date.parse(a.created_at):0;return n-d}),c=r.slice(0,5);return e.jsx("div",{className:"flex-1 border-sidebar-border/70 dark:border-sidebar-border rounded-xl border p-5 bg-white dark:bg-zinc-900 flex flex-col transition min-h-[220px]",children:l?e.jsxs("div",{className:"flex flex-col gap-3 h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx(t,{className:"h-8 w-20 mb-2 bg-gray-100"}),e.jsx(t,{className:"h-4 w-32 bg-gray-100"}),e.jsx(t,{className:"h-3 w-40 mt-2 bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{className:"h-10 w-10 rounded-full bg-gray-100"}),e.jsx(t,{className:"h-6 w-6 rounded-full bg-gray-100"})]})]}),e.jsx(t,{className:"h-4 w-full bg-gray-100"}),e.jsx("div",{className:"flex flex-col gap-2 mt-2",children:Array.from({length:5}).map((s,a)=>e.jsx(t,{className:"h-5 w-full bg-gray-100"},a))})]}):e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:"/defense-requests",className:"flex items-center justify-between mb-2 group cursor-pointer select-none",style:{textDecoration:"none"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold text-rose-500",children:r.length}),e.jsx("div",{className:"text-[13px] font-medium text-gray-700 dark:text-gray-300",children:"Needs Your Review"}),e.jsx("div",{className:"text-[11px] mt-1 text-gray-500 dark:text-gray-400",children:"Pending adviser action"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-flex items-center justify-center rounded-full bg-rose-500 p-2",children:e.jsx(o,{className:"size-6 text-white"})}),e.jsx(x,{className:"size-6 text-gray-400 transition-transform transition-colors duration-200 group-hover:text-rose-500 group-hover:translate-x-1"})]})]}),e.jsx("hr",{className:"my-2 border-gray-200 dark:border-gray-700"}),e.jsxs("div",{className:"overflow-x-auto",children:[r.length===0?e.jsx("div",{className:"text-center text-gray-400 py-6 text-xs",children:"No submissions awaiting your action."}):e.jsxs("table",{className:"w-full text-xs table-fixed",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-gray-500 dark:text-gray-400",children:[e.jsx("th",{className:"text-left py-1 pr-3 w-[55%]",children:"Thesis Title"}),e.jsx("th",{className:"text-left py-1 pr-3 w-[25%]",children:"Student"}),e.jsx("th",{className:"text-left py-1 w-[20%]",children:"State"})]})}),e.jsx("tbody",{children:c.map(s=>{const a=(s.workflow_state||"submitted").replace(/-/g," "),n=s.first_name||s.last_name?`${s.first_name??""} ${s.last_name??""}`.trim():s.school_id??"—";return e.jsxs("tr",{className:"align-top",children:[e.jsx("td",{className:"truncate py-1 pr-3",children:s.thesis_title||"—"}),e.jsx("td",{className:"truncate py-1 pr-3",children:n}),e.jsx("td",{className:"py-1",children:e.jsx("span",{className:"inline-block px-2 py-0.5 rounded-full bg-rose-100 dark:bg-rose-950 text-rose-700 dark:text-rose-300 text-[10px] font-semibold capitalize",children:a})})]},s.id)})})]}),r.length>5&&e.jsxs("span",{className:"text-xs text-rose-500 mt-2 inline-block",children:["+",r.length-5," more"]})]})]})})};export{b as default};
