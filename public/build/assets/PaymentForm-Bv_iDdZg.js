var se=Object.defineProperty;var ne=(n,s,e)=>s in n?se(n,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[s]=e;var i=(n,s,e)=>ne(n,typeof s!="symbol"?s+"":s,e);import{r as O,m as ae,j as o}from"./app-BFhJ_rhz.js";import{L as R}from"./label-1vsVmE7Q.js";import{I as F}from"./input-BIzgsiDe.js";import{B as C}from"./button-CKae6SRa.js";import{P as ie,a as oe,b as ce,C as ue}from"./calendar-XS_JVQYC.js";import{S as le}from"./separator-BY26pNcl.js";import{g as de,a as W,b as $,c as fe,d as we,l as U,i as he,w as z,e as me,f as Z}from"./format-HX8DKPSU.js";import{g as K,t as j,c as Y,m as xe,a as pe,k as be,b as V,e as ye}from"./en-US-BA9orzCf.js";import{a as J}from"./endOfWeek-QFyZPl43.js";import{C as ge}from"./calendar-CgC1wT9Q.js";import{P as Te}from"./paperclip-Dlg1S261.js";import{c as _e}from"./createLucideIcon-KZz7-iiu.js";import"./index-BxKqTWPD.js";import"./index-XUnuFccv.js";import"./utils-jAU0Cazi.js";import"./index-DZZQifJx.js";import"./floating-ui.react-dom-cBbMY6yK.js";import"./index-D0wd6wGz.js";import"./differenceInCalendarMonths-HUNRrXGm.js";import"./normalizeInterval-CdMCNNY-.js";import"./endOfMonth-CK_ShA5m.js";import"./isSameDay-DUlCFK42.js";import"./isSameMonth-CQd3m9St.js";import"./chevron-left-D0d8_kcB.js";import"./chevron-right-DjSSbn5Y.js";import"./chevron-down-CFBjVW0P.js";import"./index-DECR1Bfi.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ke=_e("Image",De);function Pe(){return Object.assign({},K())}function Me(n,s){const e=j(n,s==null?void 0:s.in).getDay();return e===0?7:e}function Ne(n,s){const e=ve(s)?new s(0):Y(s,0);return e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e}function ve(n){var s;return typeof n=="function"&&((s=n.prototype)==null?void 0:s.constructor)===n}const Oe=10;class S{constructor(){i(this,"subPriority",0)}validate(s,e){return!0}}class Ye extends S{constructor(s,e,r,t,a){super(),this.value=s,this.validateValue=e,this.setValue=r,this.priority=t,a&&(this.subPriority=a)}validate(s,e){return this.validateValue(s,this.value,e)}set(s,e,r){return this.setValue(s,e,this.value,r)}}class Ee extends S{constructor(e,r){super();i(this,"priority",Oe);i(this,"subPriority",-1);this.context=e||(t=>Y(r,t))}set(e,r){return r.timestampIsSet?e:Y(e,Ne(e,this.context))}}class l{run(s,e,r,t){const a=this.parse(s,e,r,t);return a?{setter:new Ye(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(s,e,r){return!0}}class Ie extends l{constructor(){super(...arguments);i(this,"priority",140);i(this,"incompatibleTokens",["R","u","t","T"])}parse(e,r,t){switch(r){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"})||t.era(e,{width:"narrow"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})||t.era(e,{width:"abbreviated"})||t.era(e,{width:"narrow"})}}set(e,r,t){return r.era=t,e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}}const m={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},P={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function x(n,s){return n&&{value:s(n.value),rest:n.rest}}function w(n,s){const e=s.match(n);return e?{value:parseInt(e[0],10),rest:s.slice(e[0].length)}:null}function M(n,s){const e=s.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:s.slice(1)};const r=e[1]==="+"?1:-1,t=e[2]?parseInt(e[2],10):0,a=e[3]?parseInt(e[3],10):0,c=e[5]?parseInt(e[5],10):0;return{value:r*(t*xe+a*pe+c*be),rest:s.slice(e[0].length)}}function ee(n){return w(m.anyDigitsSigned,n)}function h(n,s){switch(n){case 1:return w(m.singleDigit,s);case 2:return w(m.twoDigits,s);case 3:return w(m.threeDigits,s);case 4:return w(m.fourDigits,s);default:return w(new RegExp("^\\d{1,"+n+"}"),s)}}function Q(n,s){switch(n){case 1:return w(m.singleDigitSigned,s);case 2:return w(m.twoDigitsSigned,s);case 3:return w(m.threeDigitsSigned,s);case 4:return w(m.fourDigitsSigned,s);default:return w(new RegExp("^-?\\d{1,"+n+"}"),s)}}function B(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function te(n,s){const e=s>0,r=e?s:1-s;let t;if(r<=50)t=n||100;else{const a=r+50,c=Math.trunc(a/100)*100,p=n>=a%100;t=n+c-(p?100:0)}return e?t:1-t}function re(n){return n%400===0||n%4===0&&n%100!==0}class je extends l{constructor(){super(...arguments);i(this,"priority",130);i(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,r,t){const a=c=>({year:c,isTwoDigitYear:r==="yy"});switch(r){case"y":return x(h(4,e),a);case"yo":return x(t.ordinalNumber(e,{unit:"year"}),a);default:return x(h(r.length,e),a)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,t){const a=e.getFullYear();if(t.isTwoDigitYear){const p=te(t.year,a);return e.setFullYear(p,0,1),e.setHours(0,0,0,0),e}const c=!("era"in r)||r.era===1?t.year:1-t.year;return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}}class Le extends l{constructor(){super(...arguments);i(this,"priority",130);i(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,r,t){const a=c=>({year:c,isTwoDigitYear:r==="YY"});switch(r){case"Y":return x(h(4,e),a);case"Yo":return x(t.ordinalNumber(e,{unit:"year"}),a);default:return x(h(r.length,e),a)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,t,a){const c=de(e,a);if(t.isTwoDigitYear){const T=te(t.year,c);return e.setFullYear(T,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),W(e,a)}const p=!("era"in r)||r.era===1?t.year:1-t.year;return e.setFullYear(p,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),W(e,a)}}class qe extends l{constructor(){super(...arguments);i(this,"priority",130);i(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,r){return Q(r==="R"?4:r.length,e)}set(e,r,t){const a=Y(e,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),$(a)}}class He extends l{constructor(){super(...arguments);i(this,"priority",130);i(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,r){return Q(r==="u"?4:r.length,e)}set(e,r,t){return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}}class Re extends l{constructor(){super(...arguments);i(this,"priority",120);i(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,r,t){switch(r){case"Q":case"QQ":return h(r.length,e);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"})||t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})||t.quarter(e,{width:"abbreviated",context:"formatting"})||t.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=1&&r<=4}set(e,r,t){return e.setMonth((t-1)*3,1),e.setHours(0,0,0,0),e}}class Ce extends l{constructor(){super(...arguments);i(this,"priority",120);i(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,r,t){switch(r){case"q":case"qq":return h(r.length,e);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"})||t.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})||t.quarter(e,{width:"abbreviated",context:"standalone"})||t.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=1&&r<=4}set(e,r,t){return e.setMonth((t-1)*3,1),e.setHours(0,0,0,0),e}}class Qe extends l{constructor(){super(...arguments);i(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);i(this,"priority",110)}parse(e,r,t){const a=c=>c-1;switch(r){case"M":return x(w(m.month,e),a);case"MM":return x(h(2,e),a);case"Mo":return x(t.ordinalNumber(e,{unit:"month"}),a);case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"})||t.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})||t.month(e,{width:"abbreviated",context:"formatting"})||t.month(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.setMonth(t,1),e.setHours(0,0,0,0),e}}class Fe extends l{constructor(){super(...arguments);i(this,"priority",110);i(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,r,t){const a=c=>c-1;switch(r){case"L":return x(w(m.month,e),a);case"LL":return x(h(2,e),a);case"Lo":return x(t.ordinalNumber(e,{unit:"month"}),a);case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"})||t.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})||t.month(e,{width:"abbreviated",context:"standalone"})||t.month(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.setMonth(t,1),e.setHours(0,0,0,0),e}}function We(n,s,e){const r=j(n,e==null?void 0:e.in),t=fe(r,e)-s;return r.setDate(r.getDate()-t*7),j(r,e==null?void 0:e.in)}class Be extends l{constructor(){super(...arguments);i(this,"priority",100);i(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,r,t){switch(r){case"w":return w(m.week,e);case"wo":return t.ordinalNumber(e,{unit:"week"});default:return h(r.length,e)}}validate(e,r){return r>=1&&r<=53}set(e,r,t,a){return W(We(e,t,a),a)}}function Ae(n,s,e){const r=j(n,e==null?void 0:e.in),t=we(r,e)-s;return r.setDate(r.getDate()-t*7),r}class Ge extends l{constructor(){super(...arguments);i(this,"priority",100);i(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,r,t){switch(r){case"I":return w(m.week,e);case"Io":return t.ordinalNumber(e,{unit:"week"});default:return h(r.length,e)}}validate(e,r){return r>=1&&r<=53}set(e,r,t){return $(Ae(e,t))}}const Xe=[31,28,31,30,31,30,31,31,30,31,30,31],Ue=[31,29,31,30,31,30,31,31,30,31,30,31];class ze extends l{constructor(){super(...arguments);i(this,"priority",90);i(this,"subPriority",1);i(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,r,t){switch(r){case"d":return w(m.date,e);case"do":return t.ordinalNumber(e,{unit:"date"});default:return h(r.length,e)}}validate(e,r){const t=e.getFullYear(),a=re(t),c=e.getMonth();return a?r>=1&&r<=Ue[c]:r>=1&&r<=Xe[c]}set(e,r,t){return e.setDate(t),e.setHours(0,0,0,0),e}}class Ze extends l{constructor(){super(...arguments);i(this,"priority",90);i(this,"subpriority",1);i(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,r,t){switch(r){case"D":case"DD":return w(m.dayOfYear,e);case"Do":return t.ordinalNumber(e,{unit:"date"});default:return h(r.length,e)}}validate(e,r){const t=e.getFullYear();return re(t)?r>=1&&r<=366:r>=1&&r<=365}set(e,r,t){return e.setMonth(0,t),e.setHours(0,0,0,0),e}}function A(n,s,e){var y,N,I,b;const r=K(),t=(e==null?void 0:e.weekStartsOn)??((N=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:N.weekStartsOn)??r.weekStartsOn??((b=(I=r.locale)==null?void 0:I.options)==null?void 0:b.weekStartsOn)??0,a=j(n,e==null?void 0:e.in),c=a.getDay(),T=(s%7+7)%7,D=7-t,E=s<0||s>6?s-(c+D)%7:(T+D)%7-(c+D)%7;return J(a,E,e)}class $e extends l{constructor(){super(...arguments);i(this,"priority",90);i(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,r,t){switch(r){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,a){return e=A(e,t,a),e.setHours(0,0,0,0),e}}class Ke extends l{constructor(){super(...arguments);i(this,"priority",90);i(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,r,t,a){const c=p=>{const T=Math.floor((p-1)/7)*7;return(p+a.weekStartsOn+6)%7+T};switch(r){case"e":case"ee":return x(h(r.length,e),c);case"eo":return x(t.ordinalNumber(e,{unit:"day"}),c);case"eee":return t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"eeeee":return t.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,a){return e=A(e,t,a),e.setHours(0,0,0,0),e}}class Ve extends l{constructor(){super(...arguments);i(this,"priority",90);i(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,r,t,a){const c=p=>{const T=Math.floor((p-1)/7)*7;return(p+a.weekStartsOn+6)%7+T};switch(r){case"c":case"cc":return x(h(r.length,e),c);case"co":return x(t.ordinalNumber(e,{unit:"day"}),c);case"ccc":return t.day(e,{width:"abbreviated",context:"standalone"})||t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"});case"ccccc":return t.day(e,{width:"narrow",context:"standalone"});case"cccccc":return t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return t.day(e,{width:"wide",context:"standalone"})||t.day(e,{width:"abbreviated",context:"standalone"})||t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,a){return e=A(e,t,a),e.setHours(0,0,0,0),e}}function Je(n,s,e){const r=j(n,e==null?void 0:e.in),t=Me(r,e),a=s-t;return J(r,a,e)}class Se extends l{constructor(){super(...arguments);i(this,"priority",90);i(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,r,t){const a=c=>c===0?7:c;switch(r){case"i":case"ii":return h(r.length,e);case"io":return t.ordinalNumber(e,{unit:"day"});case"iii":return x(t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return x(t.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return x(t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return x(t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,r){return r>=1&&r<=7}set(e,r,t){return e=Je(e,t),e.setHours(0,0,0,0),e}}class et extends l{constructor(){super(...arguments);i(this,"priority",80);i(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,r,t){switch(r){case"a":case"aa":case"aaa":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(B(t),0,0,0),e}}class tt extends l{constructor(){super(...arguments);i(this,"priority",80);i(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,r,t){switch(r){case"b":case"bb":case"bbb":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(B(t),0,0,0),e}}class rt extends l{constructor(){super(...arguments);i(this,"priority",80);i(this,"incompatibleTokens",["a","b","t","T"])}parse(e,r,t){switch(r){case"B":case"BB":case"BBB":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(B(t),0,0,0),e}}class st extends l{constructor(){super(...arguments);i(this,"priority",70);i(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,r,t){switch(r){case"h":return w(m.hour12h,e);case"ho":return t.ordinalNumber(e,{unit:"hour"});default:return h(r.length,e)}}validate(e,r){return r>=1&&r<=12}set(e,r,t){const a=e.getHours()>=12;return a&&t<12?e.setHours(t+12,0,0,0):!a&&t===12?e.setHours(0,0,0,0):e.setHours(t,0,0,0),e}}class nt extends l{constructor(){super(...arguments);i(this,"priority",70);i(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,r,t){switch(r){case"H":return w(m.hour23h,e);case"Ho":return t.ordinalNumber(e,{unit:"hour"});default:return h(r.length,e)}}validate(e,r){return r>=0&&r<=23}set(e,r,t){return e.setHours(t,0,0,0),e}}class at extends l{constructor(){super(...arguments);i(this,"priority",70);i(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,r,t){switch(r){case"K":return w(m.hour11h,e);case"Ko":return t.ordinalNumber(e,{unit:"hour"});default:return h(r.length,e)}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.getHours()>=12&&t<12?e.setHours(t+12,0,0,0):e.setHours(t,0,0,0),e}}class it extends l{constructor(){super(...arguments);i(this,"priority",70);i(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,r,t){switch(r){case"k":return w(m.hour24h,e);case"ko":return t.ordinalNumber(e,{unit:"hour"});default:return h(r.length,e)}}validate(e,r){return r>=1&&r<=24}set(e,r,t){const a=t<=24?t%24:t;return e.setHours(a,0,0,0),e}}class ot extends l{constructor(){super(...arguments);i(this,"priority",60);i(this,"incompatibleTokens",["t","T"])}parse(e,r,t){switch(r){case"m":return w(m.minute,e);case"mo":return t.ordinalNumber(e,{unit:"minute"});default:return h(r.length,e)}}validate(e,r){return r>=0&&r<=59}set(e,r,t){return e.setMinutes(t,0,0),e}}class ct extends l{constructor(){super(...arguments);i(this,"priority",50);i(this,"incompatibleTokens",["t","T"])}parse(e,r,t){switch(r){case"s":return w(m.second,e);case"so":return t.ordinalNumber(e,{unit:"second"});default:return h(r.length,e)}}validate(e,r){return r>=0&&r<=59}set(e,r,t){return e.setSeconds(t,0),e}}class ut extends l{constructor(){super(...arguments);i(this,"priority",30);i(this,"incompatibleTokens",["t","T"])}parse(e,r){const t=a=>Math.trunc(a*Math.pow(10,-r.length+3));return x(h(r.length,e),t)}set(e,r,t){return e.setMilliseconds(t),e}}class lt extends l{constructor(){super(...arguments);i(this,"priority",10);i(this,"incompatibleTokens",["t","T","x"])}parse(e,r){switch(r){case"X":return M(P.basicOptionalMinutes,e);case"XX":return M(P.basic,e);case"XXXX":return M(P.basicOptionalSeconds,e);case"XXXXX":return M(P.extendedOptionalSeconds,e);case"XXX":default:return M(P.extended,e)}}set(e,r,t){return r.timestampIsSet?e:Y(e,e.getTime()-V(e)-t)}}class dt extends l{constructor(){super(...arguments);i(this,"priority",10);i(this,"incompatibleTokens",["t","T","X"])}parse(e,r){switch(r){case"x":return M(P.basicOptionalMinutes,e);case"xx":return M(P.basic,e);case"xxxx":return M(P.basicOptionalSeconds,e);case"xxxxx":return M(P.extendedOptionalSeconds,e);case"xxx":default:return M(P.extended,e)}}set(e,r,t){return r.timestampIsSet?e:Y(e,e.getTime()-V(e)-t)}}class ft extends l{constructor(){super(...arguments);i(this,"priority",40);i(this,"incompatibleTokens","*")}parse(e){return ee(e)}set(e,r,t){return[Y(e,t*1e3),{timestampIsSet:!0}]}}class wt extends l{constructor(){super(...arguments);i(this,"priority",20);i(this,"incompatibleTokens","*")}parse(e){return ee(e)}set(e,r,t){return[Y(e,t),{timestampIsSet:!0}]}}const ht={G:new Ie,y:new je,Y:new Le,R:new qe,u:new He,Q:new Re,q:new Ce,M:new Qe,L:new Fe,w:new Be,I:new Ge,d:new ze,D:new Ze,E:new $e,e:new Ke,c:new Ve,i:new Se,a:new et,b:new tt,B:new rt,h:new st,H:new nt,K:new at,k:new it,m:new ot,s:new ct,S:new ut,X:new lt,x:new dt,t:new ft,T:new wt},mt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pt=/^'([^]*?)'?$/,bt=/''/g,yt=/\S/,gt=/[a-zA-Z]/;function Tt(n,s,e,r){var k,_,L,H;const t=()=>Y(e,NaN),a=Pe(),c=a.locale??ye,p=a.firstWeekContainsDate??((_=(k=a.locale)==null?void 0:k.options)==null?void 0:_.firstWeekContainsDate)??1,T=a.weekStartsOn??((H=(L=a.locale)==null?void 0:L.options)==null?void 0:H.weekStartsOn)??0,D={firstWeekContainsDate:p,weekStartsOn:T,locale:c},E=[new Ee(r==null?void 0:r.in,e)],y=s.match(xt).map(u=>{const f=u[0];if(f in U){const d=U[f];return d(u,c.formatLong)}return u}).join("").match(mt),N=[];for(let u of y){he(u)&&z(u,s,n),me(u)&&z(u,s,n);const f=u[0],d=ht[f];if(d){const{incompatibleTokens:g}=d;if(Array.isArray(g)){const G=N.find(X=>g.includes(X.token)||X.token===f);if(G)throw new RangeError(`The format string mustn't contain \`${G.fullToken}\` and \`${u}\` at the same time`)}else if(d.incompatibleTokens==="*"&&N.length>0)throw new RangeError(`The format string mustn't contain \`${u}\` and any other token at the same time`);N.push({token:f,fullToken:u});const v=d.run(n,u,c.match,D);if(!v)return t();E.push(v.setter),n=v.rest}else{if(f.match(gt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");if(u==="''"?u="'":f==="'"&&(u=_t(u)),n.indexOf(u)===0)n=n.slice(u.length);else return t()}}if(n.length>0&&yt.test(n))return t();const I=E.map(u=>u.priority).sort((u,f)=>f-u).filter((u,f,d)=>d.indexOf(u)===f).map(u=>E.filter(f=>f.priority===u).sort((f,d)=>d.subPriority-f.subPriority)).map(u=>u[0]);let b=j(e,r==null?void 0:r.in);if(isNaN(+b))return t();const q={};for(const u of I){if(!u.validate(b,D))return t();const f=u.set(b,q,D);Array.isArray(f)?(b=f[0],Object.assign(q,f[1])):b=f}return b}function _t(n){return n.match(pt)[1].replace(bt,"'")}function Vt({canSubmit:n,payment:s,onSuccess:e}){const[r,t]=O.useState(null),[a,c]=O.useState(""),p=O.useRef(null),[T,D]=O.useState(!1),E=O.useMemo(()=>{if(s!=null&&s.payment_date)try{return Tt(s.payment_date,"yyyy-MM-dd",new Date)}catch{return}},[s==null?void 0:s.payment_date]),[y,N]=O.useState(E),{data:I,setData:b,post:q,processing:k,errors:_,reset:L}=ae({or_number:(s==null?void 0:s.or_number)??"",payment_date:(s==null?void 0:s.payment_date)??"",receipt_image:null,amount_paid:(s==null?void 0:s.amount_paid)??null});O.useEffect(()=>{y?b("payment_date",Z(y,"yyyy-MM-dd")):b("payment_date","")},[y]),O.useEffect(()=>{if(!a&&(s!=null&&s.receipt_image)){const d=s.receipt_image.split("/").pop()||s.receipt_image;c(d)}},[s==null?void 0:s.receipt_image,a]),O.useEffect(()=>()=>{r&&URL.revokeObjectURL(r)},[r]);function H(){var d;(d=p.current)==null||d.click()}function u(d){var v;const g=((v=d.currentTarget.files)==null?void 0:v[0])??null;b("receipt_image",g),r&&URL.revokeObjectURL(r),g?(c(g.name),t(URL.createObjectURL(g))):(c(""),t(null))}function f(d){d.preventDefault(),q(route("payment.store"),{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{t(null),c(""),L("receipt_image"),e==null||e()}})}return o.jsxs("div",{className:"rounded-lg bg-white",children:[o.jsxs("div",{className:"py-4 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h2",{className:"font-semibold text-lg",children:"Payment Form"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Submit your official receipt for verification."})]}),o.jsx("div",{className:"p-2",children:o.jsxs("form",{onSubmit:f,encType:"multipart/form-data",className:"grid gap-5 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx(R,{className:"text-sm",children:"OR number"}),o.jsx(F,{className:"mt-1 h-9",value:I.or_number,placeholder:"e.g. 2025-OR-000123",inputMode:"text",autoCapitalize:"characters",autoCorrect:"off",spellCheck:!1,pattern:"^[A-Z0-9-]+$",title:"Use only capital letters, numbers, and dashes",onChange:d=>{const g=d.target.value.toUpperCase().replace(/[^A-Z0-9-]/g,"");b("or_number",g)},disabled:!n||k,maxLength:50,required:!0}),_.or_number&&o.jsx("p",{className:"mt-1 text-xs text-red-600",children:_.or_number})]}),o.jsxs("div",{children:[o.jsx(R,{className:"text-sm",children:"Amount Paid"}),o.jsx(F,{type:"number",step:"0.01",min:"0",className:"mt-1 h-9",value:I.amount_paid??"",placeholder:"e.g. 100.00",inputMode:"decimal",onChange:d=>{const g=d.target.value,v=g===""?null:Number.parseFloat(g);b("amount_paid",Number.isFinite(v)?v:null)},disabled:!n||k,required:!0}),_.amount_paid&&o.jsx("p",{className:"mt-1 text-xs text-red-600",children:_.amount_paid})]}),o.jsxs("div",{children:[o.jsx(R,{className:"text-sm",children:"Payment date"}),o.jsxs(ie,{open:T,onOpenChange:D,children:[" ",o.jsx(oe,{asChild:!0,children:o.jsxs(C,{variant:"outline",type:"button",disabled:!n||k,className:`mt-1 h-9 w-full justify-start text-left font-normal ${y?"":"text-muted-foreground"}`,children:[o.jsx(ge,{className:"mr-2 h-4 w-4"}),y?Z(y,"MM/dd/yyyy"):o.jsx("span",{children:"Select date"})]})}),o.jsx(ce,{className:"z-[1001] w-auto p-0 pointer-events-auto",align:"start",side:"bottom",children:o.jsx(ue,{mode:"single",selected:y,onSelect:d=>{d&&N(d),D(!1)},initialFocus:!0})})]}),_.payment_date&&o.jsx("p",{className:"mt-1 text-xs text-red-600",children:_.payment_date})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(R,{className:"text-sm",children:"Receipt image"}),o.jsxs("div",{className:"mt-1 mb-2 flex items-center gap-2",children:[o.jsx(F,{readOnly:!0,value:a||"",placeholder:"No file chosen",className:"flex-1 h-9"}),o.jsxs(C,{variant:"outline",type:"button",onClick:H,disabled:!n||k,className:"h-9",children:[o.jsx(Te,{className:"mr-1 h-4 w-4"}),"Choose File"]}),o.jsx("input",{ref:p,type:"file",accept:"image/*",name:"receipt_image",className:"hidden",onChange:u,required:!(s!=null&&s.receipt_image)})]}),_.receipt_image&&o.jsx("p",{className:"mt-1 text-xs text-red-600",children:_.receipt_image}),r?o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:r,alt:"Receipt preview",className:"h-36 w-auto rounded-md border border-slate-200 dark:border-slate-700 object-contain bg-white"})}):s!=null&&s.receipt_image?o.jsx("div",{className:"mt-2 text-sm",children:o.jsxs("a",{className:"inline-flex items-center gap-1 text-primary underline hover:no-underline",href:`/storage/${s.receipt_image}`,target:"_blank",rel:"noreferrer",children:[o.jsx(ke,{className:"h-4 w-4"}),"View current receipt"]})}):null]}),o.jsx(le,{className:"md:col-span-2"}),o.jsxs("div",{className:"md:col-span-2 flex items-center justify-end gap-2",children:[o.jsx(C,{type:"button",variant:"outline",onClick:()=>{t(null),c(""),L(),N(E)},disabled:k,className:"h-9",children:"Clear"}),o.jsx(C,{type:"submit",className:"bg-rose-500 h-9",disabled:!n||k,children:k?"Submitting…":s?"Update Payment":"Submit Payment"})]})]})})]})}export{Vt as default};
