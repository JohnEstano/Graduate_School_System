import{r as t,a as l,j as e}from"./app-DW0Mt5c9.js";import{T as ls,a as ds,b as ue,c as _,d as cs,e as k}from"./table-CYsX4eCK.js";import{B as n}from"./button-BZf0VdIO.js";import{I as y}from"./input-Ch6RmxP_.js";import{D as x,d as ge,a as h,e as u,b as g,c as A,f as p}from"./dialog-D7L72BhV.js";import{S as Q}from"./skeleton-mSVdOwMe.js";import{A as pe,a as fe}from"./avatar-B3rD_VQk.js";import{T as os,a as ms,b as Pe,c as Ue}from"./tabs-3Dm9feNm.js";import{B as Be}from"./badge-B7OUzsXL.js";import{A as xs,a as hs,b as us}from"./alert-Dap4gtF9.js";import{T as gs,t as w}from"./index-ByTeG7FR.js";import{U as Me}from"./users-CFj_s0Ga.js";import{U as Ve}from"./user-plus-ghgo2mQ3.js";import{L as T}from"./loader-circle-EY4lXEgZ.js";import{S as ps}from"./search-Ck6Ms1BF.js";import{S as Ge}from"./square-pen-DAuFRdnq.js";import{T as He}from"./trash-CdJgu8jB.js";import{U as fs}from"./user-IcA54EZW.js";import{M as O}from"./mail-DTFdjxel.js";import{M as js}from"./message-circle-BbBLgXPg.js";import{R as vs}from"./refresh-cw-CQGNcdhP.js";import{P as qe}from"./plus-DgMBMen3.js";import{I as bs}from"./info-Dl-vg0Zq.js";import"./utils-jAU0Cazi.js";import"./index-RzYQM1sh.js";import"./index-DZZQifJx.js";import"./index-BMNAwHVU.js";import"./index-DHu7YzAG.js";import"./index-Bh88FqJG.js";import"./x-CW6T59GI.js";import"./createLucideIcon-S0dKkUVo.js";import"./index-I9YLalqX.js";import"./index-xrb8sl6P.js";function je(f){var z,R,D,o;const j=((R=(z=f.first_name)==null?void 0:z.trim())==null?void 0:R[0])??"",W=((o=(D=f.last_name)==null?void 0:D.trim())==null?void 0:o[0])??"";return(j+W).toUpperCase()||"U"}function et(){const[f,j]=t.useState([]),[W,z]=t.useState(!1),[R,D]=t.useState(!0),[o,Ye]=t.useState(""),[I,ve]=t.useState(!1),[$,J]=t.useState(""),[L,K]=t.useState(""),[be,X]=t.useState(""),[Qe,Z]=t.useState(!1),[v,ee]=t.useState(null),[F,Ne]=t.useState(""),[P,ke]=t.useState(""),[U,ye]=t.useState(!1),[we,se]=t.useState(""),[a,ze]=t.useState(null),[We,Se]=t.useState(!1),[B,te]=t.useState([]),[ae,Ce]=t.useState(!1),[Je,M]=t.useState(!1),[b,V]=t.useState(null),[Ke,G]=t.useState(!1),[d,ie]=t.useState(null),[ne,Ee]=t.useState(!1),[Xe,re]=t.useState(!1),[H,_e]=t.useState(""),[le,Ae]=t.useState(""),[N,Te]=t.useState(!1),[Ze,q]=t.useState(!1),[S,Oe]=t.useState(null),[de,Re]=t.useState([]),[ce,De]=t.useState(!1),[es,Ie]=t.useState("assigned"),[c,oe]=t.useState(1),C=10;t.useEffect(()=>{l.get("/api/coordinator/advisers").then(s=>j(s.data)).finally(()=>D(!1))},[]);const Y=f.filter(s=>s.first_name.toLowerCase().includes(o.toLowerCase())||s.last_name.toLowerCase().includes(o.toLowerCase())||s.email.toLowerCase().includes(o.toLowerCase())),me=Math.ceil(Y.length/C),$e=Y.slice((c-1)*C,c*C);t.useEffect(()=>{(c-1)*C>=Y.length&&oe(1)},[Y.length,c,C]);const ss=async()=>{var s,i,r;if(!(!$.trim()||!L.trim())){ve(!0),X("");try{const E=await l.post("/api/coordinator/advisers",{name:$.trim(),email:L.trim()}),rs=await l.get("/api/coordinator/advisers");j(rs.data),z(!1),J(""),K("");const m=(s=E.data)==null?void 0:s.adviser;(m==null?void 0:m.status)==="inactive"?(ie({name:`${m.first_name} ${m.last_name}`,email:m.email,adviserId:m.id}),G(!0),w.success("Adviser registered successfully!")):w.success("Adviser registered successfully!")}catch(E){X(((r=(i=E.response)==null?void 0:i.data)==null?void 0:r.error)||"Failed to register adviser")}finally{ve(!1)}}},ts=async()=>{var s,i;if(d){Ee(!0);try{await l.post(`/api/coordinator/advisers/${d.adviserId}/send-invitation`),w.success(`Invitation email sent successfully to ${d.email}`,{description:"The adviser will receive instructions to activate their account.",duration:5e3})}catch(r){w.error("Failed to send invitation email",{description:((i=(s=r.response)==null?void 0:s.data)==null?void 0:i.message)||"Please try again later.",duration:5e3})}finally{Ee(!1),G(!1),ie(null)}}},as=async()=>{b&&(await l.delete(`/api/coordinator/advisers/${b.id}`),j(f.filter(s=>s.id!==b.id)),M(!1),V(null))},is=async()=>{var s,i;if(v){ye(!0),se("");try{await l.put(`/api/coordinator/advisers/${v.id}`,{name:F.trim(),email:P.trim()}),j(f.map(r=>r.id===v.id?{...r,name:F.trim(),email:P.trim()}:r)),Z(!1),ee(null)}catch(r){se(((i=(s=r.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to update adviser")}finally{ye(!1)}}},xe=async s=>{Ce(!0);try{const i=await l.get(`/api/coordinator/advisers/${s}/students`);te(i.data)}finally{Ce(!1)}},he=async s=>{De(!0);try{const i=await l.get(`/api/coordinator/advisers/${s}/pending-students`);Re(i.data)}finally{De(!1)}};t.useEffect(()=>{a&&(xe(a.id),he(a.id),Ie("assigned"))},[a]);const ns=async()=>{!H.trim()||!a||(Oe({studentEmail:H.trim()}),q(!0))},Le=async s=>{var i,r;if(!(!S||!a)){Te(!0),Ae("");try{await l.post(`/api/coordinator/advisers/${a.id}/students`,{email:S.studentEmail,send_email:s}),await he(a.id),await xe(a.id),re(!1),q(!1),_e(""),Oe(null),s?w.success("Student assigned and email notification sent to adviser!"):w.success("Student assigned successfully (no email sent)")}catch(E){Ae(((r=(i=E.response)==null?void 0:i.data)==null?void 0:r.error)||"Failed to add student."),q(!1)}finally{Te(!1)}}},Fe=async()=>{a&&(await xe(a.id),await he(a.id))};return R?e.jsxs("div",{className:"w-full min-h-[70vh] bg-background flex flex-col gap-4 p-0 m-0",children:[e.jsx(Q,{className:"h-6 w-1/6 rounded bg-muted dark:bg-muted mt-8 mx-8"}),e.jsx(Q,{className:"h-12 w-3/4 rounded bg-muted dark:bg-muted mx-8"}),e.jsx(Q,{className:"h-12 w-2/3 rounded bg-muted dark:bg-muted mx-8"}),e.jsx(Q,{className:"h-[400px] w-full rounded bg-muted dark:bg-muted mt-4"})]}):e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-auto rounded-xl pt-5 pr-7 pl-7 relative bg-background",children:[e.jsxs("div",{className:"w-full border border-border rounded-lg overflow-hidden mb-1 bg-white dark:bg-zinc-900",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between w-full p-3 border-b bg-white dark:bg-zinc-900",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-rose-500/10 border border-rose-500",children:e.jsx(Me,{className:"h-5 w-5 text-rose-500"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-base font-semibold ",children:"Advisers"}),e.jsx("span",{className:"block text-xs text-muted-foreground dark:text-zinc-400",children:"This page lists all advisers under your coordination. You can add, search, and manage advisers here."})]})]}),e.jsxs(x,{open:W,onOpenChange:s=>{z(s),s||(J(""),K(""),X(""))},children:[e.jsx(ge,{asChild:!0,children:e.jsxs(n,{className:"h-8 px-4 py-1 text-sm",children:[e.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Register an Adviser"]})}),e.jsxs(h,{children:[e.jsxs(u,{children:[e.jsx(g,{children:"Register an Adviser"}),e.jsx(A,{children:"Enter the adviser's name and email to add them under your coordination."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium dark:text-zinc-100",children:"Adviser Name"}),e.jsx(y,{type:"text",placeholder:"Full Name",value:$,onChange:s=>J(s.target.value),disabled:I,className:"dark:bg-zinc-800 dark:text-zinc-100"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium dark:text-zinc-100",children:"Adviser Email"}),e.jsx(y,{type:"email",placeholder:"Email",value:L,onChange:s=>K(s.target.value),disabled:I,className:"dark:bg-zinc-800 dark:text-zinc-100"})]}),be&&e.jsx("div",{className:"text-xs text-rose-500 mt-1",children:be})]}),e.jsx(p,{className:"mt-4",children:e.jsx(n,{onClick:ss,disabled:!$.trim()||!L.trim()||I,children:I?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Registering..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Register Adviser"]})})})]})]})]}),e.jsx("div",{className:"flex flex-row items-center justify-between w-full p-3 border-t bg-white dark:bg-zinc-900",children:e.jsx(y,{type:"text",startIcon:ps,placeholder:"Search...",value:o,onChange:s=>Ye(s.target.value),className:"max-w-xs text-sm py-1 h-8 bg-background dark:bg-background"})})]}),e.jsx("div",{className:"rounded-md w-full max-w-full border border-border bg-white dark:bg-zinc-900 overflow-x-auto",children:e.jsx("div",{className:"w-full min-w-[700px]",children:e.jsxs(ls,{className:"table-fixed w-full",children:[e.jsx(ds,{children:e.jsxs(ue,{children:[e.jsx(_,{className:"w-[220px] min-w-[180px] max-w-[260px] truncate",children:"Name"}),e.jsx(_,{className:"w-[220px] min-w-[180px] max-w-[260px] truncate",children:"Email"}),e.jsx(_,{className:"w-[90px] min-w-[70px] max-w-[100px] text-center",children:"Students"})," ",e.jsx(_,{className:"w-[110px] min-w-[90px] max-w-[120px] text-center",children:"Status"}),e.jsx(_,{className:"w-[120px] min-w-[100px] max-w-[140px] text-center",children:"Actions"})]})}),e.jsx(cs,{children:$e.length===0?e.jsx(ue,{children:e.jsx(k,{colSpan:5,className:"py-8 text-center text-sm text-muted-foreground dark:text-zinc-400",children:"No advisers found."})}):$e.map(s=>e.jsxs(ue,{children:[e.jsxs(k,{className:"flex items-center gap-3 truncate max-w-[240px]",children:[e.jsx(pe,{className:"h-8 w-8",children:e.jsx(fe,{children:je(s)})}),e.jsxs("span",{className:"truncate text-zinc-900 dark:text-zinc-100",children:[s.first_name," ",s.middle_name?s.middle_name[0]+".":""," ",s.last_name]})]}),e.jsx(k,{className:"truncate max-w-[240px] text-zinc-700 dark:text-zinc-300",children:s.email}),e.jsx(k,{className:"text-center text-zinc-700 dark:text-zinc-300",children:typeof s.assigned_students_count=="number"?s.assigned_students_count:0}),e.jsx(k,{className:"text-center",children:s.status==="active"?e.jsx(Be,{variant:"outline",className:"bg-green-100 text-green-700 border-green-200 dark:bg-green-900 dark:text-green-300 dark:border-green-800",children:"Active"}):e.jsx(Be,{variant:"outline",className:"bg-zinc-200 text-zinc-600 border-zinc-200 dark:bg-zinc-700 dark:text-zinc-300 dark:border-zinc-700",children:"Inactive"})}),e.jsxs(k,{className:"flex gap-2 justify-center",children:[e.jsx(n,{variant:"outline",size:"icon","aria-label":"View adviser",onClick:()=>{ze(s),Se(!0)},children:e.jsx(Me,{size:18})}),e.jsxs(x,{open:Qe&&(v==null?void 0:v.id)===s.id,onOpenChange:i=>{Z(i),i||(ee(null),se(""))},children:[e.jsx(ge,{asChild:!0,children:e.jsx(n,{variant:"outline",size:"icon","aria-label":"Edit adviser",onClick:()=>{ee(s),Ne(`${s.first_name}${s.middle_name?" "+s.middle_name:""} ${s.last_name}`.trim()),ke(s.email),Z(!0)},children:e.jsx(Ge,{size:18})})}),e.jsxs(h,{children:[e.jsx(u,{children:e.jsx(g,{children:"Edit Adviser"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium dark:text-zinc-100",children:"Adviser Name"}),e.jsx(y,{type:"text",placeholder:"Full Name",value:F,onChange:i=>Ne(i.target.value),disabled:U,className:"dark:bg-zinc-800 dark:text-zinc-100"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium dark:text-zinc-100",children:"Adviser Email"}),e.jsx(y,{type:"email",placeholder:"Email",value:P,onChange:i=>ke(i.target.value),disabled:U,className:"dark:bg-zinc-800 dark:text-zinc-100"})]}),we&&e.jsx("div",{className:"text-xs text-rose-500 mt-1",children:we})]}),e.jsx(p,{className:"mt-4",children:e.jsx(n,{onClick:is,disabled:!F.trim()||!P.trim()||U,children:U?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})})]})]}),e.jsxs(x,{open:Je&&(b==null?void 0:b.id)===s.id,onOpenChange:i=>{i||(M(!1),V(null))},children:[e.jsx(ge,{asChild:!0,children:e.jsx(n,{variant:"outline",size:"icon","aria-label":"Remove adviser",onClick:()=>{V(s),M(!0)},children:e.jsx(He,{size:18})})}),e.jsxs(h,{children:[e.jsx(u,{children:e.jsx(g,{children:"Remove Adviser"})}),e.jsxs("div",{className:"py-2 text-zinc-900 dark:text-zinc-100",children:["Are you sure you want to remove ",e.jsxs("b",{children:[s.first_name," ",s.last_name]})," from your coordination?"]}),e.jsxs(p,{children:[e.jsx(n,{variant:"outline",onClick:()=>{M(!1),V(null)},className:"mr-2 bg-white text-zinc-900 border-zinc-300 dark:bg-zinc-800 dark:text-zinc-100 dark:border-zinc-700",children:"Cancel"}),e.jsx(n,{onClick:as,className:"bg-rose-500 hover:bg-rose-600 text-white border-none",children:"Confirm"})]})]})]})]})]},s.id))})]})})}),me>1&&e.jsxs("div",{className:"flex justify-end items-center gap-2 mt-2",children:[e.jsx(n,{variant:"outline",size:"sm",disabled:c===1,onClick:()=>oe(c-1),children:"Prev"}),e.jsxs("span",{className:"text-xs text-zinc-900 dark:text-zinc-100",children:["Page ",c," of ",me]}),e.jsx(n,{variant:"outline",size:"sm",disabled:c===me,onClick:()=>oe(c+1),children:"Next"})]}),e.jsx(x,{open:We,onOpenChange:async s=>{Se(s),s&&a&&(te([]),Re([]),await Fe()),s||ze(null)},children:e.jsxs(h,{className:"max-w-2xl dark:bg-zinc-800",children:[e.jsxs(u,{children:[e.jsx(g,{className:"dark:text-zinc-100",children:"Adviser Information"}),e.jsx(A,{children:a&&e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsx("div",{className:"h-12 w-12 flex items-center justify-center rounded-full bg-rose-500/10 border border-rose-500",children:e.jsx(fs,{className:"h-7 w-7 text-rose-500"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-sm text-zinc-900 dark:text-zinc-100",children:[a.first_name," ",a.middle_name?a.middle_name[0]+".":""," ",a.last_name]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:a.email}),e.jsxs("button",{className:"px-2 py-1 rounded hover:bg-zinc-100 dark:hover:bg-zinc-700 text-zinc-600 dark:text-zinc-300 text-xs flex items-center gap-1 cursor-pointer transition",style:{height:"22px"},title:"Send Gmail",onClick:()=>{window.open(`https://mail.google.com/mail/?view=cm&fs=1&to=${encodeURIComponent(a.email)}`,"_blank")},children:[e.jsx(O,{size:14,className:"text-zinc-500 dark:text-zinc-300"}),"Gmail"]}),e.jsxs("button",{className:"px-2 py-1 rounded hover:bg-zinc-100 dark:hover:bg-zinc-700 text-zinc-600 dark:text-zinc-300 text-xs flex items-center gap-1 cursor-pointer transition",style:{height:"22px"},title:"Open Google Chat",onClick:()=>{window.open(`https://mail.google.com/chat/u/0/#chat/user/${encodeURIComponent(a.email)}`,"_blank")},children:[e.jsx(js,{size:14,className:"text-zinc-500 dark:text-zinc-300"}),"Chat"]})]}),a.employee_id&&e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Employee ID: ",a.employee_id]})]})]})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs(os,{value:es,onValueChange:Ie,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs(ms,{children:[e.jsxs(Pe,{value:"assigned",children:["Assigned Students",e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-zinc-100 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-100 text-[11px] font-medium",children:B.length})]}),e.jsxs(Pe,{value:"pending",children:["Pending Confirmation",e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-zinc-100 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-100 text-[11px] font-medium",children:de.length})]})]}),e.jsxs(n,{variant:"outline",size:"sm",className:"ml-2",onClick:Fe,disabled:ae||ce,title:"Refresh student lists",children:[e.jsx(vs,{className:`mr-1 h-4 w-4 ${ae||ce?"animate-spin":""}`}),"Refresh"]})]}),e.jsx(Ue,{value:"assigned",children:e.jsx("div",{className:"overflow-y-auto overflow-x-auto min-w-[400px] rounded",style:{height:"240px"},children:ae?e.jsx("div",{className:"text-xs flex items-center justify-center h-full dark:text-zinc-300",children:"Loading students..."}):B.length===0?e.jsx("div",{className:"text-gray-500 text-xs flex items-center justify-center h-full dark:text-gray-400",children:"No students linked to this adviser."}):e.jsx("ul",{className:"divide-y",children:B.map(s=>e.jsxs("li",{className:"py-2 flex items-center gap-3 text-xs",children:[e.jsx(pe,{className:"h-8 w-8",children:e.jsx(fe,{children:je(s)})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-xs flex items-center gap-2 text-zinc-900 dark:text-zinc-100",children:[s.first_name," ",s.middle_name?s.middle_name[0]+".":""," ",s.last_name]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[s.email," • ",s.student_number," • ",s.program]})]}),e.jsx(n,{variant:"ghost",size:"icon","aria-label":"Remove student",className:"text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900",onClick:()=>{window.confirm(`Remove ${s.first_name} ${s.last_name} from this adviser?`)&&l.delete(`/api/coordinator/advisers/${a==null?void 0:a.id}/students/${s.id}`).then(()=>te(B.filter(i=>i.id!==s.id)))},children:e.jsx(He,{size:16})})]},s.id))})})}),e.jsx(Ue,{value:"pending",children:e.jsx("div",{className:"overflow-y-auto overflow-x-auto min-w-[400px] rounded",style:{height:"240px"},children:ce?e.jsx("div",{className:"text-xs flex items-center justify-center h-full dark:text-zinc-300",children:"Loading pending students..."}):de.length===0?e.jsx("div",{className:"text-gray-500 text-xs flex items-center justify-center h-full dark:text-gray-400",children:"No pending students for this adviser."}):e.jsx("ul",{className:"divide-y",children:de.map(s=>e.jsxs("li",{className:"py-2 flex items-center gap-3 text-xs",children:[e.jsx(pe,{className:"h-8 w-8",children:e.jsx(fe,{children:je(s)})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-xs flex items-center gap-2 text-zinc-900 dark:text-zinc-100",children:[s.first_name," ",s.middle_name?s.middle_name[0]+".":""," ",s.last_name]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[s.email," • ",s.student_number," • ",s.program]})]})]},s.id))})})})]}),e.jsx(p,{className:"mt-4",children:e.jsxs(n,{variant:"outline",onClick:()=>re(!0),children:[e.jsx(qe,{className:"mr-2 h-4 w-4"}),"Assign a Student"]})})]})]})}),e.jsx(x,{open:Xe,onOpenChange:re,children:e.jsxs(h,{children:[e.jsxs(u,{children:[e.jsx(g,{className:"dark:text-zinc-100",children:"Add Student to Adviser"}),e.jsx(A,{className:"dark:text-zinc-300",children:"Enter the student's email to add them under this adviser."})]}),e.jsxs("div",{className:"space-y-3 py-2",children:[le&&e.jsxs(xs,{className:"bg-rose-50 dark:bg-rose-950 border-rose-200 dark:border-rose-900 text-rose-900 dark:text-rose-100 flex items-start gap-3 px-4 py-3 rounded-xl",children:[e.jsx(bs,{className:"h-5 w-5 text-rose-500 dark:text-rose-400 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx(hs,{className:"font-semibold mb-1",children:"Cannot Assign Student"}),e.jsx(us,{children:le==="This student is already assigned to another adviser."?"This student is already assigned to another adviser. Each student may only have one adviser at a time. Please verify the student's assignment before proceeding.":le})]})]}),e.jsx(y,{placeholder:"Email",value:H,onChange:s=>_e(s.target.value),className:"text-xs dark:bg-zinc-800 dark:text-zinc-100",disabled:N})]}),e.jsx(p,{children:e.jsxs(n,{onClick:ns,disabled:!H.trim()||N,children:[N?e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(qe,{className:"mr-2 h-4 w-4"}),"Add Student"]})})]})}),e.jsx(x,{open:Ke,onOpenChange:G,children:e.jsxs(h,{className:"sm:max-w-md",children:[e.jsxs(u,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-5 w-5 text-rose-500"}),"Send Invitation Email?"]}),e.jsxs(A,{className:"pt-2 space-y-2",children:[e.jsx("p",{children:"An invitation email will be sent to:"}),e.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-3 rounded-md space-y-1",children:[e.jsx("p",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:d==null?void 0:d.name}),e.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:d==null?void 0:d.email})]}),e.jsx("p",{className:"text-sm",children:"The adviser will receive instructions to log in using their UIC credentials and activate their account."})]})]}),e.jsxs(p,{className:"gap-2 sm:gap-0",children:[e.jsx(n,{variant:"outline",onClick:()=>{G(!1),ie(null)},disabled:ne,children:"Cancel"}),e.jsx(n,{onClick:ts,disabled:ne,className:"bg-rose-600 hover:bg-rose-700",children:ne?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Send Invitation"]})})]})]})}),e.jsx(x,{open:Ze,onOpenChange:q,children:e.jsxs(h,{className:"sm:max-w-md",children:[e.jsxs(u,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-5 w-5 text-amber-500"}),"Send Assignment Notification?"]}),e.jsxs(A,{className:"pt-2 space-y-2",children:[e.jsx("p",{children:"You are assigning a student to:"}),e.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-3 rounded-md space-y-1",children:[e.jsxs("p",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:[a==null?void 0:a.first_name," ",a==null?void 0:a.last_name]}),e.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:a==null?void 0:a.email})]}),e.jsxs("p",{className:"text-sm",children:["Student being assigned: ",e.jsx("span",{className:"font-medium",children:S==null?void 0:S.studentEmail})]}),e.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Would you like to send an email notification to the adviser?"})]})]}),e.jsxs(p,{className:"gap-2 sm:gap-0",children:[e.jsx(n,{variant:"outline",onClick:()=>Le(!1),disabled:N,children:"Skip Email"}),e.jsx(n,{onClick:()=>Le(!0),disabled:N,className:"bg-amber-600 hover:bg-amber-700",children:N?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Assigning..."]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Send Email"]})})]})]})}),e.jsx(gs,{richColors:!0,position:"bottom-right"})]})}export{et as default};
