import{r as a,j as e,L as V}from"./app-CQngmq00.js";import{A as G}from"./app-layout-C76KB2Lm.js";import{B as o}from"./button-Cw9tQIeO.js";import{P,a as R,b as A}from"./popover-C8pU6zmg.js";import{C as H,a as L,e as M,b as T,c as Y,d as p}from"./command-kqtb6V1g.js";import{T as W,a as $,b as w,c as y,d as q,e as h}from"./table-BEEQP98I.js";import{A as J,a as K}from"./avatar-DUph8BC-.js";import{c as v}from"./utils-jAU0Cazi.js";import{S as U}from"./search-input-DcRcaQbU.js";import X from"./record-modal-Db2czV2U.js";import{C as Z}from"./calendar-Bi5dAEy5.js";import{C as b}from"./check-BEGkAg7k.js";import{c as ee}from"./createLucideIcon-pjYyoixj.js";import{E as se}from"./eye-B6whRoNB.js";import{D as ae}from"./download-DlDdct0h.js";import{C as te,a as re}from"./chevrons-right-BTxST5nY.js";import{C as oe}from"./chevron-left-BphKULEz.js";import{C as ne}from"./chevron-right-QGs8lTP5.js";import"./index-CDDLQrUy.js";import"./index-DZZQifJx.js";import"./input-izsDzGd9.js";import"./index-BSk2xfhC.js";import"./index-DRp-GX9j.js";import"./index-BZgaE142.js";import"./x-B3RMhnUQ.js";import"./tooltip-BvePKNvs.js";import"./floating-ui.react-dom-DL84dtXf.js";import"./separator-CMC4qrzs.js";import"./index-ahz1tZ6M.js";import"./dropdown-menu-BQlfF7jf.js";import"./index-CgLqTVh4.js";import"./index-VBHUZLOo.js";import"./index-BfMlnZ5P.js";import"./index-Csh4Fj4k.js";import"./settings-CDLWUJwV.js";import"./users-DZ67WViD.js";import"./graduation-cap-DHFIPOzN.js";import"./file-text-Buh9X5tE.js";import"./dollar-sign-CkMbILE9.js";import"./send-BvMnN6yE.js";import"./credit-card-Cid_txJ6.js";import"./tabs-DJOYkXMD.js";import"./badge-BsPMjMb7.js";import"./circle-check-big-PSYRp90q.js";import"./info-BJ9Jpdwx.js";import"./sun-5m6UvoyG.js";import"./search-yiLKmxcv.js";import"./dialog-D-tH9FDm.js";import"./proxy-DVhXeFh8.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],ie=ee("Book",le),ce=[{title:"Honorarium",href:"/honorarium"},{title:"Honorarium Summary",href:"/honorarium-summary"}],me=["Doctorate","Masters","Bachelors"];function de(u,c){const t=[];for(let n=c;n>=u;n--)t.push(n);return t}function is({records:u=[]}){const[c]=a.useState(u),[t,n]=a.useState(null),[i,S]=a.useState(null),[m,z]=a.useState(""),[r,I]=a.useState(1),d=6,[B,j]=a.useState(!1),[E,f]=a.useState(!1),[O,_]=a.useState(!1),[g,xe]=a.useState(null),N=a.useMemo(()=>c.filter(s=>{const C=t?s.date_edited.startsWith(t):!0,F=i?s.category===i:!0,Q=m?s.name.toLowerCase().includes(m.toLowerCase()):!0;return C&&F&&Q}),[c,t,i,m]),l=Math.ceil(N.length/d),k=a.useMemo(()=>{const s=(r-1)*d;return N.slice(s,s+d)},[r,N,d]),x=s=>{s>0&&s<=l&&I(s)},D=s=>{window.location.href=`/honorarium/individual-record/${s.id}`};return e.jsxs(G,{breadcrumbs:ce,children:[e.jsx(V,{title:"Honorarium Summary"}),e.jsxs("div",{className:"container mx-auto p-6 dark:bg-[#0a0a0a] min-h-screen",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Honorarium Summary"})}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-4 gap-4",children:[e.jsx(U,{placeholder:"Search by Program Name...",className:"w-full md:w-1/3",value:m,onChange:s=>z(s.target.value)}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Filter:"}),e.jsxs(P,{open:B,onOpenChange:j,children:[e.jsx(R,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:"w-[150px] justify-start text-left font-normal",children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),t??"All Years"]})}),e.jsx(A,{className:"w-[200px] p-0",align:"start",children:e.jsxs(H,{children:[e.jsx(L,{placeholder:"Search years..."}),e.jsxs(M,{children:[e.jsx(T,{children:"No year found."}),e.jsxs(Y,{children:[e.jsxs(p,{onSelect:()=>{n(null),j(!1)},children:[e.jsx(b,{className:v("mr-2 h-4 w-4",t===null?"opacity-100":"opacity-0")}),"All Years"]}),de(2020,2025).map(s=>e.jsxs(p,{onSelect:()=>{n(s.toString()),j(!1)},children:[e.jsx(b,{className:v("mr-2 h-4 w-4",t===s.toString()?"opacity-100":"opacity-0")}),s]},s))]})]})]})})]}),e.jsxs(P,{open:E,onOpenChange:f,children:[e.jsx(R,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:"w-[180px] justify-start text-left font-normal",children:[e.jsx(ie,{className:"mr-2 h-4 w-4"}),i??"All Programs"]})}),e.jsx(A,{className:"w-[200px] p-0",align:"start",children:e.jsxs(H,{children:[e.jsx(L,{placeholder:"Filter category..."}),e.jsxs(M,{children:[e.jsx(T,{children:"No category found."}),e.jsxs(Y,{children:[me.map(s=>e.jsxs(p,{onSelect:()=>{S(s),f(!1)},children:[e.jsx(b,{className:v("mr-2 h-4 w-4",i===s?"opacity-100":"opacity-0")}),s]},s)),e.jsx(p,{onSelect:()=>{S(null),f(!1)},className:"text-red-500",children:"Clear Filter"})]})]})]})})]})]})]}),e.jsx("div",{className:"rounded-md overflow-x-auto border border-border bg-white dark:bg-[#121212] p-2",children:e.jsxs(W,{className:"min-w-full text-sm",children:[e.jsx($,{children:e.jsxs(w,{children:[e.jsx(y,{className:"w-[60%] px-1 py-2",children:"Program"}),e.jsx(y,{className:"w-[20%] px-1 py-2 text-center",children:"Date Edited"}),e.jsx(y,{className:"w-[20%] text-center px-1 py-2",children:"Actions"})]})}),e.jsx(q,{children:k.length>0?k.map((s,C)=>e.jsxs(w,{className:"hover:bg-muted/50",children:[e.jsxs(h,{className:"flex items-center space-x-4 px-1 py-2",children:[e.jsx(J,{className:"h-10 w-10 flex-shrink-0 bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300",children:e.jsx(K,{children:s.program.charAt(0)})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.program})]})]}),e.jsx(h,{className:"px-1 py-2 text-center",children:s.date_edited}),e.jsx(h,{className:"px-1 py-2",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsxs(o,{variant:"outline",size:"sm",className:"rounded-md px-3 py-2 h-auto text-xs flex items-center gap-1",onClick:()=>D(s),children:[e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline-block",children:"View Records"})]}),e.jsx(o,{variant:"outline",size:"icon",className:"rounded-md h-auto p-2",onClick:()=>{window.location.href=route("honorarium-summary.download",s.id)},children:e.jsx(ae,{className:"w-4 h-4"})})]})})]},C)):e.jsx(w,{children:e.jsx(h,{colSpan:3,className:"h-24 text-center",children:"No results found."})})})]})}),l>1&&e.jsxs("div",{className:"mt-4 flex justify-end items-center space-x-2 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Page ",r," of ",l]}),e.jsx(o,{variant:"outline",size:"icon",onClick:()=>x(1),disabled:r===1,children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx(o,{variant:"outline",size:"icon",onClick:()=>x(r-1),disabled:r===1,children:e.jsx(oe,{className:"w-4 h-4"})}),e.jsx(o,{variant:"outline",size:"icon",onClick:()=>x(r+1),disabled:r===l,children:e.jsx(ne,{className:"w-4 h-4"})}),e.jsx(o,{variant:"outline",size:"icon",onClick:()=>x(l),disabled:r===l,children:e.jsx(re,{className:"w-4 h-4"})})]})]}),e.jsx(X,{show:O,onClose:()=>_(!1),record:g?{...g,payments:(g.payments??[]).map(s=>({...s,panelist_name:s.panelist_name??"",role:s.role??""}))}:null})]})}export{is as default};
