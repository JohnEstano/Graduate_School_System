import{j as e,r as a,L as Ae,S as Te}from"./app-DdPj2m7B.js";import{t as m,T as qe}from"./index-B2MlTwnV.js";import{B as i}from"./button-C4XkiM_B.js";import{C as de}from"./checkbox-DDzRYWAy.js";import{I as ze}from"./input-DCrn1t-u.js";import Pe from"./table-all-defense-list-DgHr1_nO.js";import{D as A,a as T,b as q,c as z}from"./dialog-BeApitpu.js";import{T as Re,a as Oe,b as U}from"./tabs-BvzTftzm.js";import{C as Be}from"./calendar-DKOUdBib.js";import{P as H,a as W,b as G}from"./popover-tBQRRq13.js";import{A as $e}from"./app-layout-CZ3kZ0t2.js";import{D as Me,a as Ee,b as Le,c as j}from"./dropdown-menu-sYZpN2tC.js";import{e as Fe}from"./endOfDay-UBg8OSOW.js";import{i as Ie,S as Xe}from"./isWithinInterval-BGjcImah.js";import{S as Je}from"./send-ChQ392yu.js";import{S as Ke}from"./search-gvHM0uxt.js";import{C as ce}from"./circle-plus-DNS-2CjW.js";import{C as Ve}from"./calendar-BkrqGKNC.js";import{X as Q}from"./x-gfWO9KfB.js";import{C as me}from"./circle-check-big-CKCqbWb4.js";import{P as Ue}from"./printer-8ps6np5W.js";import{S as F}from"./signature-HJa2c2uW.js";import{s as pe,f as he}from"./format-HX8DKPSU.js";import"./index-C0AcbnKJ.js";import"./index-DYEC1Owk.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./index-DxK34XW3.js";import"./index-ATT6OHxL.js";import"./index-DGKk-Zer.js";import"./index-DFD1OPps.js";import"./index-BdQOngYf.js";import"./check-BgnkF1LW.js";import"./createLucideIcon-B8qZ3ylK.js";import"./table-C8ztdzxp.js";import"./badge-ofr1GoIX.js";import"./program-abbreviations-BcvFCzIW.js";import"./circle-check-B5R0L350.js";import"./index-DDxX9UbU.js";import"./index-DRr-UIpQ.js";import"./en-US-BA9orzCf.js";import"./endOfWeek-QFyZPl43.js";import"./differenceInCalendarMonths-HUNRrXGm.js";import"./normalizeInterval-CdMCNNY-.js";import"./endOfMonth-CK_ShA5m.js";import"./isSameDay-DUlCFK42.js";import"./isSameMonth-CQd3m9St.js";import"./chevron-left-IcMAr9yn.js";import"./chevron-right-BZod6iQK.js";import"./chevron-down-DEJUajdp.js";import"./floating-ui.react-dom-qFQCHW7g.js";import"./tooltip-YyHP33lU.js";import"./separator-DAbYQnLI.js";import"./avatar-Cz3zvE7t.js";import"./settings-CYIvZ_Tn.js";import"./users-Bi2Lh05r.js";import"./graduation-cap-BxuxjmnL.js";import"./file-text-Dl_aF8u0.js";import"./dollar-sign-DEGfV_co.js";import"./credit-card-BvkjxVWT.js";import"./info-BWBV8Gn3.js";import"./sun-CPhm4DAg.js";import"./index-MX9TSR8D.js";function He({page:p,totalPages:u,onPageChange:r,showingCount:g,totalCount:b}){return e.jsxs("div",{className:"flex justify-between items-center gap-2 px-4 py-2",children:[e.jsxs("span",{className:"text-xs",children:["Page ",p," of ",u]}),e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx(i,{size:"sm",variant:"outline",disabled:p===1,onClick:()=>r(1),children:"«"}),e.jsx(i,{size:"sm",variant:"outline",disabled:p===1,onClick:()=>r(p-1),children:"‹"}),e.jsx(i,{size:"sm",variant:"outline",disabled:p===u,onClick:()=>r(p+1),children:"›"}),e.jsx(i,{size:"sm",variant:"outline",disabled:p===u,onClick:()=>r(u),children:"»"}),e.jsxs("span",{className:"ml-4 text-xs text-muted-foreground",children:["Showing ",g," record",g!==1?"s":"",typeof b=="number"&&e.jsxs(e.Fragment,{children:[" of ",b," total"]})]})]})]})}function ue({defenseRequests:p,onStatusChange:u}){const[r,g]=a.useState({open:!1,id:null,action:null});function b(){const t=document.querySelector('meta[name="csrf-token"]');return(t==null?void 0:t.content)||""}const fe=t=>t.map(s=>({...s,expected_rate:s.expected_rate!==void 0&&s.expected_rate!==null?Number(s.expected_rate):null,amount:s.amount!==void 0&&s.amount!==null?Number(s.amount):null,date_of_defense:s.date_of_defense||s.scheduled_date||void 0,mode_defense:s.mode_defense||s.defense_mode||void 0})),[P,w]=a.useState([]);a.useEffect(()=>{fetch("/assistant/all-defense-list/data").then(t=>t.json()).then(t=>{w(t.map(s=>({...s,expected_rate:s.expected_rate!==void 0&&s.expected_rate!==null?Number(s.expected_rate):null,amount:s.amount!==void 0&&s.amount!==null?Number(s.amount):null,date_of_defense:s.date_of_defense||s.scheduled_date||void 0,mode_defense:s.mode_defense||s.defense_mode||void 0,aa_verification_id:s.aa_verification_id})))})},[]);const[R,Y]=a.useState(""),[v,I]=a.useState([]),[C,X]=a.useState([]),[c,J]=a.useState(),[$,xe]=a.useState(null),[M,Z]=a.useState(1),[je,ge]=a.useState({pending:[],rejected:[],approved:[]}),[l,ve]=a.useState({title:!0,presenter:!0,adviser:!0,submitted_at:!0,program:!0,expected_amount:!0,amount_paid:!0,reference_no:!0,coordinator:!0,scheduled_date:!0,actions:!0,date:!0,mode:!0,type:!1,priority:!1}),[ee,y]=a.useState(!1),[f,N]=a.useState(null),[te,S]=a.useState(!1),[k,D]=a.useState(!1),se=a.useCallback(async()=>{D(!0);try{const t=await fetch("/assistant/all-defense-list/data");if(t.ok){const s=await t.json();w(fe(s))}else m.error("Failed to fetch defense requests")}catch{m.error("Error fetching defense requests")}finally{D(!1)}},[]);a.useEffect(()=>{p||se()},[se,p]);const ne=a.useMemo(()=>{let t=P;if(R){const s=R.toLowerCase();t=t.filter(n=>`${n.first_name} ${n.last_name} ${n.thesis_title}`.toLowerCase().includes(s))}if(v.length&&(t=t.filter(s=>v.some(n=>(s.aa_verification_status||"").trim().toLowerCase()===n.trim().toLowerCase()))),C.length&&(t=t.filter(s=>C.some(n=>(s.defense_type||"").trim().toLowerCase()===n.trim().toLowerCase()))),c!=null&&c.from&&(c!=null&&c.to)){const s=pe(c.from),n=Fe(c.to);t=t.filter(d=>{if(!d.date_of_defense)return!1;const h=pe(new Date(d.date_of_defense));return Ie(h,{start:s,end:n})})}return t},[R,v,C,P,c]),[E,Ce]=a.useState("All"),K=a.useMemo(()=>{let t=ne;return E!=="All"&&(t=t.filter(s=>{var n;return(n=s.program)==null?void 0:n.toLowerCase().includes(E.toLowerCase())})),t},[ne,E]),O=a.useMemo(()=>$?[...K].sort((t,s)=>{const n=t.date_of_defense?new Date(t.date_of_defense).getTime():0,d=s.date_of_defense?new Date(s.date_of_defense).getTime():0;return $==="asc"?n-d:d-n}):K,[K,$]),L=20,be=Math.max(1,Math.ceil(O.length/L)),[B,ie]=a.useState([]);a.useEffect(()=>{ie(O.slice((M-1)*L,M*L))},[O,M,L]);const o=je.all||[],_=t=>ge(s=>({...s,all:t})),re=B.length>0&&B.every(t=>o.includes(t.id)),ye=()=>{const t=B.map(s=>s.id);_(re?o.filter(s=>!t.includes(s)):[...o,...t.filter(s=>!o.includes(s))])},Ne=t=>_(o.includes(t)?o.filter(s=>s!==t):[...o,t]),we=()=>xe(t=>t==="asc"?"desc":t==="desc"?null:"asc"),x=t=>ve(s=>({...s,[t]:!s[t]})),ae=async()=>{try{const t=await fetch("/defense-requests/bulk-remove",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":b(),Accept:"application/json"},body:JSON.stringify({ids:o})}),s=await t.json();t.ok?(w(n=>n.filter(d=>!o.includes(d.id))),_([]),m.success("Deleted")):m.error((s==null?void 0:s.error)||"Delete failed")}catch{m.error("Delete error")}},le=async()=>{if(!f||o.length===0){y(!1),N(null);return}D(!0);try{const t=P.filter(d=>o.includes(d.id)).map(d=>d.aa_verification_id).filter(d=>!!d),s=f==="approve"?"verified":f==="reject"?"rejected":"pending";(await fetch("/aa/payment-verifications/bulk-update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":b()},body:JSON.stringify({verification_ids:t,status:s})})).ok?(w(d=>d.map(h=>t.includes(h.aa_verification_id??-1)?{...h,aa_verification_status:s}:h)),_([]),m.success("Bulk AA status updated")):m.error("Bulk AA update failed")}catch{m.error("Bulk AA update error")}finally{D(!1),y(!1),N(null)}},ke=async(t,s)=>{try{(await fetch(`/defense-requests/${t}/priority`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":b(),Accept:"application/json"},body:JSON.stringify({priority:s})})).ok?(w(d=>d.map(h=>h.id===t?{...h,priority:s}:h)),m.success("Priority updated")):m.error("Failed to update priority")}catch{m.error("Error updating priority")}};function _e(){const t=P.filter(n=>o.includes(n.id)),s=window.open("","","height=900,width=1200");s&&(s.document.write(`
      <html>
        <head>
          <title>Print Selected</title>
          <style>
            body{font-family:Arial;padding:32px}
            h1{font-size:18px;margin:0 0 16px}
            table{border-collapse:collapse;width:100%}
            th,td{border:1px solid #ccc;padding:6px 8px;font-size:12px;text-align:left}
          </style>
        </head>
        <body>
          <h1>Defense Requests</h1>
          <table>
            <thead><tr><th>ID</th><th>Title</th><th>Presenter</th><th>Type</th><th>Priority</th><th>Status</th></tr></thead>
            <tbody>
              ${t.map(n=>`<tr>
                <td>${n.id}</td>
                <td>${n.thesis_title}</td>
                <td>${n.first_name} ${n.last_name}</td>
                <td>${n.defense_type}</td>
                <td>${n.priority}</td>
                <td>${n.status}</td>
              </tr>`).join("")}
            </tbody>
          </table>
          <script>window.print()<\/script>
        </body>
      </html>
    `),s.document.close())}const Se=a.useCallback(async(t,s)=>{try{(await fetch(`/defense-requests/${t}/status`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":b(),Accept:"application/json"},body:JSON.stringify({status:s})})).ok?(w(d=>d.map(h=>h.id===t?{...h,status:s}:h)),u==null||u(t,s),m.success(`Request #${t} set to ${s}`)):m.error("Failed to update status")}catch{m.error("Error updating status")}},[u]);function V(t,s){g({open:!0,id:t,action:s})}async function oe(){if(!r.id||!r.action){g({open:!1,id:null,action:null});return}let t="Pending";r.action==="approve"?t="Approved":r.action==="reject"?t="Rejected":r.action==="retrieve"&&(t="Pending"),await Se(r.id,t),g({open:!1,id:null,action:null})}const De=async()=>{if(o.length!==0){D(!0);try{const t=await fetch("/defense-requests/bulk-status",{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":b(),Accept:"application/json"},body:JSON.stringify({ids:o,status:"Completed"})}),s=await t.json();t.ok&&s.updated_ids?(w(n=>n.map(d=>s.updated_ids.includes(d.id)?{...d,status:"Completed",workflow_state:"completed"}:d)),_([]),m.success("Marked as Completed")):m.error((s==null?void 0:s.error)||"Bulk update failed")}catch{m.error("Bulk update error")}finally{D(!1)}}};return a.useEffect(()=>{let t;return k?t=m.loading("Loading defense requests..."):m.dismiss(),()=>{t&&m.dismiss(t)}},[k]),e.jsxs(e.Fragment,{children:[e.jsx(Ae,{title:"Defense Requests"}),e.jsx(qe,{richColors:!0,position:"bottom-right"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-2 rounded-xl pt-5 pr-3 pl-3 relative overflow-x-hidden",children:[e.jsxs("div",{className:"w-full bg-white dark:bg-zinc-900 border border-border rounded-lg overflow-hidden mb-2",children:[e.jsxs("div",{className:"flex flex-row dark:bg-zinc-900 items-center justify-between w-full p-3 border-b bg-white",children:[e.jsxs("div",{className:"flex dark:bg-zinc-900 items-center gap-2",children:[e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-rose-500/10 border border-rose-500",children:e.jsx(Je,{className:"h-5 w-5 text-rose-500"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-base font-semibold",children:"Defense Requests"}),e.jsx("span",{className:"block text-xs text-muted-foreground",children:"This section shows all defense requests. Search, filter, and manage requests."})]})]}),e.jsx("div",{className:"flex items-center gap-2 ml-auto",children:e.jsxs(Me,{children:[e.jsx(Ee,{asChild:!0,children:e.jsxs(i,{variant:"outline",size:"sm",className:"h-8 px-2 flex items-center gap-1",children:[e.jsx(Xe,{className:"h-4 w-4"}),"Columns"]})}),e.jsxs(Le,{align:"end",className:"min-w-[220px]",children:[e.jsx(j,{checked:l.title,onCheckedChange:()=>x("title"),children:"Thesis Title"}),e.jsx(j,{checked:l.presenter,onCheckedChange:()=>x("presenter"),children:"Presenter"}),e.jsx(j,{checked:l.adviser,onCheckedChange:()=>x("adviser"),children:"Adviser"}),e.jsx(j,{checked:l.submitted_at,onCheckedChange:()=>x("submitted_at"),children:"Submitted At"}),e.jsx(j,{checked:l.program,onCheckedChange:()=>x("program"),children:"Program"}),e.jsx(j,{checked:l.expected_amount,onCheckedChange:()=>x("expected_amount"),children:"Expected Amount"}),e.jsx(j,{checked:l.amount_paid,onCheckedChange:()=>x("amount_paid"),children:"Amount Paid"}),e.jsx(j,{checked:l.reference_no,onCheckedChange:()=>x("reference_no"),children:"Reference/OR No."}),e.jsx(j,{checked:l.coordinator,onCheckedChange:()=>x("coordinator"),children:"Program Coordinator"}),e.jsx(j,{checked:l.scheduled_date,onCheckedChange:()=>x("scheduled_date"),children:"Scheduled Date"}),e.jsx(j,{checked:l.actions,onCheckedChange:()=>x("actions"),children:"Actions"})]})]})})]}),e.jsx("div",{className:"flex dark:bg-zinc-900 items-center justify-between gap-2 px-4 py-3 border-b bg-white",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{type:"text",startIcon:Ke,placeholder:"Search...",value:R,onChange:t=>{Y(t.target.value),Z(1)},className:"max-w-xs text-sm h-8",disabled:k}),e.jsxs(H,{children:[e.jsx(W,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"h-8 px-3 rounded-md border-dashed text-xs flex items-center gap-1",children:[e.jsx(ce,{className:"h-4 w-4 mr-1"}),"Status",v.length>0&&e.jsx("span",{className:"ml-1 px-2 py-0.5 rounded-full text-xs bg-muted",children:v.length>1?`${v.length} selected`:v[0]})]})}),e.jsxs(G,{className:"w-44 p-1",side:"bottom",align:"start",children:[["Pending","Verified","Rejected"].map(t=>e.jsxs("div",{onClick:()=>I(s=>s.includes(t)?s.filter(n=>n!==t):[...s,t]),className:"flex items-center gap-2 p-2 rounded hover:bg-muted cursor-pointer",children:[e.jsx(de,{checked:v.includes(t)}),e.jsx("span",{className:"text-sm",children:t})]},t)),e.jsx(i,{size:"sm",variant:"ghost",className:"w-full mt-2",onClick:()=>I([]),children:"Clear"})]})]}),e.jsxs(H,{children:[e.jsx(W,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"h-8 px-3 rounded-md border-dashed text-xs flex items-center gap-1",children:[e.jsx(ce,{className:"h-4 w-4 mr-1"}),"Type",C.length>0&&e.jsx("span",{className:"ml-1 px-2 py-0.5 rounded-full text-xs bg-muted",children:C.length>1?`${C.length} selected`:C[0]})]})}),e.jsxs(G,{className:"w-44 p-1",side:"bottom",align:"start",children:[Array.from(new Set(P.map(t=>(t.defense_type||"").trim()))).filter(Boolean).map(t=>e.jsxs("div",{onClick:()=>X(s=>s.includes(t)?s.filter(n=>n!==t):[...s,t]),className:"flex items-center gap-2 p-2 rounded hover:bg-muted cursor-pointer",children:[e.jsx(de,{checked:C.includes(t)}),e.jsx("span",{className:"text-sm",children:t})]},t)),e.jsx(i,{size:"sm",variant:"ghost",className:"w-full mt-2",onClick:()=>X([]),children:"Clear"})]})]}),e.jsxs(H,{children:[e.jsx(W,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"h-8 px-3 rounded-md border-dashed text-xs flex items-center gap-1",children:[e.jsx(Ve,{size:14}),"Date",(c==null?void 0:c.from)&&(c==null?void 0:c.to)&&e.jsx("span",{className:"ml-1 px-2 py-0.5 rounded-full text-xs bg-muted",children:`${he(c.from,"MMM dd")} - ${he(c.to,"MMM dd")}`})]})}),e.jsxs(G,{className:"w-auto p-2",side:"bottom",align:"start",children:[e.jsx(Be,{mode:"range",selected:c,onSelect:J}),e.jsx(i,{size:"sm",variant:"ghost",className:"w-full mt-2",onClick:()=>J(void 0),children:"Clear Dates"})]})]}),(v.length>0||C.length>0||(c==null?void 0:c.from)||R.trim())&&e.jsxs(i,{variant:"ghost",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>{I([]),X([]),J(void 0),Y("")},children:[e.jsx(Q,{size:14})," Reset"]})]})})]}),e.jsx("div",{className:"mb-2",children:e.jsx(Re,{value:E,onValueChange:t=>Ce(t),children:e.jsxs(Oe,{children:[e.jsx(U,{value:"All",children:"All"}),e.jsx(U,{value:"Masteral",children:"Masteral"}),e.jsx(U,{value:"Doctorate",children:"Doctorate"})]})})}),o.length>0&&e.jsxs("div",{className:"fixed left-1/2 z-30 -translate-x-1/2 bottom-4 md:bottom-6 flex items-center gap-1 bg-white border border-border shadow-lg rounded-lg px-4 py-1 text-xs animate-in fade-in slide-in-from-bottom-2 dark:bg-muted dark:text-muted-foreground dark:border-border",children:[e.jsxs("span",{className:"font-semibold min-w-[70px] text-center",children:[o.length," selected"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(i,{variant:"ghost",size:"sm",className:"px-3 py-1 h-7 w-auto text-xs flex items-center gap-1",onClick:()=>{N("approve"),y(!0)},disabled:k,children:[e.jsx(me,{size:13,className:"text-green-600"}),"Bulk Approve"]}),e.jsxs(i,{variant:"ghost",size:"sm",className:"px-3 py-1 h-7 w-auto text-xs flex items-center gap-1",onClick:()=>{N("reject"),y(!0)},disabled:k,children:[e.jsx(Q,{size:13,className:"text-red-600"}),"Bulk Reject"]}),e.jsxs(i,{variant:"ghost",size:"sm",className:"px-3 py-1 h-7 w-auto text-xs flex items-center gap-1",onClick:De,disabled:k,children:[e.jsx(me,{size:13,className:"text-green-600"}),"Mark as Completed"]}),e.jsxs(i,{variant:"ghost",size:"sm",className:"px-3 py-1 h-7 w-auto text-xs flex items-center gap-1",onClick:_e,disabled:k,children:[e.jsx(Ue,{size:13}),"Print"]}),e.jsx(i,{variant:"ghost",size:"icon",className:"px-1 py-1 h-7 w-auto text-xs flex items-center",onClick:()=>_([]),"aria-label":"Clear selection",children:e.jsx(Q,{size:14})})]})]}),e.jsx("div",{className:"flex-1 flex flex-col gap-4 w-full min-h-screen",children:e.jsxs("div",{className:"flex flex-col w-full min-h-0 overflow-x-hidden",children:[e.jsx("div",{className:"relative w-full max-w-full",children:e.jsx("div",{className:"w-full max-w-full",children:e.jsx(Pe,{paged:B,setPaged:ie,columns:{title:l.title,presenter:l.presenter,adviser:l.adviser,submitted_at:l.submitted_at,program:l.program,expected_amount:l.expected_amount,amount_paid:l.amount_paid,reference_no:l.reference_no,coordinator:l.coordinator,scheduled_date:l.scheduled_date,status:!0,type:l.type,priority:l.priority,actions:l.actions},selected:o,toggleSelectOne:Ne,headerChecked:re,toggleSelectAll:ye,toggleSort:we,sortDir:$,onPriorityChange:ke,onRowApprove:t=>V(t,"approve"),onRowReject:t=>V(t,"reject"),onRowRetrieve:t=>V(t,"retrieve"),onViewDetails:t=>Te.visit(`/assistant/all-defense-list/${t}/details`),totalCount:O.length})})}),e.jsx(He,{page:M,totalPages:be,onPageChange:Z,showingCount:B.length,totalCount:O.length})]})}),e.jsx(A,{open:r.open,onOpenChange:t=>{t||g({open:!1,id:null,action:null})},children:e.jsxs(T,{children:[e.jsx(q,{children:"Confirm Action"}),e.jsx(z,{children:r.action==="approve"?"Please review before approving.":"Apply this status change?"}),e.jsxs("div",{className:"mt-3 text-sm space-y-3",children:[r.id&&e.jsxs("p",{children:["Request #",r.id,": Set to"," ",e.jsx("span",{className:"font-semibold",children:r.action==="approve"?"Approved":r.action==="reject"?"Rejected":"Pending"}),"?"]}),r.action==="approve"&&e.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-md border bg-muted/40 p-5",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:e.jsx(F,{className:"h-14 w-14 text-primary"})}),e.jsx("p",{className:"text-center text-sm leading-relaxed",children:"Approving this defense request authorizes the use of your signature on the official defense documents."})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(i,{variant:"ghost",onClick:()=>g({open:!1,id:null,action:null}),children:"Cancel"}),e.jsx(i,{onClick:oe,children:"Confirm"})]})]})}),e.jsx(A,{open:ee,onOpenChange:t=>{t||(y(!1),N(null))},children:e.jsxs(T,{children:[e.jsx(q,{children:"Status Update"}),e.jsx(z,{children:f==="approve"?"Review before bulk approval.":"Confirm the status change."}),e.jsxs("div",{className:"space-y-3 mt-2 text-sm",children:[e.jsxs("p",{children:["Update ",o.length," request",o.length!==1&&"s"," to"," ",e.jsx("span",{className:"font-semibold",children:f==="approve"?"Verified":f==="reject"?"Rejected":"Pending"}),"?"]}),f==="approve"&&e.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-md border bg-muted/40 p-5",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:e.jsx(F,{className:"h-14 w-14 text-primary"})}),e.jsx("p",{className:"text-center text-sm leading-relaxed",children:"Approving these defense requests authorizes the use of your signature on their official defense documents."})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(i,{variant:"ghost",onClick:()=>{y(!1),N(null)},children:"Cancel"}),e.jsx(i,{onClick:le,children:"Confirm"})]})]})]})}),e.jsx(A,{open:te,onOpenChange:S,children:e.jsxs(T,{children:[e.jsx(q,{children:"Delete Requests"}),e.jsx(z,{children:"This action cannot be undone."}),e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsxs("p",{className:"text-sm",children:["Delete ",o.length," selected request(s)?"]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(i,{variant:"ghost",onClick:()=>S(!1),children:"Cancel"}),e.jsx(i,{variant:"destructive",onClick:async()=>{await ae(),S(!1)},children:"Delete"})]})]})]})})]}),e.jsx(A,{open:r.open,onOpenChange:t=>{t||g({open:!1,id:null,action:null})},children:e.jsxs(T,{children:[e.jsx(q,{children:"Confirm Action"}),e.jsx(z,{children:r.action==="approve"?"Please review before approving.":"Apply this status change?"}),e.jsxs("div",{className:"mt-3 text-sm space-y-3",children:[r.id&&e.jsxs("p",{children:["Request #",r.id,": Set to"," ",e.jsx("span",{className:"font-semibold",children:r.action==="approve"?"Approved":r.action==="reject"?"Rejected":"Pending"}),"?"]}),r.action==="approve"&&e.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-md border bg-muted/40 p-5",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:e.jsx(F,{className:"h-14 w-14 text-primary"})}),e.jsx("p",{className:"text-center text-sm leading-relaxed",children:"Approving this defense request authorizes the use of your signature on the official defense documents."})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(i,{variant:"ghost",onClick:()=>g({open:!1,id:null,action:null}),children:"Cancel"}),e.jsx(i,{onClick:oe,children:"Confirm"})]})]})}),e.jsx(A,{open:ee,onOpenChange:t=>{t||(y(!1),N(null))},children:e.jsxs(T,{children:[e.jsx(q,{children:"Status Update"}),e.jsx(z,{children:f==="approve"?"Review before bulk approval.":"Confirm the status change."}),e.jsxs("div",{className:"space-y-3 mt-2 text-sm",children:[e.jsxs("p",{children:["Update ",o.length," request",o.length!==1&&"s"," to"," ",e.jsx("span",{className:"font-semibold",children:f==="approve"?"Verified":f==="reject"?"Rejected":"Pending"}),"?"]}),f==="approve"&&e.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-md border bg-muted/40 p-5",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:e.jsx(F,{className:"h-14 w-14 text-primary"})}),e.jsx("p",{className:"text-center text-sm leading-relaxed",children:"Approving these defense requests authorizes the use of your signature on their official defense documents."})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(i,{variant:"ghost",onClick:()=>{y(!1),N(null)},children:"Cancel"}),e.jsx(i,{onClick:le,children:"Confirm"})]})]})]})}),e.jsx(A,{open:te,onOpenChange:S,children:e.jsxs(T,{children:[e.jsx(q,{children:"Delete Requests"}),e.jsx(z,{children:"This action cannot be undone."}),e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsxs("p",{className:"text-sm",children:["Delete ",o.length," selected request(s)?"]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(i,{variant:"ghost",onClick:()=>S(!1),children:"Cancel"}),e.jsx(i,{variant:"destructive",onClick:async()=>{await ae(),S(!1)},children:"Delete"})]})]})]})})]})}function is(p){if(p.withLayout){const u=[{title:"Dashboard",href:"/dashboard"},{title:"Defense Requests",href:"/assistant/all-defense-list"}];return e.jsx($e,{breadcrumbs:u,children:e.jsx(ue,{...p})})}return e.jsx(ue,{...p})}export{is as default};
