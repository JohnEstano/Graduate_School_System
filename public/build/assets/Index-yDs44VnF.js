import{r as i,j as t,c as ae,g as xt,R as O,K as ht,L as vt}from"./app-DdPj2m7B.js";import{A as bt}from"./app-layout-CZ3kZ0t2.js";import{B as q}from"./button-C4XkiM_B.js";import{D as gt,a as Nt,e as wt,b as jt,c as yt}from"./dialog-BeApitpu.js";import"./index-C0AcbnKJ.js";import{c as ie}from"./index-DYEC1Owk.js";import Rt from"./submit-defense-requirements-fJYwM1FL.js";import{d as L}from"./dayjs.min-D6wfwQTr.js";import{D as Ct,a as _t,b as kt,d as St}from"./dropdown-menu-sYZpN2tC.js";import{c as Ee}from"./utils-jAU0Cazi.js";import{c as It}from"./createLucideIcon-B8qZ3ylK.js";import{I as At}from"./input-DCrn1t-u.js";import{S as ee}from"./skeleton-eQxcUfOO.js";import{A as zt,a as Tt,b as Pt}from"./alert-C_jnSLAo.js";import{D as Et}from"./DocumentGeneratorDialog-BRqfc6nx.js";import{B as Ot}from"./badge-ofr1GoIX.js";import{I as Ie}from"./info-BWBV8Gn3.js";import{X as xe}from"./x-gfWO9KfB.js";import{G as te}from"./graduation-cap-BxuxjmnL.js";import{P as Mt}from"./plus-Bp59822C.js";import{C as Dt}from"./chevron-down-DEJUajdp.js";import{E as Ft}from"./ellipsis-vertical-BjZAtm0I.js";import{U as E}from"./users-Bi2Lh05r.js";import{P as F}from"./paperclip-CZJ8UXmI.js";import{C as he}from"./calendar-BkrqGKNC.js";import{C as $t}from"./clock-WdEz_qo4.js";import{M as Lt}from"./map-pin-BTCBX3sh.js";import{H as ne}from"./hourglass-BrU7Yv6c.js";import{C as W}from"./circle-check-big-CKCqbWb4.js";import"./index-DZZQifJx.js";import"./index-DDxX9UbU.js";import"./index-DRr-UIpQ.js";import"./tooltip-YyHP33lU.js";import"./floating-ui.react-dom-qFQCHW7g.js";import"./separator-DAbYQnLI.js";import"./index-DxK34XW3.js";import"./chevron-right-BZod6iQK.js";import"./avatar-Cz3zvE7t.js";import"./index-ATT6OHxL.js";import"./settings-CYIvZ_Tn.js";import"./file-text-Dl_aF8u0.js";import"./dollar-sign-DEGfV_co.js";import"./send-ChQ392yu.js";import"./credit-card-BvkjxVWT.js";import"./tabs-BvzTftzm.js";import"./sun-CPhm4DAg.js";import"./label-by1MoGWy.js";import"./Stepper-D95oqrcg.js";import"./proxy-BIJhVlnW.js";import"./alert-dialog-B8yj1s4q.js";import"./check-BgnkF1LW.js";import"./circle-alert-DF3kdfmF.js";import"./index-DGKk-Zer.js";import"./index-MX9TSR8D.js";import"./index-BdQOngYf.js";import"./select-BHDrHMEc.js";import"./index-DFD1OPps.js";import"./index-B2MlTwnV.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gt=It("Circle",Ut);function Bt(e,n,{checkForDefaultPrevented:s=!0}={}){return function(o){if(e==null||e(o),s===!1||!o.defaultPrevented)return n==null?void 0:n(o)}}function Wt(e,n=[]){let s=[];function r(c,a){const d=i.createContext(a),m=s.length;s=[...s,a];const l=p=>{var N;const{scope:h,children:x,...g}=p,b=((N=h==null?void 0:h[e])==null?void 0:N[m])||d,v=i.useMemo(()=>g,Object.values(g));return t.jsx(b.Provider,{value:v,children:x})};l.displayName=c+"Provider";function u(p,h){var b;const x=((b=h==null?void 0:h[e])==null?void 0:b[m])||d,g=i.useContext(x);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${c}\``)}return[l,u]}const o=()=>{const c=s.map(a=>i.createContext(a));return function(d){const m=(d==null?void 0:d[e])||c;return i.useMemo(()=>({[`__scope${e}`]:{...d,[e]:m}}),[d,m])}};return o.scopeName=e,[r,Kt(o,...n)]}function Kt(...e){const n=e[0];if(e.length===1)return n;const s=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const a=r.reduce((d,{useScope:m,scopeName:l})=>{const p=m(c)[`__scope${l}`];return{...d,...p}},{});return i.useMemo(()=>({[`__scope${n.scopeName}`]:a}),[a])}};return s.scopeName=n.scopeName,s}var Y=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},Vt=ae[" useInsertionEffect ".trim().toString()]||Y;function Yt({prop:e,defaultProp:n,onChange:s=()=>{},caller:r}){const[o,c,a]=Xt({defaultProp:n,onChange:s}),d=e!==void 0,m=d?e:o;{const u=i.useRef(e!==void 0);i.useEffect(()=>{const p=u.current;p!==d&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=d},[d,r])}const l=i.useCallback(u=>{var p;if(d){const h=Jt(u)?u(e):u;h!==e&&((p=a.current)==null||p.call(a,h))}else c(u)},[d,e,c,a]);return[m,l]}function Xt({defaultProp:e,onChange:n}){const[s,r]=i.useState(e),o=i.useRef(s),c=i.useRef(n);return Vt(()=>{c.current=n},[n]),i.useEffect(()=>{var a;o.current!==s&&((a=c.current)==null||a.call(c,s),o.current=s)},[s,o]),[s,r,c]}function Jt(e){return typeof e=="function"}function Ae(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Qt(...e){return n=>{let s=!1;const r=e.map(o=>{const c=Ae(o,n);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():Ae(e[o],null)}}}}function Oe(...e){return i.useCallback(Qt(...e),e)}var Zt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ge=Zt.reduce((e,n)=>{const s=ie(`Primitive.${n}`),r=i.forwardRef((o,c)=>{const{asChild:a,...d}=o,m=a?s:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...d,ref:c})});return r.displayName=`Primitive.${n}`,{...e,[n]:r}},{});function Ht(e,n){return i.useReducer((s,r)=>n[s][r]??s,e)}var Me=e=>{const{present:n,children:s}=e,r=qt(n),o=typeof s=="function"?s({present:r.isPresent}):i.Children.only(s),c=Oe(r.ref,en(o));return typeof s=="function"||r.isPresent?i.cloneElement(o,{ref:c}):null};Me.displayName="Presence";function qt(e){const[n,s]=i.useState(),r=i.useRef(null),o=i.useRef(e),c=i.useRef("none"),a=e?"mounted":"unmounted",[d,m]=Ht(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const l=se(r.current);c.current=d==="mounted"?l:"none"},[d]),Y(()=>{const l=r.current,u=o.current;if(u!==e){const h=c.current,x=se(l);e?m("MOUNT"):x==="none"||(l==null?void 0:l.display)==="none"?m("UNMOUNT"):m(u&&h!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,m]),Y(()=>{if(n){let l;const u=n.ownerDocument.defaultView??window,p=x=>{const b=se(r.current).includes(x.animationName);if(x.target===n&&b&&(m("ANIMATION_END"),!o.current)){const v=n.style.animationFillMode;n.style.animationFillMode="forwards",l=u.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=v)})}},h=x=>{x.target===n&&(c.current=se(r.current))};return n.addEventListener("animationstart",h),n.addEventListener("animationcancel",p),n.addEventListener("animationend",p),()=>{u.clearTimeout(l),n.removeEventListener("animationstart",h),n.removeEventListener("animationcancel",p),n.removeEventListener("animationend",p)}}else m("ANIMATION_END")},[n,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:i.useCallback(l=>{r.current=l?getComputedStyle(l):null,s(l)},[])}}function se(e){return(e==null?void 0:e.animationName)||"none"}function en(e){var r,o;let n=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?e.ref:(n=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var tn=ae[" useId ".trim().toString()]||(()=>{}),nn=0;function sn(e){const[n,s]=i.useState(tn());return Y(()=>{s(r=>r??String(nn++))},[e]),e||(n?`radix-${n}`:"")}var ce="Collapsible",[rn,lr]=Wt(ce),[on,Ne]=rn(ce),De=i.forwardRef((e,n)=>{const{__scopeCollapsible:s,open:r,defaultOpen:o,disabled:c,onOpenChange:a,...d}=e,[m,l]=Yt({prop:r,defaultProp:o??!1,onChange:a,caller:ce});return t.jsx(on,{scope:s,disabled:c,contentId:sn(),open:m,onOpenToggle:i.useCallback(()=>l(u=>!u),[l]),children:t.jsx(ge.div,{"data-state":je(m),"data-disabled":c?"":void 0,...d,ref:n})})});De.displayName=ce;var Fe="CollapsibleTrigger",$e=i.forwardRef((e,n)=>{const{__scopeCollapsible:s,...r}=e,o=Ne(Fe,s);return t.jsx(ge.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":je(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:n,onClick:Bt(e.onClick,o.onOpenToggle)})});$e.displayName=Fe;var we="CollapsibleContent",Le=i.forwardRef((e,n)=>{const{forceMount:s,...r}=e,o=Ne(we,e.__scopeCollapsible);return t.jsx(Me,{present:s||o.open,children:({present:c})=>t.jsx(an,{...r,ref:n,present:c})})});Le.displayName=we;var an=i.forwardRef((e,n)=>{const{__scopeCollapsible:s,present:r,children:o,...c}=e,a=Ne(we,s),[d,m]=i.useState(r),l=i.useRef(null),u=Oe(n,l),p=i.useRef(0),h=p.current,x=i.useRef(0),g=x.current,b=a.open||d,v=i.useRef(b),N=i.useRef(void 0);return i.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),Y(()=>{const w=l.current;if(w){N.current=N.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const y=w.getBoundingClientRect();p.current=y.height,x.current=y.width,v.current||(w.style.transitionDuration=N.current.transitionDuration,w.style.animationName=N.current.animationName),m(r)}},[a.open,r]),t.jsx(ge.div,{"data-state":je(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!b,...c,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:b&&o})});function je(e){return e?"open":"closed"}var cn=De;function ln({...e}){return t.jsx(cn,{"data-slot":"collapsible",...e})}function dn({...e}){return t.jsx($e,{"data-slot":"collapsible-trigger",...e})}function un({...e}){return t.jsx(Le,{"data-slot":"collapsible-content",...e})}var oe={exports:{}},mn=oe.exports,ze;function fn(){return ze||(ze=1,function(e,n){(function(s,r){e.exports=r()})(mn,function(){return function(s,r,o){s=s||{};var c=r.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d(l,u,p,h){return c.fromToBase(l,u,p,h)}o.en.relativeTime=a,c.fromToBase=function(l,u,p,h,x){for(var g,b,v,N=p.$locale().relativeTime||a,w=s.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],y=w.length,C=0;C<y;C+=1){var k=w[C];k.d&&(g=h?o(l).diff(p,k.d,!0):p.diff(l,k.d,!0));var S=(s.rounding||Math.round)(Math.abs(g));if(v=g>0,S<=k.r||!k.r){S<=1&&C>0&&(k=w[C-1]);var z=N[k.l];x&&(S=x(""+S)),b=typeof z=="string"?z.replace("%d",S):z(S,u,k.l,v);break}}if(u)return b;var _=v?N.future:N.past;return typeof _=="function"?_(b):_.replace("%s",b)},c.to=function(l,u){return d(l,u,this,!0)},c.from=function(l,u){return d(l,u,this)};var m=function(l){return l.$u?o.utc():o()};c.toNow=function(l){return this.to(m(this),l)},c.fromNow=function(l){return this.from(m(this),l)}}})}(oe)),oe.exports}var pn=fn();const xn=xt(pn);function M(e,n,{checkForDefaultPrevented:s=!0}={}){return function(o){if(e==null||e(o),s===!1||!o.defaultPrevented)return n==null?void 0:n(o)}}function Te(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function hn(...e){return n=>{let s=!1;const r=e.map(o=>{const c=Te(o,n);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():Te(e[o],null)}}}}function $(...e){return i.useCallback(hn(...e),e)}function le(e,n=[]){let s=[];function r(c,a){const d=i.createContext(a),m=s.length;s=[...s,a];const l=p=>{var N;const{scope:h,children:x,...g}=p,b=((N=h==null?void 0:h[e])==null?void 0:N[m])||d,v=i.useMemo(()=>g,Object.values(g));return t.jsx(b.Provider,{value:v,children:x})};l.displayName=c+"Provider";function u(p,h){var b;const x=((b=h==null?void 0:h[e])==null?void 0:b[m])||d,g=i.useContext(x);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${c}\``)}return[l,u]}const o=()=>{const c=s.map(a=>i.createContext(a));return function(d){const m=(d==null?void 0:d[e])||c;return i.useMemo(()=>({[`__scope${e}`]:{...d,[e]:m}}),[d,m])}};return o.scopeName=e,[r,vn(o,...n)]}function vn(...e){const n=e[0];if(e.length===1)return n;const s=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const a=r.reduce((d,{useScope:m,scopeName:l})=>{const p=m(c)[`__scope${l}`];return{...d,...p}},{});return i.useMemo(()=>({[`__scope${n.scopeName}`]:a}),[a])}};return s.scopeName=n.scopeName,s}var bn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],U=bn.reduce((e,n)=>{const s=ie(`Primitive.${n}`),r=i.forwardRef((o,c)=>{const{asChild:a,...d}=o,m=a?s:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...d,ref:c})});return r.displayName=`Primitive.${n}`,{...e,[n]:r}},{});function gn(e){const n=e+"CollectionProvider",[s,r]=le(n),[o,c]=s(n,{collectionRef:{current:null},itemMap:new Map}),a=b=>{const{scope:v,children:N}=b,w=O.useRef(null),y=O.useRef(new Map).current;return t.jsx(o,{scope:v,itemMap:y,collectionRef:w,children:N})};a.displayName=n;const d=e+"CollectionSlot",m=ie(d),l=O.forwardRef((b,v)=>{const{scope:N,children:w}=b,y=c(d,N),C=$(v,y.collectionRef);return t.jsx(m,{ref:C,children:w})});l.displayName=d;const u=e+"CollectionItemSlot",p="data-radix-collection-item",h=ie(u),x=O.forwardRef((b,v)=>{const{scope:N,children:w,...y}=b,C=O.useRef(null),k=$(v,C),S=c(u,N);return O.useEffect(()=>(S.itemMap.set(C,{ref:C,...y}),()=>void S.itemMap.delete(C))),t.jsx(h,{[p]:"",ref:k,children:w})});x.displayName=u;function g(b){const v=c(e+"CollectionConsumer",b);return O.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${p}]`));return Array.from(v.itemMap.values()).sort((S,z)=>y.indexOf(S.ref.current)-y.indexOf(z.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:l,ItemSlot:x},g,r]}var X=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},Nn=ae[" useId ".trim().toString()]||(()=>{}),wn=0;function jn(e){const[n,s]=i.useState(Nn());return X(()=>{s(r=>r??String(wn++))},[e]),n?`radix-${n}`:""}function yn(e){const n=i.useRef(e);return i.useEffect(()=>{n.current=e}),i.useMemo(()=>(...s)=>{var r;return(r=n.current)==null?void 0:r.call(n,...s)},[])}var Rn=ae[" useInsertionEffect ".trim().toString()]||X;function Ue({prop:e,defaultProp:n,onChange:s=()=>{},caller:r}){const[o,c,a]=Cn({defaultProp:n,onChange:s}),d=e!==void 0,m=d?e:o;{const u=i.useRef(e!==void 0);i.useEffect(()=>{const p=u.current;p!==d&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=d},[d,r])}const l=i.useCallback(u=>{var p;if(d){const h=_n(u)?u(e):u;h!==e&&((p=a.current)==null||p.call(a,h))}else c(u)},[d,e,c,a]);return[m,l]}function Cn({defaultProp:e,onChange:n}){const[s,r]=i.useState(e),o=i.useRef(s),c=i.useRef(n);return Rn(()=>{c.current=n},[n]),i.useEffect(()=>{var a;o.current!==s&&((a=c.current)==null||a.call(c,s),o.current=s)},[s,o]),[s,r,c]}function _n(e){return typeof e=="function"}var kn=i.createContext(void 0);function Ge(e){const n=i.useContext(kn);return e||n||"ltr"}var ve="rovingFocusGroup.onEntryFocus",Sn={bubbles:!1,cancelable:!0},J="RovingFocusGroup",[be,Be,In]=gn(J),[An,We]=le(J,[In]),[zn,Tn]=An(J),Ke=i.forwardRef((e,n)=>t.jsx(be.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(be.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Pn,{...e,ref:n})})}));Ke.displayName=J;var Pn=i.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:o=!1,dir:c,currentTabStopId:a,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...p}=e,h=i.useRef(null),x=$(n,h),g=Ge(c),[b,v]=Ue({prop:a,defaultProp:d??null,onChange:m,caller:J}),[N,w]=i.useState(!1),y=yn(l),C=Be(s),k=i.useRef(!1),[S,z]=i.useState(0);return i.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(ve,y),()=>_.removeEventListener(ve,y)},[y]),t.jsx(zn,{scope:s,orientation:r,dir:g,loop:o,currentTabStopId:b,onItemFocus:i.useCallback(_=>v(_),[v]),onItemShiftTab:i.useCallback(()=>w(!0),[]),onFocusableItemAdd:i.useCallback(()=>z(_=>_+1),[]),onFocusableItemRemove:i.useCallback(()=>z(_=>_-1),[]),children:t.jsx(U.div,{tabIndex:N||S===0?-1:0,"data-orientation":r,...p,ref:x,style:{outline:"none",...e.style},onMouseDown:M(e.onMouseDown,()=>{k.current=!0}),onFocus:M(e.onFocus,_=>{const Q=!k.current;if(_.target===_.currentTarget&&Q&&!N){const Z=new CustomEvent(ve,Sn);if(_.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const G=C().filter(T=>T.focusable),ue=G.find(T=>T.active),H=G.find(T=>T.id===b),me=[ue,H,...G].filter(Boolean).map(T=>T.ref.current);Xe(me,u)}}k.current=!1}),onBlur:M(e.onBlur,()=>w(!1))})})}),Ve="RovingFocusGroupItem",Ye=i.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:o=!1,tabStopId:c,children:a,...d}=e,m=jn(),l=c||m,u=Tn(Ve,s),p=u.currentTabStopId===l,h=Be(s),{onFocusableItemAdd:x,onFocusableItemRemove:g,currentTabStopId:b}=u;return i.useEffect(()=>{if(r)return x(),()=>g()},[r,x,g]),t.jsx(be.ItemSlot,{scope:s,id:l,focusable:r,active:o,children:t.jsx(U.span,{tabIndex:p?0:-1,"data-orientation":u.orientation,...d,ref:n,onMouseDown:M(e.onMouseDown,v=>{r?u.onItemFocus(l):v.preventDefault()}),onFocus:M(e.onFocus,()=>u.onItemFocus(l)),onKeyDown:M(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const N=Mn(v,u.orientation,u.dir);if(N!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=h().filter(C=>C.focusable).map(C=>C.ref.current);if(N==="last")y.reverse();else if(N==="prev"||N==="next"){N==="prev"&&y.reverse();const C=y.indexOf(v.currentTarget);y=u.loop?Dn(y,C+1):y.slice(C+1)}setTimeout(()=>Xe(y))}}),children:typeof a=="function"?a({isCurrentTabStop:p,hasTabStop:b!=null}):a})})});Ye.displayName=Ve;var En={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function On(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Mn(e,n,s){const r=On(e.key,s);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return En[r]}function Xe(e,n=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:n}),document.activeElement!==s))return}function Dn(e,n){return e.map((s,r)=>e[(n+r)%e.length])}var Fn=Ke,$n=Ye;function Ln(e){const[n,s]=i.useState(void 0);return X(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let a,d;if("borderBoxSize"in c){const m=c.borderBoxSize,l=Array.isArray(m)?m[0]:m;a=l.inlineSize,d=l.blockSize}else a=e.offsetWidth,d=e.offsetHeight;s({width:a,height:d})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),n}function Un(e){const n=i.useRef({value:e,previous:e});return i.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}function Gn(e,n){return i.useReducer((s,r)=>n[s][r]??s,e)}var Je=e=>{const{present:n,children:s}=e,r=Bn(n),o=typeof s=="function"?s({present:r.isPresent}):i.Children.only(s),c=$(r.ref,Wn(o));return typeof s=="function"||r.isPresent?i.cloneElement(o,{ref:c}):null};Je.displayName="Presence";function Bn(e){const[n,s]=i.useState(),r=i.useRef(null),o=i.useRef(e),c=i.useRef("none"),a=e?"mounted":"unmounted",[d,m]=Gn(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const l=re(r.current);c.current=d==="mounted"?l:"none"},[d]),X(()=>{const l=r.current,u=o.current;if(u!==e){const h=c.current,x=re(l);e?m("MOUNT"):x==="none"||(l==null?void 0:l.display)==="none"?m("UNMOUNT"):m(u&&h!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,m]),X(()=>{if(n){let l;const u=n.ownerDocument.defaultView??window,p=x=>{const b=re(r.current).includes(CSS.escape(x.animationName));if(x.target===n&&b&&(m("ANIMATION_END"),!o.current)){const v=n.style.animationFillMode;n.style.animationFillMode="forwards",l=u.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=v)})}},h=x=>{x.target===n&&(c.current=re(r.current))};return n.addEventListener("animationstart",h),n.addEventListener("animationcancel",p),n.addEventListener("animationend",p),()=>{u.clearTimeout(l),n.removeEventListener("animationstart",h),n.removeEventListener("animationcancel",p),n.removeEventListener("animationend",p)}}else m("ANIMATION_END")},[n,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:i.useCallback(l=>{r.current=l?getComputedStyle(l):null,s(l)},[])}}function re(e){return(e==null?void 0:e.animationName)||"none"}function Wn(e){var r,o;let n=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?e.ref:(n=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var ye="Radio",[Kn,Qe]=le(ye),[Vn,Yn]=Kn(ye),Ze=i.forwardRef((e,n)=>{const{__scopeRadio:s,name:r,checked:o=!1,required:c,disabled:a,value:d="on",onCheck:m,form:l,...u}=e,[p,h]=i.useState(null),x=$(n,v=>h(v)),g=i.useRef(!1),b=p?l||!!p.closest("form"):!0;return t.jsxs(Vn,{scope:s,checked:o,disabled:a,children:[t.jsx(U.button,{type:"button",role:"radio","aria-checked":o,"data-state":tt(o),"data-disabled":a?"":void 0,disabled:a,value:d,...u,ref:x,onClick:M(e.onClick,v=>{o||m==null||m(),b&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),b&&t.jsx(et,{control:p,bubbles:!g.current,name:r,value:d,checked:o,required:c,disabled:a,form:l,style:{transform:"translateX(-100%)"}})]})});Ze.displayName=ye;var He="RadioIndicator",qe=i.forwardRef((e,n)=>{const{__scopeRadio:s,forceMount:r,...o}=e,c=Yn(He,s);return t.jsx(Je,{present:r||c.checked,children:t.jsx(U.span,{"data-state":tt(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:n})})});qe.displayName=He;var Xn="RadioBubbleInput",et=i.forwardRef(({__scopeRadio:e,control:n,checked:s,bubbles:r=!0,...o},c)=>{const a=i.useRef(null),d=$(a,c),m=Un(s),l=Ln(n);return i.useEffect(()=>{const u=a.current;if(!u)return;const p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"checked").set;if(m!==s&&x){const g=new Event("click",{bubbles:r});x.call(u,s),u.dispatchEvent(g)}},[m,s,r]),t.jsx(U.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:d,style:{...o.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});et.displayName=Xn;function tt(e){return e?"checked":"unchecked"}var Jn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],de="RadioGroup",[Qn,dr]=le(de,[We,Qe]),nt=We(),st=Qe(),[Zn,Hn]=Qn(de),rt=i.forwardRef((e,n)=>{const{__scopeRadioGroup:s,name:r,defaultValue:o,value:c,required:a=!1,disabled:d=!1,orientation:m,dir:l,loop:u=!0,onValueChange:p,...h}=e,x=nt(s),g=Ge(l),[b,v]=Ue({prop:c,defaultProp:o??null,onChange:p,caller:de});return t.jsx(Zn,{scope:s,name:r,required:a,disabled:d,value:b,onValueChange:v,children:t.jsx(Fn,{asChild:!0,...x,orientation:m,dir:g,loop:u,children:t.jsx(U.div,{role:"radiogroup","aria-required":a,"aria-orientation":m,"data-disabled":d?"":void 0,dir:g,...h,ref:n})})})});rt.displayName=de;var ot="RadioGroupItem",it=i.forwardRef((e,n)=>{const{__scopeRadioGroup:s,disabled:r,...o}=e,c=Hn(ot,s),a=c.disabled||r,d=nt(s),m=st(s),l=i.useRef(null),u=$(n,l),p=c.value===o.value,h=i.useRef(!1);return i.useEffect(()=>{const x=b=>{Jn.includes(b.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",g)}},[]),t.jsx($n,{asChild:!0,...d,focusable:!a,active:p,children:t.jsx(Ze,{disabled:a,required:c.required,checked:p,...m,...o,name:c.name,ref:u,onCheck:()=>c.onValueChange(o.value),onKeyDown:M(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:M(o.onFocus,()=>{var x;h.current&&((x=l.current)==null||x.click())})})})});it.displayName=ot;var qn="RadioGroupIndicator",at=i.forwardRef((e,n)=>{const{__scopeRadioGroup:s,...r}=e,o=st(s);return t.jsx(qe,{...o,...r,ref:n})});at.displayName=qn;var ct=rt,lt=it,es=at;const dt=i.forwardRef(({className:e,...n},s)=>t.jsx(ct,{className:Ee("grid gap-2",e),...n,ref:s}));dt.displayName=ct.displayName;const V=i.forwardRef(({className:e,...n},s)=>t.jsx(lt,{ref:s,className:Ee("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:t.jsx(es,{className:"flex items-center justify-center",children:t.jsx(Gt,{className:"h-2.5 w-2.5 fill-current text-current"})})}));V.displayName=lt.displayName;L.extend(xn);function K(e){return e?/^https?:\/\//i.test(e)||e.startsWith("/storage/")?e:`/storage/${e.replace(/^\/?storage\//,"")}`:null}function ts(e){if(!e)return"—";const n=L(e);return n.isValid()?n.format("MMM D, YYYY"):e}function Pe(e){if(!e)return null;const n=`1970-01-01 ${e}`,s=L(n);return s.isValid()?s.format("hh:mm A"):e}function ns(e,n){const s=Pe(e),r=Pe(n);return!s&&!r?"—":s&&r?`${s} — ${r}`:s||r||"—"}const ss=[{title:"Dashboard",href:"/dashboard"},{title:"Defense Requirements",href:"/defense-requirements"}];function ur(){const{props:e}=ht(),{defenseRequirements:n=[],defenseRequest:s,acceptDefense:r=!0}=e,[o,c]=i.useState(!r),[a,d]=i.useState(s||null),[m,l]=i.useState(L().format("h:mm A")),[u,p]=i.useState(!1),x=!!a&&!new Set(["cancelled","adviser-rejected","coordinator-rejected","completed"]).has((a.workflow_state||"").toLowerCase()),[g,b]=i.useState(!1),[v,N]=i.useState(!1),[w,y]=i.useState(null),[C,k]=i.useState(!1),[S,z]=i.useState(""),[_,Q]=i.useState(""),[Z,G]=i.useState(null),[ue,H]=i.useState(!1),[Re,me]=i.useState(null),T=["submitted","adviser-approved","coordinator-approved","panels-assigned","scheduled","completed"];function ut(f){if(!f)return null;const j=f.toLowerCase();return j==="submitted"||j==="adviser-review"?"submitted":j==="adviser-approved"||j==="coordinator-review"?"adviser-approved":j==="coordinator-approved"?"coordinator-approved":j==="panels-assigned"||j==="panel-assigned"?"panels-assigned":j==="scheduled"?"scheduled":j==="completed"?"completed":null}function mt(f){if(!f)return 0;const j=(f.workflow_state||"").toLowerCase();if(f.panels_assigned_at&&!["panels-assigned","scheduled","completed"].includes(j))return T.indexOf("panels-assigned");const I=ut(j);return I?T.indexOf(I):0}i.useEffect(()=>{if(!(a!=null&&a.id))return;const f=setInterval(async()=>{try{const j=await fetch(`/api/defense-request/${a.id}`);if(!j.ok)return;const I=await j.json();["workflow_state","defense_chairperson","defense_panelist1","defense_panelist2","defense_panelist3","defense_panelist4","scheduled_date","scheduled_time","scheduled_end_time","defense_venue","defense_mode","scheduling_notes"].some(R=>I[R]!==a[R])&&l(L().format("h:mm A")),d(I)}catch{}},1e4);return()=>clearInterval(f)},[a==null?void 0:a.id,a]);function Ce(f,j){if(!j)return(f.status||"").toLowerCase()==="pending";const I=["pending","submitted","adviser-review"];return(f.status||"").toLowerCase()==="cancelled"||j.thesis_title===f.thesis_title&&j.workflow_state==="cancelled"?!1:(f.status||"").toLowerCase()==="pending"||j.thesis_title===f.thesis_title&&I.includes(j.workflow_state)}return t.jsxs(bt,{breadcrumbs:ss,children:[t.jsx(vt,{title:"Defense Requirements"}),u?t.jsxs("div",{className:"w-full min-h-[70vh] bg-zinc-100 dark:bg-zinc-900 flex flex-col gap-4 p-0 m-0",children:[t.jsx(ee,{className:"h-6 w-1/6 rounded bg-zinc-300 dark:bg-zinc-800 mt-8 mx-8"}),t.jsx(ee,{className:"h-12 w-3/4 rounded bg-zinc-300 dark:bg-zinc-800 mx-8"}),t.jsx(ee,{className:"h-12 w-2/3 rounded bg-zinc-300 dark:bg-zinc-800 mx-8"}),t.jsx(ee,{className:"h-[500px] w-full rounded bg-zinc-300 dark:bg-zinc-800 mt-4"})]}):t.jsxs("div",{className:"flex flex-col px-7 pt-5 pb-5 w-full",children:[!r&&o&&t.jsxs(zt,{className:"bg-yellow-50 dark:bg-yellow-950 border-yellow-200 dark:border-yellow-900 text-yellow-900 dark:text-yellow-100 flex items-start gap-3 px-6 py-5 rounded-xl mb-4 relative",children:[t.jsx(Ie,{className:"h-5 w-5 text-yellow-500 dark:text-yellow-400 mt-1 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx(Tt,{className:"font-semibold mb-1",children:"Defense Requirement Submissions Closed"}),t.jsx(Pt,{children:"The defense requirement submission period is currently closed. Please contact your coordinator for more information."})]}),t.jsx("button",{type:"button",className:"absolute top-2 right-2 text-yellow-900 dark:text-yellow-100 hover:text-yellow-700 dark:hover:text-yellow-300 rounded p-1","aria-label":"Close",onClick:()=>c(!1),children:t.jsx(xe,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg overflow-hidden",children:[t.jsxs("div",{className:"flex flex-row items-center justify-between w-full p-3 border-b border-zinc-200 dark:border-zinc-800",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-rose-500/10 dark:bg-rose-500/20 border border-rose-500 dark:border-rose-700",children:t.jsx(te,{className:"h-5 w-5 text-rose-400 dark:text-rose-300"})}),t.jsxs("div",{children:[t.jsx("span",{className:"text-base font-semibold dark:text-white",children:"Defense Requirements"}),t.jsx("p",{className:"block text-xs text-muted-foreground dark:text-zinc-400",children:"Track your submission, committee, and schedule."})]})]}),t.jsxs(q,{className:"bg-rose-500 text-sm px-5 rounded-md dark:bg-rose-600 disabled:opacity-60",onClick:()=>b(!0),disabled:x||!r,title:r?x?"Finish current workflow before submitting another":"Submit new defense requirements":"Submissions closed",children:[t.jsx(Mt,{})," Submit requirements"]}),t.jsx(Rt,{open:g,onOpenChange:b,onFinish:()=>{},acceptDefense:r})]}),n.length===0?t.jsx("div",{className:"p-6 text-center text-sm text-muted-foreground dark:text-zinc-400",children:"No defense requirements submitted yet."}):[...n].sort((f,j)=>(j.created_at?new Date(j.created_at).getTime():0)-(f.created_at?new Date(f.created_at).getTime():0)).map(f=>{const j=Re===f.id,I=f.created_at?L(f.created_at).fromNow():"Unknown",B=a&&a.thesis_title===f.thesis_title?a:f.workflow_state?{workflow_state:f.workflow_state}:null,D=mt(B),R={...f,...a&&a.thesis_title===f.thesis_title?a:{}},A=(R.workflow_state||"").toLowerCase(),fe=A==="cancelled",_e=A==="adviser-rejected"||A==="coordinator-rejected",ke=A==="completed",ft=!fe&&!_e&&!ke,Se=[{key:"submitted",label:"Submitted",icon:t.jsx(ne,{className:"w-4 h-4"})},{key:"adviser-approved",label:"Adviser Approved",icon:t.jsx(W,{className:"w-4 h-4"})},{key:"coordinator-approved",label:"Coordinator Approved",icon:t.jsx(W,{className:"w-4 h-4"})},{key:"panels-assigned",label:"Panels Assigned",icon:t.jsx(E,{className:"w-4 h-4"})},{key:"scheduled",label:"Scheduled",icon:t.jsx(he,{className:"w-4 h-4"})},{key:"completed",label:"Completed",icon:t.jsx(te,{className:"w-4 h-4"})}];return t.jsxs(O.Fragment,{children:[t.jsx("div",{className:"border-b border-zinc-200 dark:border-zinc-800 w-full"}),t.jsxs(ln,{open:j,onOpenChange:P=>me(P?f.id:null),children:[t.jsx(dn,{asChild:!0,children:t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 cursor-pointer bg-white dark:bg-zinc-900 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors",children:[t.jsx(Dt,{className:`transition-transform duration-200 h-4 w-4 text-muted-foreground dark:text-zinc-400 mr-3 ${j?"rotate-180":""}`}),t.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[f.defense_type&&t.jsx(Ot,{variant:"outline",className:"text-[11px] font-semibold px-2 py-0.5 capitalize",children:f.defense_type}),t.jsx("span",{className:"font-semibold text-xs text-black dark:text-white truncate",children:f.thesis_title}),(()=>{const P=fe?{icon:t.jsx(xe,{className:"h-3.5 w-3.5"}),label:"Cancelled",tone:"text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}:_e?{icon:t.jsx(xe,{className:"h-3.5 w-3.5"}),label:A==="adviser-rejected"?"Rejected by Adviser":"Rejected by Coordinator",tone:"text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}:ke?{icon:t.jsx(W,{className:"h-3.5 w-3.5"}),label:"Defense Completed",tone:"text-green-700 dark:text-green-400 bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"}:A==="scheduled"?{icon:t.jsx(he,{className:"h-3.5 w-3.5"}),label:"Defense Scheduled",tone:"text-rose-700 dark:text-rose-300 bg-rose-50 dark:bg-rose-900/20 border-rose-200 dark:border-rose-800"}:A==="panels-assigned"?{icon:t.jsx(E,{className:"h-3.5 w-3.5"}),label:"Panels Assigned",tone:"text-rose-700 dark:text-rose-300 bg-rose-50 dark:bg-rose-900/20 border-rose-200 dark:border-rose-800"}:A==="coordinator-approved"?{icon:t.jsx(W,{className:"h-3.5 w-3.5"}),label:"Coordinator Approved",tone:"text-zinc-700 dark:text-zinc-200 bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"}:A==="adviser-approved"?{icon:t.jsx(W,{className:"h-3.5 w-3.5"}),label:"Adviser Approved",tone:"text-zinc-700 dark:text-zinc-200 bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"}:A==="coordinator-review"?{icon:t.jsx(ne,{className:"h-3.5 w-3.5"}),label:"Coordinator Review",tone:"text-zinc-600 dark:text-zinc-400 bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"}:A==="adviser-review"?{icon:t.jsx(ne,{className:"h-3.5 w-3.5"}),label:"Adviser Review",tone:"text-zinc-600 dark:text-zinc-400 bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"}:{icon:t.jsx(ne,{className:"h-3.5 w-3.5"}),label:"Submitted",tone:"text-zinc-600 dark:text-zinc-400 bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"};return t.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-0.5 text-[11px] font-medium ml-2 ${P.tone}`,children:[P.icon,P.label]})})()]}),t.jsx("div",{className:"flex items-center w-64 justify-end",children:ft?t.jsx("div",{className:"flex items-center gap-0",children:Se.map((P,pe)=>{const pt=pe<=D?"bg-rose-500 text-white border-rose-500 dark:bg-rose-600 dark:border-rose-700":"bg-zinc-100 text-zinc-400 border-zinc-200 dark:bg-zinc-800 dark:text-zinc-500 dark:border-zinc-700";return t.jsxs(O.Fragment,{children:[t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:`rounded-full p-1 border ${pt}`,children:P.icon})}),pe<Se.length-1&&t.jsx("div",{className:`h-1 w-6 ${pe<D?"bg-rose-500 dark:bg-rose-700":"bg-zinc-200 dark:bg-zinc-700"}`})]},P.key)})}):t.jsx("div",{className:"flex items-center justify-center"})})]})}),t.jsx(un,{children:t.jsx("div",{className:"px-4 py-3",children:t.jsxs("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 p-4 sm:p-5",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsx("div",{className:"min-w-0"}),t.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[t.jsxs("span",{className:"text-[10px] text-muted-foreground dark:text-zinc-400 whitespace-nowrap",children:["Submitted ",I]}),t.jsxs(Ct,{children:[t.jsx(_t,{asChild:!0,children:t.jsx(q,{variant:"outline",size:"icon",className:"h-7 w-7 p-0",disabled:!!fe,children:t.jsx(Ft,{className:"h-4 w-4"})})}),t.jsx(kt,{align:"end",children:t.jsx(St,{disabled:!Ce(f,a),onSelect:P=>{P.preventDefault(),Ce(f,a)&&(G(f.id),z(""),Q(""),k(!0))},children:"Unsubmit"})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-5 text-xs",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(Ie,{className:"h-3.5 w-3.5"}),"Thesis Title"]}),t.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100 break-words",children:f.thesis_title||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(te,{className:"h-3.5 w-3.5"}),"Defense Type"]}),t.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:f.defense_type||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(E,{className:"h-3.5 w-3.5"}),"Student"]}),t.jsxs("div",{className:"font-medium text-zinc-900 dark:text-zinc-100 truncate",children:[f.first_name," ",f.last_name]})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(E,{className:"h-3.5 w-3.5"}),"Adviser"]}),t.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100 truncate",children:f.adviser||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(te,{className:"h-3.5 w-3.5"}),"Program"]}),t.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100 break-words",children:f.program||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(F,{className:"h-3.5 w-3.5"}),"Reference No."]}),t.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100 truncate",children:f.reference_no||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(he,{className:"h-3.5 w-3.5"}),"Date"]}),t.jsx("div",{className:"font-medium",children:ts(R.scheduled_date)})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx($t,{className:"h-3.5 w-3.5"}),"Time"]}),t.jsx("div",{className:"font-medium",children:ns(R.scheduled_time,R.scheduled_end_time)})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(Lt,{className:"h-3.5 w-3.5"}),"Venue"]}),t.jsx("div",{className:"font-medium",children:R.defense_venue||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Mode"}),t.jsx("div",{className:"font-medium capitalize",children:R.defense_mode||"—"})]}),t.jsxs("div",{className:"sm:col-span-2 min-w-0",children:[t.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Notes"}),t.jsx("div",{className:"font-medium break-words",children:R.scheduling_notes||"—"})]}),t.jsxs("div",{className:"sm:col-span-2 min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(E,{className:"h-3.5 w-3.5"}),"Committee"]}),[R.defense_chairperson,R.defense_panelist1,R.defense_panelist2,R.defense_panelist3,R.defense_panelist4].some(Boolean)?t.jsxs("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:[R.defense_chairperson&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 px-2.5 py-1 text-[11px]",children:[t.jsx(E,{className:"h-3.5 w-3.5 text-zinc-500"}),t.jsx("span",{className:"font-medium",children:R.defense_chairperson}),t.jsx("span",{className:"text-zinc-500",children:"(Chairperson)"})]}),R.defense_panelist1&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 px-2.5 py-1 text-[11px]",children:[t.jsx(E,{className:"h-3.5 w-3.5 text-zinc-500"}),t.jsx("span",{className:"font-medium",children:R.defense_panelist1}),t.jsx("span",{className:"text-zinc-500",children:"(Panelist 1)"})]}),R.defense_panelist2&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 px-2.5 py-1 text-[11px]",children:[t.jsx(E,{className:"h-3.5 w-3.5 text-zinc-500"}),t.jsx("span",{className:"font-medium",children:R.defense_panelist2}),t.jsx("span",{className:"text-zinc-500",children:"(Panelist 2)"})]}),R.defense_panelist3&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 px-2.5 py-1 text-[11px]",children:[t.jsx(E,{className:"h-3.5 w-3.5 text-zinc-500"}),t.jsx("span",{className:"font-medium",children:R.defense_panelist3}),t.jsx("span",{className:"text-zinc-500",children:"(Panelist 3)"})]}),R.defense_panelist4&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 px-2.5 py-1 text-[11px]",children:[t.jsx(E,{className:"h-3.5 w-3.5 text-zinc-500"}),t.jsx("span",{className:"font-medium",children:R.defense_panelist4}),t.jsx("span",{className:"text-zinc-500",children:"(Panelist 4)"})]})]}):t.jsx("div",{className:"text-[12px] text-muted-foreground",children:"No committee assigned yet."})]}),t.jsxs("div",{className:"sm:col-span-2 min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(F,{className:"h-3.5 w-3.5"}),"Attachments"]}),t.jsxs("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:[f.manuscript_proposal&&t.jsxs("a",{href:K(f.manuscript_proposal)||void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-[11px] px-2.5 py-1",style:{textDecoration:"none"},children:[t.jsx(F,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"truncate max-w-[160px]",children:["Manuscript • ",f.manuscript_proposal.split("/").pop()]})]}),f.similarity_index&&t.jsxs("a",{href:K(f.similarity_index)||void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-[11px] px-2.5 py-1",style:{textDecoration:"none"},children:[t.jsx(F,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"truncate max-w-[160px]",children:["Similarity • ",f.similarity_index.split("/").pop()]})]}),f.rec_endorsement&&t.jsxs("a",{href:K(f.rec_endorsement)||void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-[11px] px-2.5 py-1",style:{textDecoration:"none"},children:[t.jsx(F,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"truncate max-w-[160px]",children:["Endorsement • ",f.rec_endorsement.split("/").pop()]})]}),f.proof_of_payment&&t.jsxs("a",{href:K(f.proof_of_payment)||void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-[11px] px-2.5 py-1",style:{textDecoration:"none"},children:[t.jsx(F,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"truncate max-w-[160px]",children:["Payment • ",f.proof_of_payment.split("/").pop()]})]}),f.avisee_adviser_attachment&&t.jsxs("a",{href:K(f.avisee_adviser_attachment)||void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-[11px] px-2.5 py-1",style:{textDecoration:"none"},children:[t.jsx(F,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"truncate max-w-[160px]",children:["Avisee–Adviser • ",f.avisee_adviser_attachment.split("/").pop()]})]}),!f.manuscript_proposal&&!f.similarity_index&&!f.rec_endorsement&&!f.proof_of_payment&&!f.avisee_adviser_attachment&&t.jsx("div",{className:"text-[12px] text-muted-foreground",children:"No attachments uploaded."})]})]})]}),A==="completed"&&t.jsxs("div",{className:"mt-4 p-3 rounded-md border border-green-200 bg-green-50 dark:bg-green-900/30",children:[t.jsx("div",{className:"font-bold text-green-700 text-xs mb-1",children:"Congratulations, your defense has been successfully completed!"}),t.jsxs("div",{className:"text-xs text-zinc-700 dark:text-zinc-200",children:[t.jsx("b",{children:"Request for Oral Defense Certificate"}),t.jsx("br",{}),"Please fill out this form:",t.jsx("br",{}),t.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLScIFYf8Z6L8q_N2qVEdS4koTJ7jv4HOFnhit-4LKXmOH--Ukg/viewform?usp=send_form",target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline break-all",children:"https://docs.google.com/forms/d/e/1FAIpQLScIFYf8Z6L8q_N2qVEdS4koTJ7jv4HOFnhit-4LKXmOH--Ukg/viewform?usp=send_form"})]})]})]})})})]})]},f.id)})]}),t.jsx(gt,{open:C,onOpenChange:k,children:t.jsxs(Nt,{children:[t.jsxs(wt,{children:[t.jsx(jt,{children:"Are you sure?"}),t.jsx(yt,{children:"Please select a reason for unsubmission."})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(dt,{value:S,onValueChange:z,children:[t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(V,{value:"mistake",id:"reason-mistake"}),t.jsx("label",{htmlFor:"reason-mistake",className:"text-sm",children:"I made a mistake in filling up the forms"})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(V,{value:"cancel",id:"reason-cancel"}),t.jsx("label",{htmlFor:"reason-cancel",className:"text-sm",children:"I'd like to just cancel the submission"})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(V,{value:"outdated",id:"reason-outdated"}),t.jsx("label",{htmlFor:"reason-outdated",className:"text-sm",children:"The submission was outdated"})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(V,{value:"other",id:"reason-other"}),t.jsx("label",{htmlFor:"reason-other",className:"text-sm",children:"Other..."})]})]}),S==="other"&&t.jsx(At,{placeholder:"Enter your reason",value:_,onChange:f=>Q(f.target.value),className:"text-sm"}),t.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[t.jsx(q,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),t.jsx(q,{disabled:ue||!S||S==="other"&&!_,onClick:async()=>{var f,j;H(!0);try{const I=((f=window.Laravel)==null?void 0:f.csrfToken)||((j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content")),B=await fetch(`/defense-requirements/${Z}/unsubmit`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":I||""},body:JSON.stringify({reason:S==="other"?_:S,_token:I||""})});if(B.ok)k(!1),window.location.reload();else{let D={};try{D=await B.json()}catch{}alert((D==null?void 0:D.message)||"Failed to unsubmit.")}}catch{alert("Network error. Please try again.")}finally{H(!1)}},children:"Submit"})]})]})]})}),w&&t.jsx(Et,{open:v,onOpenChange:N,defenseRequest:w})]})]})}export{ur as default};
