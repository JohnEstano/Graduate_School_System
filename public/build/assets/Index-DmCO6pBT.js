import{r as i,j as t,c as ae,g as ft,R as M,K as pt,L as xt}from"./app-DW0Mt5c9.js";import{A as ht}from"./app-layout-CPwLq_xH.js";import{B as q}from"./button-BZf0VdIO.js";import{D as vt,a as bt,e as gt,b as Nt,c as wt}from"./dialog-D7L72BhV.js";import"./index-DHu7YzAG.js";import{c as ie}from"./index-RzYQM1sh.js";import jt from"./submit-defense-requirements-BeIDawLN.js";import{d as L}from"./dayjs.min-D31ZKPdx.js";import{D as yt,a as Rt,b as Ct,d as _t}from"./dropdown-menu-FJcetjAu.js";import{c as Ee}from"./utils-jAU0Cazi.js";import{c as kt}from"./createLucideIcon-S0dKkUVo.js";import{I as St}from"./input-Ch6RmxP_.js";import{S as ee}from"./skeleton-mSVdOwMe.js";import{A as It,a as At,b as zt}from"./alert-Dap4gtF9.js";import{D as Tt}from"./DocumentGeneratorDialog-CBSokUKe.js";import{B as Pt}from"./badge-B7OUzsXL.js";import{I as Ie}from"./info-Dl-vg0Zq.js";import{X as xe}from"./x-CW6T59GI.js";import{G as te}from"./graduation-cap-d15gjgNL.js";import{P as Et}from"./plus-DgMBMen3.js";import{C as Mt}from"./chevron-down-B7XKdsxY.js";import{E as Ot}from"./ellipsis-vertical-ClNpeKDN.js";import{U as P}from"./users-CFj_s0Ga.js";import{P as F}from"./paperclip-Cbu-YW77.js";import{C as he}from"./calendar-BCyjqlGy.js";import{C as Dt}from"./clock-CNQjyXBL.js";import{M as Ft}from"./map-pin-BIs5WYgR.js";import{H as ne}from"./hourglass-x0m41G9t.js";import{C as W}from"./circle-check-big-CG9wjNDm.js";import"./index-DZZQifJx.js";import"./index-BMNAwHVU.js";import"./index-Bh88FqJG.js";import"./tooltip-3yEC6fE6.js";import"./floating-ui.react-dom-DEJ-U2zP.js";import"./separator-4d5ucxHB.js";import"./index-xrb8sl6P.js";import"./chevron-right-x7vIKCyG.js";import"./avatar-B3rD_VQk.js";import"./index-I9YLalqX.js";import"./settings-DPsrAkv5.js";import"./file-text-Dpj0IN7n.js";import"./dollar-sign-DVIUp7aq.js";import"./send-BUfb6BoG.js";import"./credit-card-Bzx9FpUt.js";import"./tabs-3Dm9feNm.js";import"./sun-C_6rnlvD.js";import"./label-Dk8neUpq.js";import"./Stepper-CkkTexZW.js";import"./proxy-CMvBkXOB.js";import"./alert-dialog-CRrgAssw.js";import"./check-C1Ca0PY3.js";import"./circle-alert-CV2dla6l.js";import"./index-dxfJWdT_.js";import"./index-Au_TdUcj.js";import"./index-Bwn0NV8Z.js";import"./select-cV-UjAs3.js";import"./index-D1ThX8Vn.js";import"./index-ByTeG7FR.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Lt=kt("Circle",$t);function Ut(e,n,{checkForDefaultPrevented:s=!0}={}){return function(o){if(e==null||e(o),s===!1||!o.defaultPrevented)return n==null?void 0:n(o)}}function Gt(e,n=[]){let s=[];function r(c,a){const d=i.createContext(a),m=s.length;s=[...s,a];const l=f=>{var N;const{scope:h,children:x,...g}=f,b=((N=h==null?void 0:h[e])==null?void 0:N[m])||d,v=i.useMemo(()=>g,Object.values(g));return t.jsx(b.Provider,{value:v,children:x})};l.displayName=c+"Provider";function u(f,h){var b;const x=((b=h==null?void 0:h[e])==null?void 0:b[m])||d,g=i.useContext(x);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${c}\``)}return[l,u]}const o=()=>{const c=s.map(a=>i.createContext(a));return function(d){const m=(d==null?void 0:d[e])||c;return i.useMemo(()=>({[`__scope${e}`]:{...d,[e]:m}}),[d,m])}};return o.scopeName=e,[r,Bt(o,...n)]}function Bt(...e){const n=e[0];if(e.length===1)return n;const s=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const a=r.reduce((d,{useScope:m,scopeName:l})=>{const f=m(c)[`__scope${l}`];return{...d,...f}},{});return i.useMemo(()=>({[`__scope${n.scopeName}`]:a}),[a])}};return s.scopeName=n.scopeName,s}var Y=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},Wt=ae[" useInsertionEffect ".trim().toString()]||Y;function Kt({prop:e,defaultProp:n,onChange:s=()=>{},caller:r}){const[o,c,a]=Vt({defaultProp:n,onChange:s}),d=e!==void 0,m=d?e:o;{const u=i.useRef(e!==void 0);i.useEffect(()=>{const f=u.current;f!==d&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=d},[d,r])}const l=i.useCallback(u=>{var f;if(d){const h=Yt(u)?u(e):u;h!==e&&((f=a.current)==null||f.call(a,h))}else c(u)},[d,e,c,a]);return[m,l]}function Vt({defaultProp:e,onChange:n}){const[s,r]=i.useState(e),o=i.useRef(s),c=i.useRef(n);return Wt(()=>{c.current=n},[n]),i.useEffect(()=>{var a;o.current!==s&&((a=c.current)==null||a.call(c,s),o.current=s)},[s,o]),[s,r,c]}function Yt(e){return typeof e=="function"}function Ae(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Xt(...e){return n=>{let s=!1;const r=e.map(o=>{const c=Ae(o,n);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():Ae(e[o],null)}}}}function Me(...e){return i.useCallback(Xt(...e),e)}var Jt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ge=Jt.reduce((e,n)=>{const s=ie(`Primitive.${n}`),r=i.forwardRef((o,c)=>{const{asChild:a,...d}=o,m=a?s:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...d,ref:c})});return r.displayName=`Primitive.${n}`,{...e,[n]:r}},{});function Qt(e,n){return i.useReducer((s,r)=>n[s][r]??s,e)}var Oe=e=>{const{present:n,children:s}=e,r=Zt(n),o=typeof s=="function"?s({present:r.isPresent}):i.Children.only(s),c=Me(r.ref,Ht(o));return typeof s=="function"||r.isPresent?i.cloneElement(o,{ref:c}):null};Oe.displayName="Presence";function Zt(e){const[n,s]=i.useState(),r=i.useRef(null),o=i.useRef(e),c=i.useRef("none"),a=e?"mounted":"unmounted",[d,m]=Qt(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const l=se(r.current);c.current=d==="mounted"?l:"none"},[d]),Y(()=>{const l=r.current,u=o.current;if(u!==e){const h=c.current,x=se(l);e?m("MOUNT"):x==="none"||(l==null?void 0:l.display)==="none"?m("UNMOUNT"):m(u&&h!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,m]),Y(()=>{if(n){let l;const u=n.ownerDocument.defaultView??window,f=x=>{const b=se(r.current).includes(x.animationName);if(x.target===n&&b&&(m("ANIMATION_END"),!o.current)){const v=n.style.animationFillMode;n.style.animationFillMode="forwards",l=u.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=v)})}},h=x=>{x.target===n&&(c.current=se(r.current))};return n.addEventListener("animationstart",h),n.addEventListener("animationcancel",f),n.addEventListener("animationend",f),()=>{u.clearTimeout(l),n.removeEventListener("animationstart",h),n.removeEventListener("animationcancel",f),n.removeEventListener("animationend",f)}}else m("ANIMATION_END")},[n,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:i.useCallback(l=>{r.current=l?getComputedStyle(l):null,s(l)},[])}}function se(e){return(e==null?void 0:e.animationName)||"none"}function Ht(e){var r,o;let n=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?e.ref:(n=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var qt=ae[" useId ".trim().toString()]||(()=>{}),en=0;function tn(e){const[n,s]=i.useState(qt());return Y(()=>{s(r=>r??String(en++))},[e]),e||(n?`radix-${n}`:"")}var ce="Collapsible",[nn,ar]=Gt(ce),[sn,Ne]=nn(ce),De=i.forwardRef((e,n)=>{const{__scopeCollapsible:s,open:r,defaultOpen:o,disabled:c,onOpenChange:a,...d}=e,[m,l]=Kt({prop:r,defaultProp:o??!1,onChange:a,caller:ce});return t.jsx(sn,{scope:s,disabled:c,contentId:tn(),open:m,onOpenToggle:i.useCallback(()=>l(u=>!u),[l]),children:t.jsx(ge.div,{"data-state":je(m),"data-disabled":c?"":void 0,...d,ref:n})})});De.displayName=ce;var Fe="CollapsibleTrigger",$e=i.forwardRef((e,n)=>{const{__scopeCollapsible:s,...r}=e,o=Ne(Fe,s);return t.jsx(ge.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":je(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:n,onClick:Ut(e.onClick,o.onOpenToggle)})});$e.displayName=Fe;var we="CollapsibleContent",Le=i.forwardRef((e,n)=>{const{forceMount:s,...r}=e,o=Ne(we,e.__scopeCollapsible);return t.jsx(Oe,{present:s||o.open,children:({present:c})=>t.jsx(rn,{...r,ref:n,present:c})})});Le.displayName=we;var rn=i.forwardRef((e,n)=>{const{__scopeCollapsible:s,present:r,children:o,...c}=e,a=Ne(we,s),[d,m]=i.useState(r),l=i.useRef(null),u=Me(n,l),f=i.useRef(0),h=f.current,x=i.useRef(0),g=x.current,b=a.open||d,v=i.useRef(b),N=i.useRef(void 0);return i.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),Y(()=>{const w=l.current;if(w){N.current=N.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const y=w.getBoundingClientRect();f.current=y.height,x.current=y.width,v.current||(w.style.transitionDuration=N.current.transitionDuration,w.style.animationName=N.current.animationName),m(r)}},[a.open,r]),t.jsx(ge.div,{"data-state":je(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!b,...c,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:b&&o})});function je(e){return e?"open":"closed"}var on=De;function an({...e}){return t.jsx(on,{"data-slot":"collapsible",...e})}function cn({...e}){return t.jsx($e,{"data-slot":"collapsible-trigger",...e})}function ln({...e}){return t.jsx(Le,{"data-slot":"collapsible-content",...e})}var oe={exports:{}},dn=oe.exports,ze;function un(){return ze||(ze=1,function(e,n){(function(s,r){e.exports=r()})(dn,function(){return function(s,r,o){s=s||{};var c=r.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d(l,u,f,h){return c.fromToBase(l,u,f,h)}o.en.relativeTime=a,c.fromToBase=function(l,u,f,h,x){for(var g,b,v,N=f.$locale().relativeTime||a,w=s.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],y=w.length,C=0;C<y;C+=1){var k=w[C];k.d&&(g=h?o(l).diff(f,k.d,!0):f.diff(l,k.d,!0));var S=(s.rounding||Math.round)(Math.abs(g));if(v=g>0,S<=k.r||!k.r){S<=1&&C>0&&(k=w[C-1]);var A=N[k.l];x&&(S=x(""+S)),b=typeof A=="string"?A.replace("%d",S):A(S,u,k.l,v);break}}if(u)return b;var _=v?N.future:N.past;return typeof _=="function"?_(b):_.replace("%s",b)},c.to=function(l,u){return d(l,u,this,!0)},c.from=function(l,u){return d(l,u,this)};var m=function(l){return l.$u?o.utc():o()};c.toNow=function(l){return this.to(m(this),l)},c.fromNow=function(l){return this.from(m(this),l)}}})}(oe)),oe.exports}var mn=un();const fn=ft(mn);function O(e,n,{checkForDefaultPrevented:s=!0}={}){return function(o){if(e==null||e(o),s===!1||!o.defaultPrevented)return n==null?void 0:n(o)}}function Te(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function pn(...e){return n=>{let s=!1;const r=e.map(o=>{const c=Te(o,n);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():Te(e[o],null)}}}}function $(...e){return i.useCallback(pn(...e),e)}function le(e,n=[]){let s=[];function r(c,a){const d=i.createContext(a),m=s.length;s=[...s,a];const l=f=>{var N;const{scope:h,children:x,...g}=f,b=((N=h==null?void 0:h[e])==null?void 0:N[m])||d,v=i.useMemo(()=>g,Object.values(g));return t.jsx(b.Provider,{value:v,children:x})};l.displayName=c+"Provider";function u(f,h){var b;const x=((b=h==null?void 0:h[e])==null?void 0:b[m])||d,g=i.useContext(x);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${c}\``)}return[l,u]}const o=()=>{const c=s.map(a=>i.createContext(a));return function(d){const m=(d==null?void 0:d[e])||c;return i.useMemo(()=>({[`__scope${e}`]:{...d,[e]:m}}),[d,m])}};return o.scopeName=e,[r,xn(o,...n)]}function xn(...e){const n=e[0];if(e.length===1)return n;const s=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const a=r.reduce((d,{useScope:m,scopeName:l})=>{const f=m(c)[`__scope${l}`];return{...d,...f}},{});return i.useMemo(()=>({[`__scope${n.scopeName}`]:a}),[a])}};return s.scopeName=n.scopeName,s}var hn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],U=hn.reduce((e,n)=>{const s=ie(`Primitive.${n}`),r=i.forwardRef((o,c)=>{const{asChild:a,...d}=o,m=a?s:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...d,ref:c})});return r.displayName=`Primitive.${n}`,{...e,[n]:r}},{});function vn(e){const n=e+"CollectionProvider",[s,r]=le(n),[o,c]=s(n,{collectionRef:{current:null},itemMap:new Map}),a=b=>{const{scope:v,children:N}=b,w=M.useRef(null),y=M.useRef(new Map).current;return t.jsx(o,{scope:v,itemMap:y,collectionRef:w,children:N})};a.displayName=n;const d=e+"CollectionSlot",m=ie(d),l=M.forwardRef((b,v)=>{const{scope:N,children:w}=b,y=c(d,N),C=$(v,y.collectionRef);return t.jsx(m,{ref:C,children:w})});l.displayName=d;const u=e+"CollectionItemSlot",f="data-radix-collection-item",h=ie(u),x=M.forwardRef((b,v)=>{const{scope:N,children:w,...y}=b,C=M.useRef(null),k=$(v,C),S=c(u,N);return M.useEffect(()=>(S.itemMap.set(C,{ref:C,...y}),()=>void S.itemMap.delete(C))),t.jsx(h,{[f]:"",ref:k,children:w})});x.displayName=u;function g(b){const v=c(e+"CollectionConsumer",b);return M.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((S,A)=>y.indexOf(S.ref.current)-y.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:l,ItemSlot:x},g,r]}var X=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},bn=ae[" useId ".trim().toString()]||(()=>{}),gn=0;function Nn(e){const[n,s]=i.useState(bn());return X(()=>{s(r=>r??String(gn++))},[e]),n?`radix-${n}`:""}function wn(e){const n=i.useRef(e);return i.useEffect(()=>{n.current=e}),i.useMemo(()=>(...s)=>{var r;return(r=n.current)==null?void 0:r.call(n,...s)},[])}var jn=ae[" useInsertionEffect ".trim().toString()]||X;function Ue({prop:e,defaultProp:n,onChange:s=()=>{},caller:r}){const[o,c,a]=yn({defaultProp:n,onChange:s}),d=e!==void 0,m=d?e:o;{const u=i.useRef(e!==void 0);i.useEffect(()=>{const f=u.current;f!==d&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=d},[d,r])}const l=i.useCallback(u=>{var f;if(d){const h=Rn(u)?u(e):u;h!==e&&((f=a.current)==null||f.call(a,h))}else c(u)},[d,e,c,a]);return[m,l]}function yn({defaultProp:e,onChange:n}){const[s,r]=i.useState(e),o=i.useRef(s),c=i.useRef(n);return jn(()=>{c.current=n},[n]),i.useEffect(()=>{var a;o.current!==s&&((a=c.current)==null||a.call(c,s),o.current=s)},[s,o]),[s,r,c]}function Rn(e){return typeof e=="function"}var Cn=i.createContext(void 0);function Ge(e){const n=i.useContext(Cn);return e||n||"ltr"}var ve="rovingFocusGroup.onEntryFocus",_n={bubbles:!1,cancelable:!0},J="RovingFocusGroup",[be,Be,kn]=vn(J),[Sn,We]=le(J,[kn]),[In,An]=Sn(J),Ke=i.forwardRef((e,n)=>t.jsx(be.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(be.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(zn,{...e,ref:n})})}));Ke.displayName=J;var zn=i.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:o=!1,dir:c,currentTabStopId:a,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...f}=e,h=i.useRef(null),x=$(n,h),g=Ge(c),[b,v]=Ue({prop:a,defaultProp:d??null,onChange:m,caller:J}),[N,w]=i.useState(!1),y=wn(l),C=Be(s),k=i.useRef(!1),[S,A]=i.useState(0);return i.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(ve,y),()=>_.removeEventListener(ve,y)},[y]),t.jsx(In,{scope:s,orientation:r,dir:g,loop:o,currentTabStopId:b,onItemFocus:i.useCallback(_=>v(_),[v]),onItemShiftTab:i.useCallback(()=>w(!0),[]),onFocusableItemAdd:i.useCallback(()=>A(_=>_+1),[]),onFocusableItemRemove:i.useCallback(()=>A(_=>_-1),[]),children:t.jsx(U.div,{tabIndex:N||S===0?-1:0,"data-orientation":r,...f,ref:x,style:{outline:"none",...e.style},onMouseDown:O(e.onMouseDown,()=>{k.current=!0}),onFocus:O(e.onFocus,_=>{const Q=!k.current;if(_.target===_.currentTarget&&Q&&!N){const Z=new CustomEvent(ve,_n);if(_.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const G=C().filter(z=>z.focusable),ue=G.find(z=>z.active),H=G.find(z=>z.id===b),me=[ue,H,...G].filter(Boolean).map(z=>z.ref.current);Xe(me,u)}}k.current=!1}),onBlur:O(e.onBlur,()=>w(!1))})})}),Ve="RovingFocusGroupItem",Ye=i.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:o=!1,tabStopId:c,children:a,...d}=e,m=Nn(),l=c||m,u=An(Ve,s),f=u.currentTabStopId===l,h=Be(s),{onFocusableItemAdd:x,onFocusableItemRemove:g,currentTabStopId:b}=u;return i.useEffect(()=>{if(r)return x(),()=>g()},[r,x,g]),t.jsx(be.ItemSlot,{scope:s,id:l,focusable:r,active:o,children:t.jsx(U.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...d,ref:n,onMouseDown:O(e.onMouseDown,v=>{r?u.onItemFocus(l):v.preventDefault()}),onFocus:O(e.onFocus,()=>u.onItemFocus(l)),onKeyDown:O(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const N=En(v,u.orientation,u.dir);if(N!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=h().filter(C=>C.focusable).map(C=>C.ref.current);if(N==="last")y.reverse();else if(N==="prev"||N==="next"){N==="prev"&&y.reverse();const C=y.indexOf(v.currentTarget);y=u.loop?Mn(y,C+1):y.slice(C+1)}setTimeout(()=>Xe(y))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:b!=null}):a})})});Ye.displayName=Ve;var Tn={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Pn(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function En(e,n,s){const r=Pn(e.key,s);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Tn[r]}function Xe(e,n=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:n}),document.activeElement!==s))return}function Mn(e,n){return e.map((s,r)=>e[(n+r)%e.length])}var On=Ke,Dn=Ye;function Fn(e){const[n,s]=i.useState(void 0);return X(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let a,d;if("borderBoxSize"in c){const m=c.borderBoxSize,l=Array.isArray(m)?m[0]:m;a=l.inlineSize,d=l.blockSize}else a=e.offsetWidth,d=e.offsetHeight;s({width:a,height:d})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),n}function $n(e){const n=i.useRef({value:e,previous:e});return i.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}function Ln(e,n){return i.useReducer((s,r)=>n[s][r]??s,e)}var Je=e=>{const{present:n,children:s}=e,r=Un(n),o=typeof s=="function"?s({present:r.isPresent}):i.Children.only(s),c=$(r.ref,Gn(o));return typeof s=="function"||r.isPresent?i.cloneElement(o,{ref:c}):null};Je.displayName="Presence";function Un(e){const[n,s]=i.useState(),r=i.useRef(null),o=i.useRef(e),c=i.useRef("none"),a=e?"mounted":"unmounted",[d,m]=Ln(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const l=re(r.current);c.current=d==="mounted"?l:"none"},[d]),X(()=>{const l=r.current,u=o.current;if(u!==e){const h=c.current,x=re(l);e?m("MOUNT"):x==="none"||(l==null?void 0:l.display)==="none"?m("UNMOUNT"):m(u&&h!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,m]),X(()=>{if(n){let l;const u=n.ownerDocument.defaultView??window,f=x=>{const b=re(r.current).includes(CSS.escape(x.animationName));if(x.target===n&&b&&(m("ANIMATION_END"),!o.current)){const v=n.style.animationFillMode;n.style.animationFillMode="forwards",l=u.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=v)})}},h=x=>{x.target===n&&(c.current=re(r.current))};return n.addEventListener("animationstart",h),n.addEventListener("animationcancel",f),n.addEventListener("animationend",f),()=>{u.clearTimeout(l),n.removeEventListener("animationstart",h),n.removeEventListener("animationcancel",f),n.removeEventListener("animationend",f)}}else m("ANIMATION_END")},[n,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:i.useCallback(l=>{r.current=l?getComputedStyle(l):null,s(l)},[])}}function re(e){return(e==null?void 0:e.animationName)||"none"}function Gn(e){var r,o;let n=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?e.ref:(n=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var ye="Radio",[Bn,Qe]=le(ye),[Wn,Kn]=Bn(ye),Ze=i.forwardRef((e,n)=>{const{__scopeRadio:s,name:r,checked:o=!1,required:c,disabled:a,value:d="on",onCheck:m,form:l,...u}=e,[f,h]=i.useState(null),x=$(n,v=>h(v)),g=i.useRef(!1),b=f?l||!!f.closest("form"):!0;return t.jsxs(Wn,{scope:s,checked:o,disabled:a,children:[t.jsx(U.button,{type:"button",role:"radio","aria-checked":o,"data-state":tt(o),"data-disabled":a?"":void 0,disabled:a,value:d,...u,ref:x,onClick:O(e.onClick,v=>{o||m==null||m(),b&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),b&&t.jsx(et,{control:f,bubbles:!g.current,name:r,value:d,checked:o,required:c,disabled:a,form:l,style:{transform:"translateX(-100%)"}})]})});Ze.displayName=ye;var He="RadioIndicator",qe=i.forwardRef((e,n)=>{const{__scopeRadio:s,forceMount:r,...o}=e,c=Kn(He,s);return t.jsx(Je,{present:r||c.checked,children:t.jsx(U.span,{"data-state":tt(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:n})})});qe.displayName=He;var Vn="RadioBubbleInput",et=i.forwardRef(({__scopeRadio:e,control:n,checked:s,bubbles:r=!0,...o},c)=>{const a=i.useRef(null),d=$(a,c),m=$n(s),l=Fn(n);return i.useEffect(()=>{const u=a.current;if(!u)return;const f=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(f,"checked").set;if(m!==s&&x){const g=new Event("click",{bubbles:r});x.call(u,s),u.dispatchEvent(g)}},[m,s,r]),t.jsx(U.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:d,style:{...o.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});et.displayName=Vn;function tt(e){return e?"checked":"unchecked"}var Yn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],de="RadioGroup",[Xn,cr]=le(de,[We,Qe]),nt=We(),st=Qe(),[Jn,Qn]=Xn(de),rt=i.forwardRef((e,n)=>{const{__scopeRadioGroup:s,name:r,defaultValue:o,value:c,required:a=!1,disabled:d=!1,orientation:m,dir:l,loop:u=!0,onValueChange:f,...h}=e,x=nt(s),g=Ge(l),[b,v]=Ue({prop:c,defaultProp:o??null,onChange:f,caller:de});return t.jsx(Jn,{scope:s,name:r,required:a,disabled:d,value:b,onValueChange:v,children:t.jsx(On,{asChild:!0,...x,orientation:m,dir:g,loop:u,children:t.jsx(U.div,{role:"radiogroup","aria-required":a,"aria-orientation":m,"data-disabled":d?"":void 0,dir:g,...h,ref:n})})})});rt.displayName=de;var ot="RadioGroupItem",it=i.forwardRef((e,n)=>{const{__scopeRadioGroup:s,disabled:r,...o}=e,c=Qn(ot,s),a=c.disabled||r,d=nt(s),m=st(s),l=i.useRef(null),u=$(n,l),f=c.value===o.value,h=i.useRef(!1);return i.useEffect(()=>{const x=b=>{Yn.includes(b.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",g)}},[]),t.jsx(Dn,{asChild:!0,...d,focusable:!a,active:f,children:t.jsx(Ze,{disabled:a,required:c.required,checked:f,...m,...o,name:c.name,ref:u,onCheck:()=>c.onValueChange(o.value),onKeyDown:O(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:O(o.onFocus,()=>{var x;h.current&&((x=l.current)==null||x.click())})})})});it.displayName=ot;var Zn="RadioGroupIndicator",at=i.forwardRef((e,n)=>{const{__scopeRadioGroup:s,...r}=e,o=st(s);return t.jsx(qe,{...o,...r,ref:n})});at.displayName=Zn;var ct=rt,lt=it,Hn=at;const dt=i.forwardRef(({className:e,...n},s)=>t.jsx(ct,{className:Ee("grid gap-2",e),...n,ref:s}));dt.displayName=ct.displayName;const V=i.forwardRef(({className:e,...n},s)=>t.jsx(lt,{ref:s,className:Ee("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:t.jsx(Hn,{className:"flex items-center justify-center",children:t.jsx(Lt,{className:"h-2.5 w-2.5 fill-current text-current"})})}));V.displayName=lt.displayName;L.extend(fn);function K(e){return e?/^https?:\/\//i.test(e)||e.startsWith("/storage/")?e:`/storage/${e.replace(/^\/?storage\//,"")}`:null}function qn(e){if(!e)return"—";const n=L(e);return n.isValid()?n.format("MMM D, YYYY"):e}function Pe(e){if(!e)return null;const n=`1970-01-01 ${e}`,s=L(n);return s.isValid()?s.format("hh:mm A"):e}function es(e,n){const s=Pe(e),r=Pe(n);return!s&&!r?"—":s&&r?`${s} — ${r}`:s||r||"—"}const ts=[{title:"Dashboard",href:"/dashboard"},{title:"Defense Requirements",href:"/defense-requirements"}];function lr(){const{props:e}=pt(),{defenseRequirements:n=[],defenseRequest:s,acceptDefense:r=!0}=e,[o,c]=i.useState(!r),[a,d]=i.useState(s||null),[m,l]=i.useState(L().format("h:mm A")),[u,f]=i.useState(!1),x=!!a&&!new Set(["cancelled","adviser-rejected","coordinator-rejected","completed"]).has((a.workflow_state||"").toLowerCase()),[g,b]=i.useState(!1),[v,N]=i.useState(!1),[w,y]=i.useState(null),[C,k]=i.useState(!1),[S,A]=i.useState(""),[_,Q]=i.useState(""),[Z,G]=i.useState(null),[ue,H]=i.useState(!1),[Re,me]=i.useState(null);function z(p){if(!p)return 0;const j=(p.workflow_state||"").toLowerCase().trim();return j==="completed"?5:j==="coordinator-approved"?4:j==="scheduled"?3:j==="panels-assigned"||j==="panel-assigned"?2:j==="adviser-approved"||j==="coordinator-review"?1:0}i.useEffect(()=>{a&&(console.log("Defense Request Workflow State:",a.workflow_state),console.log("Current Stepper Index:",z(a)))},[a]),i.useEffect(()=>{if(!(a!=null&&a.id))return;const p=setInterval(async()=>{try{const j=await fetch(`/api/defense-request/${a.id}`);if(!j.ok)return;const E=await j.json();["workflow_state","defense_chairperson","defense_panelist1","defense_panelist2","defense_panelist3","defense_panelist4","scheduled_date","scheduled_time","scheduled_end_time","defense_venue","defense_mode","scheduling_notes"].some(R=>E[R]!==a[R])&&l(L().format("h:mm A")),d(E)}catch{}},1e4);return()=>clearInterval(p)},[a==null?void 0:a.id,a]);function Ce(p,j){if(!j)return(p.status||"").toLowerCase()==="pending";const E=["pending","submitted","adviser-review"];return(p.status||"").toLowerCase()==="cancelled"||j.thesis_title===p.thesis_title&&j.workflow_state==="cancelled"?!1:(p.status||"").toLowerCase()==="pending"||j.thesis_title===p.thesis_title&&E.includes(j.workflow_state)}return t.jsxs(ht,{breadcrumbs:ts,children:[t.jsx(xt,{title:"Defense Requirements"}),u?t.jsxs("div",{className:"w-full min-h-[70vh] bg-zinc-100 dark:bg-zinc-900 flex flex-col gap-4 p-0 m-0",children:[t.jsx(ee,{className:"h-6 w-1/6 rounded bg-zinc-300 dark:bg-zinc-800 mt-8 mx-8"}),t.jsx(ee,{className:"h-12 w-3/4 rounded bg-zinc-300 dark:bg-zinc-800 mx-8"}),t.jsx(ee,{className:"h-12 w-2/3 rounded bg-zinc-300 dark:bg-zinc-800 mx-8"}),t.jsx(ee,{className:"h-[500px] w-full rounded bg-zinc-300 dark:bg-zinc-800 mt-4"})]}):t.jsxs("div",{className:"flex flex-col px-7 pt-5 pb-5 w-full",children:[!r&&o&&t.jsxs(It,{className:"bg-yellow-50 dark:bg-yellow-950 border-yellow-200 dark:border-yellow-900 text-yellow-900 dark:text-yellow-100 flex items-start gap-3 px-6 py-5 rounded-xl mb-4 relative",children:[t.jsx(Ie,{className:"h-5 w-5 text-yellow-500 dark:text-yellow-400 mt-1 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx(At,{className:"font-semibold mb-1",children:"Defense Requirement Submissions Closed"}),t.jsx(zt,{children:"The defense requirement submission period is currently closed. Please contact your coordinator for more information."})]}),t.jsx("button",{type:"button",className:"absolute top-2 right-2 text-yellow-900 dark:text-yellow-100 hover:text-yellow-700 dark:hover:text-yellow-300 rounded p-1","aria-label":"Close",onClick:()=>c(!1),children:t.jsx(xe,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg overflow-hidden",children:[t.jsxs("div",{className:"flex flex-row items-center justify-between w-full p-3 border-b border-zinc-200 dark:border-zinc-800",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-rose-500/10 dark:bg-rose-500/20 border border-rose-500 dark:border-rose-700",children:t.jsx(te,{className:"h-5 w-5 text-rose-400 dark:text-rose-300"})}),t.jsxs("div",{children:[t.jsx("span",{className:"text-base font-semibold dark:text-white",children:"Defense Requirements"}),t.jsx("p",{className:"block text-xs text-muted-foreground dark:text-zinc-400",children:"Track your submission, committee, and schedule."})]})]}),t.jsxs(q,{className:"bg-rose-500 text-sm px-5 rounded-md dark:bg-rose-600 disabled:opacity-60",onClick:()=>b(!0),disabled:x||!r,title:r?x?"Finish current workflow before submitting another":"Submit new defense requirements":"Submissions closed",children:[t.jsx(Et,{})," Submit requirements"]}),t.jsx(jt,{open:g,onOpenChange:b,onFinish:()=>{},acceptDefense:r})]}),n.length===0?t.jsx("div",{className:"p-6 text-center text-sm text-muted-foreground dark:text-zinc-400",children:"No defense requirements submitted yet."}):[...n].sort((p,j)=>(j.created_at?new Date(j.created_at).getTime():0)-(p.created_at?new Date(p.created_at).getTime():0)).map(p=>{const j=Re===p.id,E=p.created_at?L(p.created_at).fromNow():"Unknown",B=a&&a.thesis_title===p.thesis_title?a:p.workflow_state?{workflow_state:p.workflow_state}:null,D=z(B),R={...p,...a&&a.thesis_title===p.thesis_title?a:{}},I=(R.workflow_state||"").toLowerCase(),fe=I==="cancelled",_e=I==="adviser-rejected"||I==="coordinator-rejected",ke=I==="completed",ut=!fe&&!_e&&!ke,Se=[{key:"submitted",label:"Submitted",icon:t.jsx(ne,{className:"w-4 h-4"})},{key:"adviser-approved",label:"Adviser Approved",icon:t.jsx(W,{className:"w-4 h-4"})},{key:"panels-assigned",label:"Panels Assigned",icon:t.jsx(P,{className:"w-4 h-4"})},{key:"scheduled",label:"Scheduled",icon:t.jsx(he,{className:"w-4 h-4"})},{key:"coordinator-approved",label:"Coordinator Approved",icon:t.jsx(W,{className:"w-4 h-4"})},{key:"completed",label:"Completed",icon:t.jsx(te,{className:"w-4 h-4"})}];return t.jsxs(M.Fragment,{children:[t.jsx("div",{className:"border-b border-zinc-200 dark:border-zinc-800 w-full"}),t.jsxs(an,{open:j,onOpenChange:T=>me(T?p.id:null),children:[t.jsx(cn,{asChild:!0,children:t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 cursor-pointer bg-white dark:bg-zinc-900 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors",children:[t.jsx(Mt,{className:`transition-transform duration-200 h-4 w-4 text-muted-foreground dark:text-zinc-400 mr-3 ${j?"rotate-180":""}`}),t.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[p.defense_type&&t.jsx(Pt,{variant:"outline",className:"text-[11px] font-semibold px-2 py-0.5 capitalize",children:p.defense_type}),t.jsx("span",{className:"font-semibold text-xs text-black dark:text-white truncate",children:p.thesis_title}),(()=>{const T=fe?{icon:t.jsx(xe,{className:"h-3.5 w-3.5"}),label:"Cancelled",tone:"text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}:_e?{icon:t.jsx(xe,{className:"h-3.5 w-3.5"}),label:I==="adviser-rejected"?"Rejected by Adviser":"Rejected by Coordinator",tone:"text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}:ke?{icon:t.jsx(W,{className:"h-3.5 w-3.5"}),label:"Defense Completed",tone:"text-green-700 dark:text-green-400 bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"}:I==="scheduled"?{icon:t.jsx(he,{className:"h-3.5 w-3.5"}),label:"Defense Scheduled",tone:"text-rose-700 dark:text-rose-300 bg-rose-50 dark:bg-rose-900/20 border-rose-200 dark:border-rose-800"}:I==="panels-assigned"?{icon:t.jsx(P,{className:"h-3.5 w-3.5"}),label:"Panels Assigned",tone:"text-rose-700 dark:text-rose-300 bg-rose-50 dark:bg-rose-900/20 border-rose-200 dark:border-rose-800"}:I==="coordinator-approved"?{icon:t.jsx(W,{className:"h-3.5 w-3.5"}),label:"Coordinator Approved",tone:"text-zinc-700 dark:text-zinc-200 bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"}:I==="adviser-approved"?{icon:t.jsx(W,{className:"h-3.5 w-3.5"}),label:"Adviser Approved",tone:"text-zinc-700 dark:text-zinc-200 bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"}:I==="coordinator-review"?{icon:t.jsx(ne,{className:"h-3.5 w-3.5"}),label:"Coordinator Review",tone:"text-zinc-600 dark:text-zinc-400 bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"}:I==="adviser-review"?{icon:t.jsx(ne,{className:"h-3.5 w-3.5"}),label:"Adviser Review",tone:"text-zinc-600 dark:text-zinc-400 bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"}:{icon:t.jsx(ne,{className:"h-3.5 w-3.5"}),label:"Submitted",tone:"text-zinc-600 dark:text-zinc-400 bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"};return t.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-0.5 text-[11px] font-medium ml-2 ${T.tone}`,children:[T.icon,T.label]})})()]}),t.jsx("div",{className:"flex items-center w-64 justify-end",children:ut?t.jsx("div",{className:"flex items-center gap-0",children:Se.map((T,pe)=>{const mt=pe<=D?"bg-rose-500 text-white border-rose-500 dark:bg-rose-600 dark:border-rose-700":"bg-zinc-100 text-zinc-400 border-zinc-200 dark:bg-zinc-800 dark:text-zinc-500 dark:border-zinc-700";return t.jsxs(M.Fragment,{children:[t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:`rounded-full p-1 border ${mt}`,children:T.icon})}),pe<Se.length-1&&t.jsx("div",{className:`h-1 w-6 ${pe<D?"bg-rose-500 dark:bg-rose-700":"bg-zinc-200 dark:bg-zinc-700"}`})]},T.key)})}):t.jsx("div",{className:"flex items-center justify-center"})})]})}),t.jsx(ln,{children:t.jsx("div",{className:"px-4 py-3",children:t.jsxs("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 p-4 sm:p-5",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsx("div",{className:"min-w-0"}),t.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[t.jsxs("span",{className:"text-[10px] text-muted-foreground dark:text-zinc-400 whitespace-nowrap",children:["Submitted ",E]}),t.jsxs(yt,{children:[t.jsx(Rt,{asChild:!0,children:t.jsx(q,{variant:"outline",size:"icon",className:"h-7 w-7 p-0",disabled:!!fe,children:t.jsx(Ot,{className:"h-4 w-4"})})}),t.jsx(Ct,{align:"end",children:t.jsx(_t,{disabled:!Ce(p,a),onSelect:T=>{T.preventDefault(),Ce(p,a)&&(G(p.id),A(""),Q(""),k(!0))},children:"Unsubmit"})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-5 text-xs",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(Ie,{className:"h-3.5 w-3.5"}),"Thesis Title"]}),t.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100 break-words",children:p.thesis_title||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(te,{className:"h-3.5 w-3.5"}),"Defense Type"]}),t.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:p.defense_type||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(P,{className:"h-3.5 w-3.5"}),"Student"]}),t.jsxs("div",{className:"font-medium text-zinc-900 dark:text-zinc-100 truncate",children:[p.first_name," ",p.last_name]})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(P,{className:"h-3.5 w-3.5"}),"Adviser"]}),t.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100 truncate",children:p.adviser||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(te,{className:"h-3.5 w-3.5"}),"Program"]}),t.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100 break-words",children:p.program||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(F,{className:"h-3.5 w-3.5"}),"Reference No."]}),t.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100 truncate",children:p.reference_no||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(he,{className:"h-3.5 w-3.5"}),"Date"]}),t.jsx("div",{className:"font-medium",children:qn(R.scheduled_date)})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(Dt,{className:"h-3.5 w-3.5"}),"Time"]}),t.jsx("div",{className:"font-medium",children:es(R.scheduled_time,R.scheduled_end_time)})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(Ft,{className:"h-3.5 w-3.5"}),"Venue"]}),t.jsx("div",{className:"font-medium",children:R.defense_venue||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Mode"}),t.jsx("div",{className:"font-medium capitalize",children:R.defense_mode||"—"})]}),t.jsxs("div",{className:"sm:col-span-2 min-w-0",children:[t.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Notes"}),t.jsx("div",{className:"font-medium break-words",children:R.scheduling_notes||"—"})]}),t.jsxs("div",{className:"sm:col-span-2 min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(P,{className:"h-3.5 w-3.5"}),"Committee"]}),[R.defense_chairperson,R.defense_panelist1,R.defense_panelist2,R.defense_panelist3,R.defense_panelist4].some(Boolean)?t.jsxs("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:[R.defense_chairperson&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 px-2.5 py-1 text-[11px]",children:[t.jsx(P,{className:"h-3.5 w-3.5 text-zinc-500"}),t.jsx("span",{className:"font-medium",children:R.defense_chairperson}),t.jsx("span",{className:"text-zinc-500",children:"(Chairperson)"})]}),R.defense_panelist1&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 px-2.5 py-1 text-[11px]",children:[t.jsx(P,{className:"h-3.5 w-3.5 text-zinc-500"}),t.jsx("span",{className:"font-medium",children:R.defense_panelist1}),t.jsx("span",{className:"text-zinc-500",children:"(Panelist 1)"})]}),R.defense_panelist2&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 px-2.5 py-1 text-[11px]",children:[t.jsx(P,{className:"h-3.5 w-3.5 text-zinc-500"}),t.jsx("span",{className:"font-medium",children:R.defense_panelist2}),t.jsx("span",{className:"text-zinc-500",children:"(Panelist 2)"})]}),R.defense_panelist3&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 px-2.5 py-1 text-[11px]",children:[t.jsx(P,{className:"h-3.5 w-3.5 text-zinc-500"}),t.jsx("span",{className:"font-medium",children:R.defense_panelist3}),t.jsx("span",{className:"text-zinc-500",children:"(Panelist 3)"})]}),R.defense_panelist4&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 px-2.5 py-1 text-[11px]",children:[t.jsx(P,{className:"h-3.5 w-3.5 text-zinc-500"}),t.jsx("span",{className:"font-medium",children:R.defense_panelist4}),t.jsx("span",{className:"text-zinc-500",children:"(Panelist 4)"})]})]}):t.jsx("div",{className:"text-[12px] text-muted-foreground",children:"No committee assigned yet."})]}),t.jsxs("div",{className:"sm:col-span-2 min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(F,{className:"h-3.5 w-3.5"}),"Attachments"]}),t.jsxs("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:[p.manuscript_proposal&&t.jsxs("a",{href:K(p.manuscript_proposal)||void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-[11px] px-2.5 py-1",style:{textDecoration:"none"},children:[t.jsx(F,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"truncate max-w-[160px]",children:["Manuscript • ",p.manuscript_proposal.split("/").pop()]})]}),p.similarity_index&&t.jsxs("a",{href:K(p.similarity_index)||void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-[11px] px-2.5 py-1",style:{textDecoration:"none"},children:[t.jsx(F,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"truncate max-w-[160px]",children:["Similarity • ",p.similarity_index.split("/").pop()]})]}),p.rec_endorsement&&t.jsxs("a",{href:K(p.rec_endorsement)||void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-[11px] px-2.5 py-1",style:{textDecoration:"none"},children:[t.jsx(F,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"truncate max-w-[160px]",children:["Endorsement • ",p.rec_endorsement.split("/").pop()]})]}),p.proof_of_payment&&t.jsxs("a",{href:K(p.proof_of_payment)||void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-[11px] px-2.5 py-1",style:{textDecoration:"none"},children:[t.jsx(F,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"truncate max-w-[160px]",children:["Payment • ",p.proof_of_payment.split("/").pop()]})]}),p.avisee_adviser_attachment&&t.jsxs("a",{href:K(p.avisee_adviser_attachment)||void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-[11px] px-2.5 py-1",style:{textDecoration:"none"},children:[t.jsx(F,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"truncate max-w-[160px]",children:["Avisee–Adviser • ",p.avisee_adviser_attachment.split("/").pop()]})]}),!p.manuscript_proposal&&!p.similarity_index&&!p.rec_endorsement&&!p.proof_of_payment&&!p.avisee_adviser_attachment&&t.jsx("div",{className:"text-[12px] text-muted-foreground",children:"No attachments uploaded."})]})]})]}),I==="completed"&&t.jsxs("div",{className:"mt-4 p-3 rounded-md border border-green-200 bg-green-50 dark:bg-green-900/30",children:[t.jsx("div",{className:"font-bold text-green-700 text-xs mb-1",children:"Congratulations, your defense has been successfully completed!"}),t.jsxs("div",{className:"text-xs text-zinc-700 dark:text-zinc-200",children:[t.jsx("b",{children:"Request for Oral Defense Certificate"}),t.jsx("br",{}),"Please fill out this form:",t.jsx("br",{}),t.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLScIFYf8Z6L8q_N2qVEdS4koTJ7jv4HOFnhit-4LKXmOH--Ukg/viewform?usp=send_form",target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline break-all",children:"https://docs.google.com/forms/d/e/1FAIpQLScIFYf8Z6L8q_N2qVEdS4koTJ7jv4HOFnhit-4LKXmOH--Ukg/viewform?usp=send_form"})]})]})]})})})]})]},p.id)})]}),t.jsx(vt,{open:C,onOpenChange:k,children:t.jsxs(bt,{children:[t.jsxs(gt,{children:[t.jsx(Nt,{children:"Are you sure?"}),t.jsx(wt,{children:"Please select a reason for unsubmission."})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(dt,{value:S,onValueChange:A,children:[t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(V,{value:"mistake",id:"reason-mistake"}),t.jsx("label",{htmlFor:"reason-mistake",className:"text-sm",children:"I made a mistake in filling up the forms"})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(V,{value:"cancel",id:"reason-cancel"}),t.jsx("label",{htmlFor:"reason-cancel",className:"text-sm",children:"I'd like to just cancel the submission"})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(V,{value:"outdated",id:"reason-outdated"}),t.jsx("label",{htmlFor:"reason-outdated",className:"text-sm",children:"The submission was outdated"})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(V,{value:"other",id:"reason-other"}),t.jsx("label",{htmlFor:"reason-other",className:"text-sm",children:"Other..."})]})]}),S==="other"&&t.jsx(St,{placeholder:"Enter your reason",value:_,onChange:p=>Q(p.target.value),className:"text-sm"}),t.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[t.jsx(q,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),t.jsx(q,{disabled:ue||!S||S==="other"&&!_,onClick:async()=>{var p,j;H(!0);try{const E=((p=window.Laravel)==null?void 0:p.csrfToken)||((j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content")),B=await fetch(`/defense-requirements/${Z}/unsubmit`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":E||""},body:JSON.stringify({reason:S==="other"?_:S,_token:E||""})});if(B.ok)k(!1),window.location.reload();else{let D={};try{D=await B.json()}catch{}alert((D==null?void 0:D.message)||"Failed to unsubmit.")}}catch{alert("Network error. Please try again.")}finally{H(!1)}},children:"Submit"})]})]})]})}),w&&t.jsx(Tt,{open:v,onOpenChange:N,defenseRequest:w})]})]})}export{lr as default};
