import{r as t,j as e,L as G}from"./app-DdPj2m7B.js";import{A as W}from"./app-layout-CZ3kZ0t2.js";import{B as o}from"./button-C4XkiM_B.js";import{P as R,a as A,b as L}from"./popover-tBQRRq13.js";import{C as T,a as Y,b as M,c as z,d as B,e as p}from"./command-D56cLWk0.js";import{T as q,a as J,b as w,c as y,d as K,e as h}from"./table-C8ztdzxp.js";import{A as U,a as X}from"./avatar-Cz3zvE7t.js";import{c as b}from"./utils-jAU0Cazi.js";import{S as Z,B as $}from"./search-input-Do8im2K8.js";import ee from"./record-modal-lm9Lb7dC.js";import{C as se}from"./calendar-BkrqGKNC.js";import{C as v}from"./check-BgnkF1LW.js";import{E as te}from"./eye-Dkmyf9ow.js";import{D as ae}from"./download-DERSZnXw.js";import{C as re,a as oe}from"./chevrons-right-BiGuqRdN.js";import{C as le}from"./chevron-left-IcMAr9yn.js";import{C as ne}from"./chevron-right-BZod6iQK.js";import"./index-DYEC1Owk.js";import"./index-DZZQifJx.js";import"./input-DCrn1t-u.js";import"./index-DDxX9UbU.js";import"./index-C0AcbnKJ.js";import"./index-DRr-UIpQ.js";import"./x-gfWO9KfB.js";import"./createLucideIcon-B8qZ3ylK.js";import"./tooltip-YyHP33lU.js";import"./floating-ui.react-dom-qFQCHW7g.js";import"./separator-DAbYQnLI.js";import"./index-DxK34XW3.js";import"./dropdown-menu-sYZpN2tC.js";import"./index-DGKk-Zer.js";import"./index-ATT6OHxL.js";import"./index-MX9TSR8D.js";import"./index-BdQOngYf.js";import"./settings-CYIvZ_Tn.js";import"./users-Bi2Lh05r.js";import"./graduation-cap-BxuxjmnL.js";import"./file-text-Dl_aF8u0.js";import"./dollar-sign-DEGfV_co.js";import"./send-ChQ392yu.js";import"./credit-card-BvkjxVWT.js";import"./tabs-BvzTftzm.js";import"./badge-ofr1GoIX.js";import"./circle-check-big-CKCqbWb4.js";import"./info-BWBV8Gn3.js";import"./sun-CPhm4DAg.js";import"./search-gvHM0uxt.js";import"./dialog-BeApitpu.js";import"./proxy-BIJhVlnW.js";const ie=[{title:"Honorarium",href:"/honorarium"},{title:"Honorarium Summary",href:"/honorarium-summary"}],ce=["Doctorate","Masters","Bachelors"];function me(u,c){const a=[];for(let l=c;l>=u;l--)a.push(l);return a}function ls({records:u=[]}){const[c]=t.useState(u),[a,l]=t.useState(null),[i,S]=t.useState(null),[m,E]=t.useState(""),[r,H]=t.useState(1),d=6,[I,j]=t.useState(!1),[O,f]=t.useState(!1),[D,P]=t.useState(!1),[g,F]=t.useState(null),N=t.useMemo(()=>c.filter(s=>{const C=a?s.date_edited.startsWith(a):!0,Q=i?s.category===i:!0,V=m?s.name.toLowerCase().includes(m.toLowerCase()):!0;return C&&Q&&V}),[c,a,i,m]),n=Math.ceil(N.length/d),k=t.useMemo(()=>{const s=(r-1)*d;return N.slice(s,s+d)},[r,N,d]),x=s=>{s>0&&s<=n&&H(s)},_=s=>{F(s),P(!0)};return e.jsxs(W,{breadcrumbs:ie,children:[e.jsx(G,{title:"Honorarium Summary"}),e.jsxs("div",{className:"container mx-auto p-6 dark:bg-[#0a0a0a] min-h-screen",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Honorarium Summary"})}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-4 gap-4",children:[e.jsx(Z,{placeholder:"Search by Program Name...",className:"w-full md:w-1/3",value:m,onChange:s=>E(s.target.value)}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Filter:"}),e.jsxs(R,{open:I,onOpenChange:j,children:[e.jsx(A,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:"w-[150px] justify-start text-left font-normal",children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),a??"All Years"]})}),e.jsx(L,{className:"w-[200px] p-0",align:"start",children:e.jsxs(T,{children:[e.jsx(Y,{placeholder:"Search years..."}),e.jsxs(M,{children:[e.jsx(z,{children:"No year found."}),e.jsxs(B,{children:[e.jsxs(p,{onSelect:()=>{l(null),j(!1)},children:[e.jsx(v,{className:b("mr-2 h-4 w-4",a===null?"opacity-100":"opacity-0")}),"All Years"]}),me(2020,2025).map(s=>e.jsxs(p,{onSelect:()=>{l(s.toString()),j(!1)},children:[e.jsx(v,{className:b("mr-2 h-4 w-4",a===s.toString()?"opacity-100":"opacity-0")}),s]},s))]})]})]})})]}),e.jsxs(R,{open:O,onOpenChange:f,children:[e.jsx(A,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:"w-[180px] justify-start text-left font-normal",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),i??"All Programs"]})}),e.jsx(L,{className:"w-[200px] p-0",align:"start",children:e.jsxs(T,{children:[e.jsx(Y,{placeholder:"Filter category..."}),e.jsxs(M,{children:[e.jsx(z,{children:"No category found."}),e.jsxs(B,{children:[ce.map(s=>e.jsxs(p,{onSelect:()=>{S(s),f(!1)},children:[e.jsx(v,{className:b("mr-2 h-4 w-4",i===s?"opacity-100":"opacity-0")}),s]},s)),e.jsx(p,{onSelect:()=>{S(null),f(!1)},className:"text-red-500",children:"Clear Filter"})]})]})]})})]})]})]}),e.jsx("div",{className:"rounded-md overflow-x-auto border border-border bg-white dark:bg-[#121212] p-2",children:e.jsxs(q,{className:"min-w-full text-sm",children:[e.jsx(J,{children:e.jsxs(w,{children:[e.jsx(y,{className:"w-[60%] px-1 py-2",children:"Program"}),e.jsx(y,{className:"w-[20%] px-1 py-2 text-center",children:"Date Edited"}),e.jsx(y,{className:"w-[20%] text-center px-1 py-2",children:"Actions"})]})}),e.jsx(K,{children:k.length>0?k.map((s,C)=>e.jsxs(w,{className:"hover:bg-muted/50",children:[e.jsxs(h,{className:"flex items-center space-x-4 px-1 py-2",children:[e.jsx(U,{className:"h-10 w-10 flex-shrink-0 bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300",children:e.jsx(X,{children:s.program.charAt(0)})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.program})]})]}),e.jsx(h,{className:"px-1 py-2 text-center",children:s.date_edited}),e.jsx(h,{className:"px-1 py-2",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsxs(o,{variant:"outline",size:"sm",className:"rounded-md px-3 py-2 h-auto text-xs flex items-center gap-1",onClick:()=>_(s),children:[e.jsx(te,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline-block",children:"View Records"})]}),e.jsx(o,{variant:"outline",size:"icon",className:"rounded-md h-auto p-2",onClick:()=>{window.location.href=route("honorarium-summary.download",s.id)},children:e.jsx(ae,{className:"w-4 h-4"})})]})})]},C)):e.jsx(w,{children:e.jsx(h,{colSpan:3,className:"h-24 text-center",children:"No results found."})})})]})}),n>1&&e.jsxs("div",{className:"mt-4 flex justify-end items-center space-x-2 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Page ",r," of ",n]}),e.jsx(o,{variant:"outline",size:"icon",onClick:()=>x(1),disabled:r===1,children:e.jsx(re,{className:"w-4 h-4"})}),e.jsx(o,{variant:"outline",size:"icon",onClick:()=>x(r-1),disabled:r===1,children:e.jsx(le,{className:"w-4 h-4"})}),e.jsx(o,{variant:"outline",size:"icon",onClick:()=>x(r+1),disabled:r===n,children:e.jsx(ne,{className:"w-4 h-4"})}),e.jsx(o,{variant:"outline",size:"icon",onClick:()=>x(n),disabled:r===n,children:e.jsx(oe,{className:"w-4 h-4"})})]})]}),e.jsx(ee,{show:D,onClose:()=>P(!1),record:g?{...g,payments:(g.payments??[]).map(s=>({...s,panelist_name:s.panelist_name??"",role:s.role??""}))}:null})]})}export{ls as default};
