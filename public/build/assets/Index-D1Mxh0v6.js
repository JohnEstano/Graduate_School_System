import{K as h,r as i,j as e,L as j}from"./app-BDkuJsct.js";import{A as g}from"./app-layout-Cr_DtTkJ.js";import{B as p}from"./button-DggClj9M.js";import y from"./PaymentForm-bLvGdk2L.js";import v from"./display-payment-dvfHTa9c.js";import{D as N,a as k}from"./dialog-DeUj0iLU.js";import{R as w}from"./receipt-YZTtq_ps.js";import{C as S}from"./check-BUlQxyEc.js";import"./index-B_a1aFVM.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./input-BmPXXlp0.js";import"./index-CWqpdCTP.js";import"./index-BhbofC_p.js";import"./index-D-bfryUZ.js";import"./x-CtfT_1vN.js";import"./createLucideIcon-CEmaZ7tj.js";import"./tooltip-CWM4FSMS.js";import"./floating-ui.react-dom-w0Q93DA2.js";import"./separator-DaKqQg6m.js";import"./index-LRezjsDo.js";import"./chevron-right-BpKiIXqV.js";import"./dropdown-menu-B7sOazTG.js";import"./index-DMsjTEK4.js";import"./index-BdhkuEJx.js";import"./index-BKBXBDOv.js";import"./index-QFmRa-KD.js";import"./avatar-DpsgA3Kf.js";import"./settings-BITCJcnj.js";import"./users-BTr8E8QO.js";import"./graduation-cap-Cszrlop1.js";import"./file-text-rxgzo2tt.js";import"./dollar-sign-CSALIIUa.js";import"./send-9CEFXyiZ.js";import"./credit-card-CM3Zlvhr.js";import"./tabs-BOuSS6lC.js";import"./badge-BJdX7_A9.js";import"./circle-check-big-CKfkcUFR.js";import"./info-DwFda8kE.js";import"./sun-B3PIUh1_.js";import"./label-MiJboLk1.js";import"./popover-CxnVWzfd.js";import"./calendar-BhsmegxW.js";import"./format-Cze4Gw5q.js";import"./endOfWeek-BqBOMalL.js";import"./differenceInCalendarMonths-BlVIDW-K.js";import"./normalizeInterval-6lUcOLZ2.js";import"./endOfMonth-DvPI_8Ds.js";import"./isSameDay-DsAL-Hdb.js";import"./isSameMonth-C-hFGgGu.js";import"./chevron-down-DMxaecxw.js";import"./calendar-CI-DWPmu.js";import"./paperclip-CfL61ESm.js";import"./parse-BrgCSArQ.js";import"./formatDistanceToNow-nFmhZNS9.js";import"./constructNow-DDgVKswu.js";import"./endOfDay-Ci94Ylrd.js";import"./clock-BykI6stH.js";import"./circle-x-DUEw59KP.js";import"./badge-check-CeCr6JRP.js";function Be(){const{props:c}=h(),{student:d,canSubmit:x,payment:t}=c,o=i.useMemo(()=>({canSubmit:null,debugOpen:!1}),[]),n=x,a=n&&(!t||t.status==="rejected"),[u,m]=i.useState(!1),[f,l]=i.useState(!1),b=i.useMemo(()=>{const r=t==null?void 0:t.status,s="inline-flex items-center rounded-full px-2 py-1 text-xs font-medium";return r==="approved"?e.jsx("span",{className:`${s} bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300`,children:"Approved"}):r==="rejected"?e.jsx("span",{className:`${s} bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300`,children:"Rejected"}):r==="pending"?e.jsx("span",{className:`${s} bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300`,children:"Pending"}):e.jsx("span",{className:`${s} bg-slate-100 text-slate-800 dark:bg-slate-800/50 dark:text-slate-300`,children:"No submission"})},[t==null?void 0:t.status]);return e.jsxs(g,{children:[e.jsx(j,{title:"Comprehensive Exam â€¢ Payment"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-5 pt-5 px-7 overflow-auto",children:e.jsxs("div",{className:"w-full px-2 bg-white border border-zinc-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between w-full p-3 border-b",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-rose-500/10 border border-rose-500",children:e.jsx(w,{className:"h-5 w-5 text-rose-400"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-base font-semibold",children:"Comprehensive Exam Payment"}),e.jsx("p",{className:"block text-xs text-muted-foreground",children:"Submit your official receipt for verification."}),e.jsx("div",{className:"mt-1 text-xs",children:b})]})]}),e.jsx(p,{className:"bg-rose-500 text-sm px-5 rounded-md",onClick:()=>m(!0),disabled:!a&&!o.debugOpen,title:a||o.debugOpen?"Submit payment":n?"Payment already submitted":"You can submit payment only after your comprehensive application is approved.",children:"Submit payment"})]}),e.jsx("div",{className:"p-1",children:t?e.jsx("div",{id:"payment-card",children:e.jsx(v,{payment:{id:t.payment_id,status:t.status,or_number:t.or_number,payment_date:t.payment_date,receipt_image:t.receipt_image,remarks:t.remarks??null,created_at:t.created_at??null},student:d})}):e.jsx("div",{className:"p-6 text-center text-sm text-muted-foreground",children:"No payment submitted yet."})})]})}),e.jsx(N,{open:u,onOpenChange:r=>{m(r),r||l(!1)},children:e.jsxs(k,{className:"flex h-[70vh] w-full max-w-3xl flex-col",children:[" ",f?e.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center space-y-6 px-4",children:[e.jsx(S,{size:48,className:"text-rose-500"}),e.jsx("h2",{className:"text-2xl font-semibold",children:"Payment Submitted!"}),e.jsx("p",{className:"text-center text-gray-600",children:"Your payment has been saved successfully."}),e.jsx(p,{onClick:()=>{m(!1),setTimeout(()=>{var r;(r=document.getElementById("payment-card"))==null||r.scrollIntoView({behavior:"smooth",block:"start"})},100)},className:"bg-rose-500",children:"Done"})]}):e.jsx("div",{className:"flex-1 overflow-auto px-2",children:e.jsx(y,{canSubmit:a||o.debugOpen,payment:t,onSuccess:()=>l(!0)})})]})})]})}export{Be as default};
