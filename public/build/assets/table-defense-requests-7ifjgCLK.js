import{j as e,S as T}from"./app-c5ij2Uy8.js";import{B as c}from"./button-Bw6OnloJ.js";import{T as z,a as M,b as o,c as a,d as A,e as i}from"./table-B_bp0TeV.js";import{C as f}from"./checkbox-CWSffrSs.js";import{B as N}from"./badge-B7RMVcXi.js";import{c as w}from"./createLucideIcon-QXbACLHs.js";import{C as B}from"./chevrons-up-down-D9rV0uwe.js";import{C as D}from"./circle-check-big-REqj7tp6.js";import{C as S}from"./circle-x-CAYAF0N4.js";import{C as q}from"./circle-arrow-left-CBINUU8j.js";import{E as H}from"./eye-D9zR09IO.js";import{f as $}from"./format-C3S3_MiX.js";import"./index-C6aQ0K-7.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./index-B09PGLNS.js";import"./index-DQWsGEEw.js";import"./index-CV-6as2J.js";import"./index-Dy381sfG.js";import"./index-k7YYal9B.js";import"./check--NhZ1PHA.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],E=w("ArrowDown",L);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],U=w("ArrowUp",P);function le({paged:m,columns:s,selected:b,toggleSelectOne:u,headerChecked:g,toggleSelectAll:_,toggleSort:C,sortDir:l,onPriorityChange:k,tabType:p,onViewDetails:x,onRowApprove:h,onRowReject:j,onRowRetrieve:y}){return e.jsx("div",{className:"relative w-full",children:e.jsx("div",{className:"overflow-x-auto w-full rounded-md border border-border bg-background",children:e.jsxs(z,{className:"w-full text-sm table-auto",children:[e.jsx(M,{children:e.jsxs(o,{children:[e.jsx(a,{className:"w-[40px] py-2",children:e.jsx(f,{checked:g,onCheckedChange:_})}),s.title&&e.jsx(a,{className:"px-2",children:"Title"}),s.presenter&&e.jsx(a,{className:"px-2",children:"Presenter"}),s.date&&e.jsx(a,{className:"text-center cursor-pointer px-1 py-2",onClick:C,children:e.jsxs("div",{className:"flex justify-center items-center gap-1",children:[e.jsx("span",{children:"Date"}),l==="asc"&&e.jsx(U,{size:12}),l==="desc"&&e.jsx(E,{size:12}),!l&&e.jsx(B,{size:12,className:"opacity-60"})]})}),s.mode&&e.jsx(a,{className:"text-center px-1 py-2",children:"Mode"}),s.type&&e.jsx(a,{className:"text-center px-1 py-2",children:"Type"}),s.priority&&e.jsx(a,{className:"text-center px-1 py-2",children:"Priority"}),e.jsx(a,{className:"text-center px-1 py-2",children:"Actions"})]})}),e.jsxs(A,{children:[m.slice().sort((t,n)=>{const d=t.date_of_defense||t.scheduled_date,r=n.date_of_defense||n.scheduled_date,v=d?new Date(d).getTime():0;return(r?new Date(r).getTime():0)-v}).map(t=>{var d;const n=b.includes(t.id);return e.jsxs(o,{className:"hover:bg-muted/40",children:[e.jsx(i,{className:"px-2 py-2",children:e.jsx(f,{checked:n,onCheckedChange:()=>u(t.id)})}),s.title&&e.jsx(i,{className:"px-2 py-2 font-medium truncate leading-tight",title:t.thesis_title,children:e.jsx("div",{className:"truncate",children:t.thesis_title})}),s.presenter&&e.jsxs(i,{className:"px-2 py-2 text-xs text-muted-foreground whitespace-nowrap",title:`${t.first_name} ${t.middle_name?t.middle_name+" ":""}${t.last_name}`,children:[t.first_name," ",t.middle_name?t.middle_name[0]+". ":"",t.last_name]}),s.date&&e.jsx(i,{className:"px-1 py-2 text-center whitespace-nowrap",children:(()=>{const r=t.date_of_defense||t.scheduled_date;return r&&!isNaN(new Date(r).getTime())?$(new Date(r),"MMM dd, yyyy"):"—"})()}),s.mode&&e.jsx(i,{className:"px-1 py-2 text-center capitalize",children:((d=t.mode_defense||t.defense_mode)==null?void 0:d.replace("-"," "))||"—"}),s.type&&e.jsx(i,{className:"px-1 py-2 text-center",children:e.jsx(N,{variant:"outline",children:t.defense_type||"—"})}),s.priority&&e.jsx(i,{className:"px-1 py-2 text-center",children:e.jsx(N,{onClick:()=>k(t.id,t.priority==="High"?"Medium":t.priority==="Medium"?"Low":"High"),className:"cursor-pointer "+(t.priority==="High"?"bg-rose-100 text-rose-700 border-rose-200":t.priority==="Low"?"bg-sky-100 text-sky-700 border-sky-200":"bg-amber-100 text-amber-700 border-amber-200"),variant:"outline",children:t.priority})}),e.jsx(i,{className:"px-1 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[p==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(c,{size:"sm",variant:"outline",className:"h-7 w-8 p-0 text-green-600",title:"Approve",onClick:()=>h&&h(t.id),children:e.jsx(D,{className:"h-4 w-4"})}),e.jsx(c,{size:"sm",variant:"outline",className:"h-7 w-8 p-0 text-red-600",title:"Reject",onClick:()=>j&&j(t.id),children:e.jsx(S,{className:"h-4 w-4"})})]}),p==="rejected"&&e.jsx(c,{size:"sm",variant:"outline",className:"h-7 w-8 p-0 text-blue-600",title:"Retrieve (set back to Pending)",onClick:()=>y&&y(t.id),children:e.jsx(q,{className:"h-4 w-4"})}),e.jsx(c,{size:"sm",variant:"outline",className:"h-7 w-8 p-0",onClick:()=>x?x(t.id):T.visit(`/coordinator/defense-requests/${t.id}/details`),title:"Open details",children:e.jsx(H,{className:"h-4 w-4"})})]})})]},t.id)}),m.length===0&&e.jsx(o,{children:e.jsx(i,{colSpan:1+(s.title?1:0)+(s.presenter?1:0)+(s.date?1:0)+(s.mode?1:0)+(s.type?1:0)+(s.priority?1:0)+1,className:"text-center py-10 text-muted-foreground",children:"No requests found."})})]})]})})})}export{le as default};
