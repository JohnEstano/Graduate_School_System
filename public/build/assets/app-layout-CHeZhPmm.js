import{r as u,j as e,K as S,R as ue,$ as p,S as R,u as me}from"./app-BAKMM9W6.js";import{S as $}from"./index-CEqJL0NP.js";import{c as he}from"./index-DZZQifJx.js";import{c as h}from"./utils-jAU0Cazi.js";import{B as L}from"./button-CVeIta7K.js";import"./input-BRk-fvKd.js";import{R as xe,b as fe,C as pe,a as ge,T as be,D as je,P as ve,O as Ne}from"./index-Chzm2fti.js";import{X as ye}from"./x-BVoq4DiS.js";import{c as we,T as ke,a as Se,b as Ce}from"./tooltip-B2Ch4P2D.js";import{c as b}from"./createLucideIcon-BSNBS9Xz.js";import{S as De}from"./separator-LRfcwlAa.js";import{C as J}from"./chevron-right-DZ7e7qvM.js";import{e as Me,f as P,g as _e,d as D,D as Y,a as X,b as Z}from"./dropdown-menu-D2EcCZ7C.js";import{A as Ie,a as Ae}from"./avatar-BvAeIlgK.js";import{S as Te}from"./settings-CXr5fuO8.js";import{G as Q}from"./graduation-cap-CyBvkmsT.js";import{F as k}from"./file-text-Bhi2OKUW.js";import{D as q}from"./dollar-sign-BZcFe5e9.js";import{U as M}from"./users-t5r6UxGv.js";import{B as Ee}from"./badge-dollar-sign-Ciqfzy1N.js";import{S as Re}from"./send-CY1U2khq.js";import{C as Le}from"./credit-card-DIRNAmsI.js";import{T as Be,a as ze,b as H,c as U}from"./tabs-DJFs2CDd.js";import{B as F}from"./badge-D0sAGNiG.js";import{C as Oe}from"./circle-check-big-wj1h3M4g.js";import{I as $e}from"./info-D5wsL-jW.js";import{S as G,M as K}from"./sun-D0NfJtcj.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ee=b("Bell",qe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 17V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11Z",key:"kg77oy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M15 22v-4a2 2 0 0 1 2-2h4",key:"1gnbqr"}]],A=b("CalendarFold",Pe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Ue=b("CheckCheck",He);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Ge=b("ChevronsUpDown",Fe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],T=b("LayoutGrid",Ke);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]],te=b("LibraryBig",We);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Je=b("LogOut",Ve);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],W=b("Monitor",Ye);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Ze=b("PanelLeft",Xe),O=768;function se(){const[t,s]=u.useState();return u.useEffect(()=>{const r=window.matchMedia(`(max-width: ${O-1}px)`),n=()=>{s(window.innerWidth<O)};return r.addEventListener("change",n),s(window.innerWidth<O),()=>r.removeEventListener("change",n)},[]),!!t}function ae({...t}){return e.jsx(xe,{"data-slot":"sheet",...t})}function Qe({...t}){return e.jsx(fe,{"data-slot":"sheet-trigger",...t})}function et({...t}){return e.jsx(ve,{"data-slot":"sheet-portal",...t})}function tt({className:t,...s}){return e.jsx(Ne,{"data-slot":"sheet-overlay",className:h("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function re({className:t,children:s,side:r="right",...n}){return e.jsxs(et,{children:[e.jsx(tt,{}),e.jsxs(pe,{"data-slot":"sheet-content",className:h("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[s,e.jsxs(ge,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(ye,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ne({className:t,...s}){return e.jsx("div",{"data-slot":"sheet-header",className:h("flex flex-col gap-1.5 p-4",t),...s})}function ie({className:t,...s}){return e.jsx(be,{"data-slot":"sheet-title",className:h("text-foreground font-semibold",t),...s})}function st({className:t,...s}){return e.jsx(je,{"data-slot":"sheet-description",className:h("text-muted-foreground text-sm",t),...s})}const at="sidebar_state",rt=60*60*24*7,nt="16rem",it="18rem",ot="3rem",lt="b",oe=u.createContext(null);function E(){const t=u.useContext(oe);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function le({defaultOpen:t=!0,open:s,onOpenChange:r,className:n,style:o,children:i,...l}){const d=se(),[c,m]=u.useState(!1),[a,j]=u.useState(t),N=s??a,x=u.useCallback(f=>{const v=typeof f=="function"?f(N):f;r?r(v):j(v),document.cookie=`${at}=${v}; path=/; max-age=${rt}`},[r,N]),g=u.useCallback(()=>d?m(f=>!f):x(f=>!f),[d,x,m]);u.useEffect(()=>{const f=v=>{v.key===lt&&(v.metaKey||v.ctrlKey)&&(v.preventDefault(),g())};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[g]);const C=N?"expanded":"collapsed",z=u.useMemo(()=>({state:C,open:N,setOpen:x,isMobile:d,openMobile:c,setOpenMobile:m,toggleSidebar:g}),[C,N,x,d,c,m,g]);return e.jsx(oe.Provider,{value:z,children:e.jsx(we,{delayDuration:0,children:e.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":nt,"--sidebar-width-icon":ot,...o},className:h("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...l,children:i})})})}function dt({side:t="left",variant:s="sidebar",collapsible:r="offcanvas",className:n,children:o,...i}){const{isMobile:l,state:d,openMobile:c,setOpenMobile:m}=E();return r==="none"?e.jsx("div",{"data-slot":"sidebar",className:h("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",n),...i,children:o}):l?e.jsxs(ae,{open:c,onOpenChange:m,...i,children:[e.jsxs(ne,{className:"sr-only",children:[e.jsx(ie,{children:"Sidebar"}),e.jsx(st,{children:"Displays the mobile sidebar."})]}),e.jsx(re,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":it},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:o})})]}):e.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":d,"data-collapsible":d==="collapsed"?r:"","data-variant":s,"data-side":t,"data-slot":"sidebar",children:[e.jsx("div",{className:h("relative h-svh w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",s==="floating"||s==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),e.jsx("div",{className:h("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",s==="floating"||s==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:e.jsx("div",{"data-sidebar":"sidebar",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:o})})]})}function ct({className:t,onClick:s,...r}){const{toggleSidebar:n}=E();return e.jsxs(L,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:h("h-7 w-7",t),onClick:o=>{s==null||s(o),n()},...r,children:[e.jsx(Ze,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function ut({className:t,...s}){return e.jsx("main",{"data-slot":"sidebar-inset",className:h("bg-background relative flex max-w-full min-h-svh flex-1 flex-col","peer-data-[variant=inset]:min-h-[calc(100svh-(--spacing(4)))] md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",t),...s})}function mt({className:t,...s}){return e.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:h("flex flex-col gap-2 p-2",t),...s})}function ht({className:t,...s}){return e.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:h("flex flex-col gap-2 p-2",t),...s})}function xt({className:t,...s}){return e.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:h("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...s})}function de({className:t,...s}){return e.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:h("relative flex w-full min-w-0 flex-col p-2",t),...s})}function ft({className:t,asChild:s=!1,...r}){const n=s?$:"div";return e.jsx(n,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:h("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})}function pt({className:t,...s}){return e.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:h("w-full text-sm",t),...s})}function B({className:t,...s}){return e.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:h("flex w-full min-w-0 flex-col gap-1",t),...s})}function _({className:t,...s}){return e.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:h("group/menu-item relative",t),...s})}const gt=he("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!",xl:"h-16 text-lg group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function I({asChild:t=!1,isActive:s=!1,variant:r="default",size:n="default",tooltip:o,className:i,...l}){const d=t?$:"button",{isMobile:c,state:m}=E(),a=e.jsx(d,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":s,className:h(gt({variant:r,size:n}),i),...l});return o?(typeof o=="string"&&(o={children:o}),e.jsxs(ke,{children:[e.jsx(Se,{asChild:!0,children:a}),e.jsx(Ce,{side:"right",align:"center",hidden:m!=="collapsed"||c,...o})]})):a}function bt({variant:t="header",children:s,...r}){return t==="sidebar"?e.jsx(ut,{className:"",...r,children:s}):e.jsx("main",{className:"mx-auto flex h-full w-full max-w-7xl flex-1 flex-col gap-4 rounded-xl",...r,children:s})}function jt({children:t,variant:s="header"}){const r=S().props.sidebarOpen;return s==="header"?e.jsx("div",{className:"flex min-h-screen w-full flex-col",children:t}):e.jsx(le,{defaultOpen:r,children:t})}function vt({iconNode:t,className:s,...r}){return e.jsx(t,{className:h("h-4 w-4",s),...r})}function Nt({items:t,className:s,...r}){return e.jsx(de,{...r,className:`group-data-[collapsible=icon]:p-0 ${s||""}`,children:e.jsx(pt,{children:e.jsx(B,{children:t.map(n=>e.jsx(_,{children:e.jsx(I,{asChild:!0,className:"text-neutral-600 hover:text-neutral-800 dark:text-neutral-300 dark:hover:text-neutral-100",children:e.jsxs("a",{href:n.href,target:"_blank",rel:"noopener noreferrer",children:[n.icon&&e.jsx(vt,{iconNode:n.icon,className:"h-5 w-5"}),e.jsx("span",{children:n.title})]})})},n.title))})})})}function yt({items:t=[],expandedMenus:s,setExpandedMenus:r}){const n=S(),o=i=>{const l=s.includes(i)?s.filter(d=>d!==i):[...s,i];r(l)};return e.jsxs(de,{className:"px-2 py-0",children:[e.jsx(ft,{children:"Graduate School"}),e.jsx(B,{children:t.map(i=>{var m;const l=i.href===n.url,d=!!((m=i.subItems)!=null&&m.length),c=s.includes(i.title);return e.jsxs(ue.Fragment,{children:[e.jsx(_,{children:e.jsx(I,{asChild:!0,isActive:l,onClick:()=>d&&o(i.title),tooltip:{children:i.title},children:d?e.jsxs("button",{className:"flex w-full items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[i.icon&&e.jsx(i.icon,{className:"size-4"}),i.title,i.indicator&&e.jsx("span",{className:"ml-1 w-1.5 h-1.5 rounded-full bg-rose-500 inline-block"})]}),e.jsx(J,{className:`h-4 w-4 transition-transform ${c?"rotate-90":""}`})]}):e.jsx(p,{href:i.href,className:"flex items-center justify-between",children:e.jsxs("span",{className:"flex items-center gap-2",children:[i.icon&&e.jsx(i.icon,{className:"size-4"}),i.title,i.indicator&&e.jsx("span",{className:"ml-1 w-1 h-1 rounded-full bg-zinc-500 inline-block"})]})})})}),d&&c&&e.jsxs("div",{className:"mt-1 ml-6 flex",children:[e.jsx(De,{orientation:"vertical",className:"mx-2 h-6"}),e.jsx("div",{className:"flex flex-col space-y-1",children:i.subItems.map(a=>{const j=a.href===n.url;return e.jsx(_,{children:e.jsx(I,{asChild:!0,isActive:j,tooltip:void 0,children:e.jsxs(p,{href:a.href,className:"flex items-center justify-between py-1",children:[e.jsx("span",{children:a.title}),a.title==="Defense Requests"&&!!a.count&&e.jsx("p",{className:"ml-2 mr-2 text-xs text-rose-500 font-semibold",children:a.count})]})})},a.title)})})]})]},i.title)})})]})}function wt(t){var n,o;const s=((n=t==null?void 0:t.first_name)==null?void 0:n[0])??"",r=((o=t==null?void 0:t.last_name)==null?void 0:o[0])??"";return(s+r).toUpperCase()||"U"}function ce({user:t}){return t?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-10 w-10",children:e.jsx(Ae,{className:"text-lg font-medium bg-zinc-200 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-200",children:wt(t)})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"font-semibold",children:[t.first_name," ",t.last_name]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:t.school_id})]})]}):null}function kt(){return u.useCallback(()=>{document.body.style.removeProperty("pointer-events")},[])}function St({user:t}){const s=kt(),r=()=>{s(),R.flushAll()};return e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"p-0 font-normal",children:e.jsx("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:e.jsx(ce,{user:t,showEmail:!0})})}),e.jsx(P,{}),e.jsx(_e,{children:e.jsx(D,{asChild:!0,children:e.jsxs(p,{className:"block w-full",href:route("profile.edit"),as:"button",prefetch:!0,onClick:s,children:[e.jsx(Te,{className:"mr-2"}),"Settings"]})})}),e.jsx(P,{}),e.jsx(D,{asChild:!0,children:e.jsxs(p,{className:"block w-full",method:"post",href:route("logout"),as:"button",onClick:r,children:[e.jsx(Je,{className:"mr-2"}),"Log out"]})})]})}function Ct(){const{auth:t}=S().props,{state:s}=E(),r=se();return e.jsx(B,{children:e.jsx(_,{children:e.jsxs(Y,{children:[e.jsx(X,{asChild:!0,children:e.jsxs(I,{size:"lg",className:"text-sidebar-accent-foreground data-[state=open]:bg-sidebar-accent group",children:[e.jsx(ce,{user:t.user}),e.jsx(Ge,{className:"ml-auto size-4"})]})}),e.jsx(Z,{className:"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg",align:"end",side:r?"bottom":s==="collapsed"?"left":"bottom",children:e.jsx(St,{user:t.user})})]})})})}function Dt(t){return e.jsx("img",{src:"/grad_logo.png",alt:"App Logo",className:`h-full w-full rounded-md object-contain ${t.className??""}`,...t})}function Mt(){return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex size-12 items-center justify-center rounded-md bg-white dark:bg-black",children:e.jsx(Dt,{})}),e.jsxs("div",{className:"ml-2 flex-1 text-left text-sm",children:[e.jsx("span",{className:"mb-0.5 truncate leading-none font-semibold",children:"Graduate School"}),e.jsx("p",{className:"text-[10px]",children:"University of the Immaculate Conception"})]})]})}const _t=[{title:"Dashboard",href:"/dashboard",icon:T},{title:"Submissions",href:"/submission",icon:Re,subItems:[{title:"Comprehensive Exam",href:"/comprehensive-exam"},{title:"Defense Requirements",href:"/defense-requirements"}]},{title:"My Documents",href:"/student/documents",icon:k},{title:"Academic Records",href:"/academic-records",icon:te},{title:"Payments",href:"/payment",icon:Le},{title:"Schedules",href:"/schedule",icon:A}],It=[{title:"Dashboard",href:"/dashboard",icon:T},{title:"Thesis & Dissertations",href:"/coordinator/defense-requests",icon:Q,subItems:[{title:"Defense Requests",href:"/coordinator/defense-requests"},{title:"Panel Assignment",href:"/panelists"}]},{title:"Applications",href:"/defense",icon:k,subItems:[{title:"Comprehensive Exams",href:"/coordinator/compre-exam"},{title:"Payment Receipt",href:"/coordinator/compre-payment"}]},{title:"Honorarium",href:"/honorarium-summary",icon:q},{title:"Student Records",href:"/student-records",icon:M},{title:"Schedules",href:"/schedules",icon:A},{title:"Adviser List",href:"/coordinator/adviser-list",icon:M}],At=[{title:"Dashboard",href:"/dashboard",icon:T},{title:"Finance & Payments",href:"/",icon:Ee,subItems:[{title:"Defense Requests",href:"/assistant/all-defense-list",icon:k},{title:"Defense Batches",href:"/assistant/all-defense-batches",icon:k}]},{title:"Applications",href:"/defense",icon:k,subItems:[{title:"Comprehensive Exams",href:"/coordinator/compre-exam"},{title:"Payment Receipt",href:"/coordinator/compre-payment"}]},{title:"Honorarium",href:"/honorarium-summary",icon:q},{title:"Student Records",href:"/student-records",icon:M},{title:"Schedules",href:"/schedules",icon:A}],Tt=[{title:"Dashboard",href:"/dashboard",icon:T},{title:"Defense Requirements",href:"/all-defense-requirements",icon:Q},{title:"My Students",href:"/adviser/students-list",icon:M},{title:"Schedules",href:"/schedules",icon:A}],Et=[{title:"Dashboard",href:"/dashboard",icon:T},{title:"Programs",href:"/dean/programs",icon:te},{title:"Users",href:"/dean/users",icon:M},{title:"Defense Requests",href:"/dean/defense-requests",icon:k},{title:"Schedules",href:"/schedules",icon:A},{title:"Payment Rates",href:"/dean/payment-rates",icon:q}];function Rt(){const{auth:{user:t}}=S().props;let s;t.role==="Coordinator"?s=It:t.role==="Dean"?s=Et:t.role==="Administrative Assistant"?s=At:t.role==="Faculty"||t.role==="Adviser"?s=Tt:s=_t;const[r,n]=u.useState(0);u.useEffect(()=>{let l=!0;async function d(){try{const m=await fetch("/api/defense-requests/count");if(m.ok){const a=await m.json();l&&n(a.count)}}catch{}}d();const c=setInterval(d,6e4);return()=>{l=!1,clearInterval(c)}},[]),t.role==="Coordinator"&&(s=s.map(l=>{var d;return l.title==="Thesis & Dissertations"?{...l,indicator:r>0,subItems:(d=l.subItems)==null?void 0:d.map(c=>c.title==="Defense Requests"?{...c,count:r}:c)}:l}));const[o,i]=u.useState(()=>{try{const l=localStorage.getItem("sidebar.expandedMenus");return l?JSON.parse(l):[]}catch{return[]}});return u.useEffect(()=>{localStorage.setItem("sidebar.expandedMenus",JSON.stringify(o))},[o]),e.jsxs(dt,{collapsible:"offcanvas",className:"px-3 pt-5",variant:"inset",children:[e.jsx(mt,{children:e.jsx(B,{children:e.jsx(_,{children:e.jsx(I,{size:"xl",asChild:!0,children:e.jsx(p,{href:"/dashboard",prefetch:!0,children:e.jsx(Mt,{})})})})})}),e.jsx(xt,{children:e.jsx(yt,{items:s,expandedMenus:o,setExpandedMenus:i})}),e.jsxs(ht,{children:[e.jsx(Nt,{items:[],className:"mt-auto"}),e.jsx(Ct,{})]})]})}function Lt({...t}){return e.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function Bt({className:t,...s}){return e.jsx("ol",{"data-slot":"breadcrumb-list",className:h("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...s})}function zt({className:t,...s}){return e.jsx("li",{"data-slot":"breadcrumb-item",className:h("inline-flex items-center gap-1.5",t),...s})}function Ot({asChild:t,className:s,...r}){const n=t?$:"a";return e.jsx(n,{"data-slot":"breadcrumb-link",className:h("hover:text-foreground transition-colors",s),...r})}function $t({className:t,...s}){return e.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:h("text-foreground font-normal",t),...s})}function qt({children:t,className:s,...r}){return e.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:h("[&>svg]:size-3.5",s),...r,children:t??e.jsx(J,{})})}function Pt({breadcrumbs:t}){return e.jsx(e.Fragment,{children:t.length>0&&e.jsx(Lt,{children:e.jsx(Bt,{children:t.map((s,r)=>{const n=r===t.length-1;return e.jsxs(u.Fragment,{children:[e.jsx(zt,{children:n?e.jsx($t,{children:s.title}):e.jsx(Ot,{asChild:!0,children:e.jsx(p,{href:s.href,children:s.title})})}),!n&&e.jsx(qt,{})]},r)})})})})}function y(t){const s=new Date,r=new Date(t),n=(s.getTime()-r.getTime())/1e3;return n<60?"Just now":n<3600?`${Math.floor(n/60)} min${Math.floor(n/60)===1?"":"s"} ago`:n<86400?`${Math.floor(n/3600)} hour${Math.floor(n/3600)===1?"":"s"} ago`:n<172800?"Yesterday":n<604800?`${Math.floor(n/86400)} day${Math.floor(n/86400)===1?"":"s"} ago`:r.toLocaleDateString()}function V(t){const s=[],r=[],n=[],o=new Date;return t.forEach(i=>{const l=new Date(i.created_at),d=(o.getTime()-l.getTime())/(1e3*60*60*24);d<1&&l.getDate()===o.getDate()?s.push(i):d<2&&l.getDate()===o.getDate()-1?r.push(i):n.push(i)}),{today:s,yesterday:r,earlier:n}}function w(t,s){return t==="defense-request"?s?e.jsx(Oe,{size:18,className:"text-muted-foreground"}):e.jsx($e,{size:18,className:"text-rose-500"}):e.jsx(ee,{size:18,className:"text-muted-foreground"})}function Ht({notifications:t}){const[s,r]=u.useState("unread"),[n,o]=u.useState(t),i=n.filter(a=>!a.read),l=n.filter(a=>a.read),d=()=>{o(n.map(a=>({...a,read:!0}))),R.post("/notifications/read-all",{},{preserveScroll:!0,preserveState:!0,onSuccess:()=>{R.reload({only:["notifications","unreadCount"]})}})},c=V(i),m=V(l);return e.jsx("div",{className:"p-2 ",children:e.jsxs(Be,{value:s,onValueChange:a=>r(a),children:[e.jsxs(ze,{className:"w-full flex gap-2 mb-2",children:[e.jsxs(H,{value:"unread",children:["Unread",i.length>0&&e.jsx(F,{variant:"secondary",className:"ml-2 rounded-full",children:i.length})]}),e.jsxs(H,{value:"read",children:["Read",l.length>0&&e.jsx(F,{variant:"outline",className:"ml-2",children:l.length})]})]}),e.jsx(U,{value:"unread",className:"p-1",children:e.jsxs("div",{className:"space-y-1",children:[i.length===0&&e.jsx("div",{className:"text-center text-xs text-muted-foreground py-6",children:"No unread notifications"}),c.today.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-[11px] font-semibold  flex justify-between items-center pl-1",children:[e.jsx("p",{className:"text-muted-foreground mb-1",children:"Today"}),i.length>0&&e.jsxs(L,{variant:"ghost",size:"sm",className:"text-[11px] px-2 py-1 h-auto",type:"button",onClick:d,children:[e.jsx(Ue,{className:"w-3 h-3 mr-1"}),"Mark all as read"]})]}),c.today.map(a=>e.jsxs(p,{href:a.link??"#",className:"flex items-start gap-2 px-3 py-3 border-b last:border-none hover:bg-muted/70 transition rounded-md",style:{textDecoration:"none"},children:[e.jsx("div",{className:"pt-1",children:w(a.type,a.read)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:"font-medium text-xs",children:a.title})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:a.message}),e.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:y(a.created_at)})]})]},a.id))]}),c.yesterday.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] font-semibold text-muted-foreground mb-1 pl-1",children:"Yesterday"}),c.yesterday.map(a=>e.jsxs(p,{href:a.link??"#",className:"flex items-start gap-2 px-3 py-3 border-b last:border-none hover:bg-muted/70 transition rounded-md",style:{textDecoration:"none"},children:[e.jsx("div",{className:"pt-1",children:w(a.type,a.read)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:"font-medium text-xs",children:a.title})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:a.message}),e.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:y(a.created_at)})]})]},a.id))]}),c.earlier.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] font-semibold text-muted-foreground mb-1 pl-1",children:"Earlier"}),c.earlier.map(a=>e.jsxs(p,{href:a.link??"#",className:"flex items-start gap-2 px-3 py-3 border-b last:border-none hover:bg-muted/70 transition rounded-md",style:{textDecoration:"none"},children:[e.jsx("div",{className:"pt-1",children:w(a.type,a.read)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:"font-medium text-xs",children:a.title})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:a.message}),e.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:y(a.created_at)})]})]},a.id))]})]})}),e.jsx(U,{value:"read",className:"p-1",children:e.jsxs("div",{className:"space-y-1",children:[l.length===0&&e.jsx("div",{className:"text-center text-xs text-muted-foreground py-6",children:"No read notifications"}),m.today.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] font-semibold text-muted-foreground mb-1 pl-1",children:"Today"}),m.today.map(a=>e.jsxs(p,{href:a.link??"#",className:"flex items-start gap-2 px-3 py-3 border-b last:border-none rounded-md hover:bg-muted/70 transition",style:{textDecoration:"none"},children:[e.jsx("div",{className:"pt-1",children:w(a.type,a.read)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:"font-medium text-xs",children:a.title})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:a.message}),e.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:y(a.created_at)})]})]},a.id))]}),m.yesterday.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] font-semibold text-muted-foreground mb-1 pl-1",children:"Yesterday"}),m.yesterday.map(a=>e.jsxs(p,{href:a.link??"#",className:"flex items-start gap-2 px-3 py-3 border-b last:border-none rounded-md hover:bg-muted/70 transition",style:{textDecoration:"none"},children:[e.jsx("div",{className:"pt-1",children:w(a.type,a.read)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:"font-medium text-xs",children:a.title})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:a.message}),e.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:y(a.created_at)})]})]},a.id))]}),m.earlier.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] font-semibold text-muted-foreground mb-1 pl-1",children:"Earlier"}),m.earlier.map(a=>e.jsxs(p,{href:a.link??"#",className:"flex items-start gap-2 px-3 py-3 border-b last:border-none rounded-md hover:bg-muted/70 transition",style:{textDecoration:"none"},children:[e.jsx("div",{className:"pt-1",children:w(a.type,a.read)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:"font-medium text-xs",children:a.title})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:a.message}),e.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:y(a.created_at)})]})]},a.id))]})]})})]})})}var Ut=(t,s,r,n,o,i,l,d)=>{let c=document.documentElement,m=["light","dark"];function a(x){(Array.isArray(t)?t:[t]).forEach(g=>{let C=g==="class",z=C&&i?o.map(f=>i[f]||f):o;C?(c.classList.remove(...z),c.classList.add(i&&i[x]?i[x]:x)):c.setAttribute(g,x)}),j(x)}function j(x){d&&m.includes(x)&&(c.style.colorScheme=x)}function N(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)a(n);else try{let x=localStorage.getItem(s)||r,g=l&&x==="system"?N():x;a(g)}catch{}},Ft=u.createContext(void 0),Gt={setTheme:t=>{},themes:[]},Kt=()=>{var t;return(t=u.useContext(Ft))!=null?t:Gt};u.memo(({forcedTheme:t,storageKey:s,attribute:r,enableSystem:n,enableColorScheme:o,defaultTheme:i,value:l,themes:d,nonce:c,scriptProps:m})=>{let a=JSON.stringify([r,s,i,t,d,l,n,o]).slice(1,-1);return u.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${Ut.toString()})(${a})`}})});function Wt({className:t}){const{appearance:s,updateAppearance:r}=me(),n=()=>{switch(s){case"dark":return e.jsx(K,{className:"h-5 w-5"});case"light":return e.jsx(G,{className:"h-5 w-5"});default:return e.jsx(W,{className:"h-5 w-5"})}};return e.jsxs(Y,{children:[e.jsx(X,{asChild:!0,children:e.jsxs(L,{variant:"ghost",size:"icon",className:`h-9 w-9 hover:cursor-pointer rounded-md ${t||""}`,children:[n(),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),e.jsxs(Z,{align:"end",children:[e.jsx(D,{onClick:()=>r("light"),children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Light"]})}),e.jsx(D,{onClick:()=>r("dark"),children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5"}),"Dark"]})}),e.jsx(D,{onClick:()=>r("system"),children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5"}),"System"]})})]})]})}function Vt({breadcrumbs:t=[]}){const[s,r]=u.useState(!1),n=u.useRef(null),o=u.useRef(null),i=S(),l=typeof i.props.unreadCount=="number"?i.props.unreadCount:0,d=Array.isArray(i.props.notifications)?i.props.notifications:[];u.useEffect(()=>{function a(j){n.current&&n.current.contains(j.target)||o.current&&o.current.contains(j.target)||r(!1)}return s&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[s]);const{theme:c,setTheme:m}=Kt();return e.jsx("header",{className:"border-sidebar-border/50 flex h-16 shrink-0 items-center gap-2 border-b px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4 relative dark:bg-background dark:border-border",children:e.jsxs("div",{className:"flex flex-1 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ct,{className:"ml-1"}),e.jsx(Pt,{breadcrumbs:t})]}),e.jsxs("div",{className:"flex items-center gap-2 mr-5 relative",children:[e.jsxs(ae,{children:[e.jsx(Qe,{asChild:!0,children:e.jsxs(L,{ref:o,variant:"ghost",className:"h-8 w-8 p-3  hover:bg-accent dark:text-white dark:hover:bg-muted hover:cursor-pointer relative","aria-label":"Show notifications",children:[e.jsx(ee,{className:"size-5 stroke-[1.5]"}),l>0&&e.jsx("span",{className:"absolute text-white top-0 right-0 px-1 min-w-4 translate-x-1/5 translate-y-1/9 origin-center flex items-center justify-center text-[10px] bg-rose-500 text-destructive-foreground dark:bg-rose-900 dark:text-rose-200 transition-all duration-150 ",children:l})]})}),e.jsxs(re,{className:"w-[100px] sm:w-[340px] dark:bg-background dark:text-muted-foreground",children:[e.jsx(ne,{children:e.jsx(ie,{children:"Notifications"})}),e.jsx(Ht,{notifications:d})]})]}),e.jsx(Wt,{className:"hover:cursor-pointer"})]})]})})}function Jt({children:t,breadcrumbs:s=[]}){const r=E(),n=(r==null?void 0:r.state)==="collapsed",{first_login:o}=S().props;u.useEffect(()=>{o&&(console.log("First login detected - reloading to fetch updated user data..."),setTimeout(()=>{R.reload({only:["auth","user"]})},100))},[o]);const l=n?{width:"100vw",transition:"width 0.3s"}:{width:"calc(100vw - 256px)",transition:"width 0.3s"};return e.jsxs(jt,{variant:"sidebar",children:[e.jsx(Rt,{}),e.jsxs(bt,{className:"transition-all duration-300 overflow-x-auto",variant:"sidebar",style:l,children:[e.jsx("div",{className:"sticky top-0 z-30 bg-white border-b rounded-tl-lg rounded-tr-lg border-gray-200",children:e.jsx(Vt,{breadcrumbs:s})}),t]})]})}const ws=({children:t,breadcrumbs:s,...r})=>e.jsx(le,{children:e.jsx(Jt,{breadcrumbs:s,...r,children:t})});export{ws as A,ee as B,Ge as C,W as M};
