import{r as i,j as e,L as b}from"./app-BDkuJsct.js";import{S as x}from"./switch-Bc2d3XcB.js";import{D as j,a as S,d as D,b as C,c as w,e as y}from"./dialog-DeUj0iLU.js";import{B as m}from"./button-DggClj9M.js";import{A as k}from"./app-layout-Cr_DtTkJ.js";import{S as N}from"./layout-mcRTRgvL.js";import"./index-BhbofC_p.js";import"./index-B_a1aFVM.js";import"./utils-jAU0Cazi.js";import"./index-CWqpdCTP.js";import"./index-D-bfryUZ.js";import"./x-CtfT_1vN.js";import"./createLucideIcon-CEmaZ7tj.js";import"./index-DZZQifJx.js";import"./input-BmPXXlp0.js";import"./tooltip-CWM4FSMS.js";import"./floating-ui.react-dom-w0Q93DA2.js";import"./separator-DaKqQg6m.js";import"./index-LRezjsDo.js";import"./chevron-right-BpKiIXqV.js";import"./dropdown-menu-B7sOazTG.js";import"./index-DMsjTEK4.js";import"./index-BdhkuEJx.js";import"./index-BKBXBDOv.js";import"./index-QFmRa-KD.js";import"./check-BUlQxyEc.js";import"./avatar-DpsgA3Kf.js";import"./settings-BITCJcnj.js";import"./users-BTr8E8QO.js";import"./graduation-cap-Cszrlop1.js";import"./file-text-rxgzo2tt.js";import"./dollar-sign-CSALIIUa.js";import"./send-9CEFXyiZ.js";import"./credit-card-CM3Zlvhr.js";import"./tabs-BOuSS6lC.js";import"./badge-BJdX7_A9.js";import"./circle-check-big-CKfkcUFR.js";import"./info-DwFda8kE.js";import"./sun-B3PIUh1_.js";function de({role:c,initialAcceptDefense:o}){const[p,d]=i.useState(o??!1),[t,f]=i.useState(o??!1),[u,s]=i.useState(!1),[a,r]=i.useState(!1);function g(n){f(n),s(!0)}async function h(){var l;r(!0),s(!1),d(t);const n=(l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content");await fetch("/api/settings/general",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":n||""},body:JSON.stringify({acceptDefense:t})}),r(!1)}return e.jsxs(k,{breadcrumbs:[{title:"General",href:"/settings/general"}],children:[e.jsx(b,{title:"General Settings"}),e.jsx(N,{children:e.jsx("div",{className:"space-y-8",children:c==="Coordinator"&&e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x,{checked:p,onCheckedChange:g,disabled:a,"aria-label":"Accept defense submissions"}),e.jsx("span",{className:"text-base font-medium",children:"Accept defense submissions"})]}),e.jsx("div",{className:"text-sm text-muted-foreground max-w-lg",children:"When enabled, students can submit defense requirements. When disabled, submissions are blocked. Only applicable to your program."}),e.jsx(j,{open:u,onOpenChange:s,children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(C,{className:"text-base font-semibold",children:t?"Enable Defense Submissions?":"Disable Defense Submissions?"}),e.jsx(w,{className:"text-sm",children:t?"Enabling this will allow students to submit defense requirements.":"Disabling this will block all new defense requirement submissions from students. Existing workflows will not be affected."})]}),e.jsxs(y,{children:[e.jsx(m,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),e.jsx(m,{onClick:h,disabled:a,children:"Confirm"})]})]})})]})})})]})}export{de as default};
