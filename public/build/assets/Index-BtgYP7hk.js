import{K as h,r as i,j as e,L as j}from"./app-DW0Mt5c9.js";import{A as g}from"./app-layout-CPwLq_xH.js";import{B as p}from"./button-BZf0VdIO.js";import y from"./PaymentForm-3BTDJX1P.js";import v from"./display-payment-BGTFXFMR.js";import{D as N,a as k}from"./dialog-D7L72BhV.js";import{R as w}from"./receipt-CRIcjQd7.js";import{C as S}from"./check-C1Ca0PY3.js";import"./index-RzYQM1sh.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./input-Ch6RmxP_.js";import"./index-BMNAwHVU.js";import"./index-DHu7YzAG.js";import"./index-Bh88FqJG.js";import"./x-CW6T59GI.js";import"./createLucideIcon-S0dKkUVo.js";import"./tooltip-3yEC6fE6.js";import"./floating-ui.react-dom-DEJ-U2zP.js";import"./separator-4d5ucxHB.js";import"./index-xrb8sl6P.js";import"./chevron-right-x7vIKCyG.js";import"./dropdown-menu-FJcetjAu.js";import"./index-dxfJWdT_.js";import"./index-I9YLalqX.js";import"./index-Au_TdUcj.js";import"./index-Bwn0NV8Z.js";import"./avatar-B3rD_VQk.js";import"./settings-DPsrAkv5.js";import"./users-CFj_s0Ga.js";import"./graduation-cap-d15gjgNL.js";import"./file-text-Dpj0IN7n.js";import"./dollar-sign-DVIUp7aq.js";import"./send-BUfb6BoG.js";import"./credit-card-Bzx9FpUt.js";import"./tabs-3Dm9feNm.js";import"./badge-B7OUzsXL.js";import"./circle-check-big-CG9wjNDm.js";import"./info-Dl-vg0Zq.js";import"./sun-C_6rnlvD.js";import"./label-Dk8neUpq.js";import"./popover-D7yVk8xU.js";import"./calendar-DLLmg6PV.js";import"./en-US-BA9orzCf.js";import"./endOfWeek-QFyZPl43.js";import"./format-HX8DKPSU.js";import"./differenceInCalendarMonths-HUNRrXGm.js";import"./normalizeInterval-CdMCNNY-.js";import"./endOfMonth-CK_ShA5m.js";import"./isSameDay-DUlCFK42.js";import"./isSameMonth-CQd3m9St.js";import"./chevron-left-DlVNtzPQ.js";import"./chevron-down-B7XKdsxY.js";import"./calendar-BCyjqlGy.js";import"./paperclip-Cbu-YW77.js";import"./formatDistanceToNow-Bo4ytHt0.js";import"./constructNow-Chb2L4Vx.js";import"./getRoundingMethod-Btu-7J5l.js";import"./endOfDay-UBg8OSOW.js";import"./clock-CNQjyXBL.js";import"./circle-x-C4V9EZEC.js";import"./badge-check-eYgqdSss.js";function $e(){const{props:c}=h(),{student:d,canSubmit:x,payment:t}=c,o=i.useMemo(()=>({canSubmit:null,debugOpen:!1}),[]),n=x,m=n&&(!t||t.status==="rejected"),[u,a]=i.useState(!1),[f,l]=i.useState(!1),b=i.useMemo(()=>{const r=t==null?void 0:t.status,s="inline-flex items-center rounded-full px-2 py-1 text-xs font-medium";return r==="approved"?e.jsx("span",{className:`${s} bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300`,children:"Approved"}):r==="rejected"?e.jsx("span",{className:`${s} bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300`,children:"Rejected"}):r==="pending"?e.jsx("span",{className:`${s} bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300`,children:"Pending"}):e.jsx("span",{className:`${s} bg-slate-100 text-slate-800 dark:bg-slate-800/50 dark:text-slate-300`,children:"No submission"})},[t==null?void 0:t.status]);return e.jsxs(g,{children:[e.jsx(j,{title:"Comprehensive Exam â€¢ Payment"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-5 pt-5 px-7 overflow-auto",children:e.jsxs("div",{className:"w-full px-2 bg-white border border-zinc-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between w-full p-3 border-b",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-rose-500/10 border border-rose-500",children:e.jsx(w,{className:"h-5 w-5 text-rose-400"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-base font-semibold",children:"Comprehensive Exam Payment"}),e.jsx("p",{className:"block text-xs text-muted-foreground",children:"Submit your official receipt for verification."}),e.jsx("div",{className:"mt-1 text-xs",children:b})]})]}),e.jsx(p,{className:"bg-rose-500 text-sm px-5 rounded-md",onClick:()=>a(!0),disabled:!m&&!o.debugOpen,title:m||o.debugOpen?"Submit payment":n?"Payment already submitted":"You can submit payment only after your comprehensive application is approved.",children:"Submit payment"})]}),e.jsx("div",{className:"p-1",children:t?e.jsx("div",{id:"payment-card",children:e.jsx(v,{payment:{id:t.payment_id,status:t.status,or_number:t.or_number,payment_date:t.payment_date,receipt_image:t.receipt_image,remarks:t.remarks??null,created_at:t.created_at??null},student:d})}):e.jsx("div",{className:"p-6 text-center text-sm text-muted-foreground",children:"No payment submitted yet."})})]})}),e.jsx(N,{open:u,onOpenChange:r=>{a(r),r||l(!1)},children:e.jsxs(k,{className:"flex h-[70vh] w-full max-w-3xl flex-col",children:[" ",f?e.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center space-y-6 px-4",children:[e.jsx(S,{size:48,className:"text-rose-500"}),e.jsx("h2",{className:"text-2xl font-semibold",children:"Payment Submitted!"}),e.jsx("p",{className:"text-center text-gray-600",children:"Your payment has been saved successfully."}),e.jsx(p,{onClick:()=>{a(!1),setTimeout(()=>{var r;(r=document.getElementById("payment-card"))==null||r.scrollIntoView({behavior:"smooth",block:"start"})},100)},className:"bg-rose-500",children:"Done"})]}):e.jsx("div",{className:"flex-1 overflow-auto px-2",children:e.jsx(y,{canSubmit:m||o.debugOpen,payment:t,onSuccess:()=>l(!0)})})]})})]})}export{$e as default};
