import{r as i,j as e,L as y}from"./app-BAKMM9W6.js";import{A as b}from"./app-layout-CHeZhPmm.js";import"./index-CEqJL0NP.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./button-CVeIta7K.js";import"./input-BRk-fvKd.js";import"./index-Chzm2fti.js";import"./index-CUQ5MhIm.js";import"./index-DScCZkqp.js";import"./x-BVoq4DiS.js";import"./createLucideIcon-BSNBS9Xz.js";import"./tooltip-B2Ch4P2D.js";import"./floating-ui.react-dom-CqLEll0E.js";import"./separator-LRfcwlAa.js";import"./index-BHprz6Pm.js";import"./chevron-right-DZ7e7qvM.js";import"./dropdown-menu-D2EcCZ7C.js";import"./index-SVK1MPcU.js";import"./index-DUmeJSti.js";import"./index-C98k58Jz.js";import"./index-BqysFurs.js";import"./index-CEy3VqYv.js";import"./check-DCZqiU_u.js";import"./avatar-BvAeIlgK.js";import"./settings-CXr5fuO8.js";import"./graduation-cap-CyBvkmsT.js";import"./file-text-Bhi2OKUW.js";import"./dollar-sign-BZcFe5e9.js";import"./users-t5r6UxGv.js";import"./badge-dollar-sign-Ciqfzy1N.js";import"./send-CY1U2khq.js";import"./credit-card-DIRNAmsI.js";import"./tabs-DJFs2CDd.js";import"./badge-D0sAGNiG.js";import"./circle-check-big-wj1h3M4g.js";import"./info-D5wsL-jW.js";import"./sun-D0NfJtcj.js";function re(){const[o,p]=i.useState([]),[n,x]=i.useState([]),[f,d]=i.useState(null),[h,u]=i.useState(null),[a,c]=i.useState(!0),[m,l]=i.useState(null);return i.useEffect(()=>{let t=!0;return fetch("/legacy/faculty/class-list").then(s=>s.json()).then(s=>{t&&(s.error&&l(s.error),p(s.rows||[]),x(s.periods||[]),d(s.selected_period_id||null),u(s.short_period_label||null))}).catch(s=>l(s.message)).finally(()=>t&&c(!1)),()=>{t=!1}},[]),e.jsxs(b,{breadcrumbs:[{title:"Faculty Class List",href:"/faculty/class-list"}],children:[e.jsx(y,{title:"Class List"}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Instructor Class List"}),a&&e.jsx("div",{className:"text-sm text-gray-500",children:"Loading class list..."}),!a&&n.length>0&&e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Semester / Period"}),e.jsxs("select",{className:"rounded border border-gray-300 bg-white px-2 py-1 text-sm dark:bg-zinc-900 dark:border-zinc-700",value:f||"",onChange:t=>{const s=t.target.value;d(s),c(!0),fetch(`/legacy/faculty/class-list?period_id=${s}`).then(r=>r.json()).then(r=>{p(r.rows||[]),x(r.periods||[]),d(r.selected_period_id||s),u(r.short_period_label||null),r.error?l(r.error):l(null)}).catch(r=>l(r.message)).finally(()=>c(!1))},children:[e.jsx("option",{value:"",disabled:!0,children:"Select Period"}),n.map(t=>e.jsx("option",{value:t.id,children:t.label},t.id))]})]}),h&&e.jsx("div",{className:"rounded bg-pink-50 dark:bg-pink-950/30 px-3 py-2 text-sm font-medium text-pink-700 dark:text-pink-300",children:h})]}),m&&e.jsx("div",{className:"text-sm text-red-600",children:m}),!a&&!m&&o.length===0&&e.jsx("div",{className:"text-sm text-gray-500",children:"No classes found."}),!a&&o.length>0&&e.jsx("div",{className:"overflow-auto rounded border border-gray-200 dark:border-gray-700",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"#"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Course Code"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Course Title"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Type"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Size"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Load"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Section"})]})}),e.jsx("tbody",{children:o.map(t=>e.jsxs("tr",{className:"border-t border-gray-100 dark:border-gray-700",children:[e.jsx("td",{className:"px-3 py-2",children:t.number}),e.jsx("td",{className:"px-3 py-2 font-mono",children:t.course_code}),e.jsx("td",{className:"px-3 py-2",children:t.course_title}),e.jsx("td",{className:"px-3 py-2",children:t.type}),e.jsx("td",{className:"px-3 py-2",children:t.size}),e.jsx("td",{className:"px-3 py-2",children:t.load}),e.jsx("td",{className:"px-3 py-2",children:t.section})]},t.number))})]})})]})]})}export{re as default};
