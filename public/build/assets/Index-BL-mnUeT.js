import{r as i,j as t,c as ce,g as Nt,R as O,K as wt,L as jt}from"./app-BDkuJsct.js";import{A as yt}from"./app-layout-Cr_DtTkJ.js";import{B as ee}from"./button-DggClj9M.js";import{D as Ct,a as Rt,d as kt,b as _t,c as St}from"./dialog-DeUj0iLU.js";import"./index-BhbofC_p.js";import{c as ae}from"./index-B_a1aFVM.js";import It from"./submit-defense-requirements-wYhgNxQo.js";import{d as B}from"./dayjs.min-DvrApWfS.js";import{D as At,a as zt,b as Tt,c as Pt}from"./dropdown-menu-B7sOazTG.js";import{c as $e}from"./utils-jAU0Cazi.js";import{c as Et}from"./createLucideIcon-CEmaZ7tj.js";import{I as Mt}from"./input-BmPXXlp0.js";import{S as te}from"./skeleton-C1N4Z9e5.js";import{A as Te,b as Pe,a as Ee}from"./alert-CzZoorjr.js";import{D as Ot}from"./DocumentGeneratorDialog-BMkQzsJT.js";import{B as Dt}from"./badge-BJdX7_A9.js";import{I as xe}from"./info-DwFda8kE.js";import{X as he}from"./x-CtfT_1vN.js";import{G as ne}from"./graduation-cap-Cszrlop1.js";import{P as Ft}from"./plus-kO5msmqZ.js";import{C as $t}from"./chevron-down-DMxaecxw.js";import{E as Lt}from"./ellipsis-vertical-DUlewhq7.js";import{U as z}from"./users-BTr8E8QO.js";import{C as be}from"./calendar-CI-DWPmu.js";import{C as Ut}from"./clock-BykI6stH.js";import{M as Gt}from"./map-pin-BQOiSd__.js";import{P as G}from"./paperclip-CfL61ESm.js";import{H as re}from"./hourglass-BE6hGw0v.js";import{C as Y}from"./circle-check-big-CKfkcUFR.js";import"./index-DZZQifJx.js";import"./index-CWqpdCTP.js";import"./index-D-bfryUZ.js";import"./tooltip-CWM4FSMS.js";import"./floating-ui.react-dom-w0Q93DA2.js";import"./separator-DaKqQg6m.js";import"./index-LRezjsDo.js";import"./chevron-right-BpKiIXqV.js";import"./avatar-DpsgA3Kf.js";import"./index-BdhkuEJx.js";import"./settings-BITCJcnj.js";import"./file-text-rxgzo2tt.js";import"./dollar-sign-CSALIIUa.js";import"./send-9CEFXyiZ.js";import"./credit-card-CM3Zlvhr.js";import"./tabs-BOuSS6lC.js";import"./sun-B3PIUh1_.js";import"./label-MiJboLk1.js";import"./Stepper-CN-_nE1p.js";import"./alert-dialog-DdsprEOQ.js";import"./check-BUlQxyEc.js";import"./circle-alert-BxXeSR-n.js";import"./format-Cze4Gw5q.js";import"./index-DMsjTEK4.js";import"./index-BKBXBDOv.js";import"./index-QFmRa-KD.js";import"./select-D1tIJaem.js";import"./index-Dia2ik6c.js";import"./index-By5vkq0G.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Wt=Et("Circle",Bt);function Kt(e,n,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return n==null?void 0:n(o)}}function Vt(e,n=[]){let r=[];function s(c,l){const d=i.createContext(l),m=r.length;r=[...r,l];const a=f=>{var N;const{scope:x,children:h,...g}=f,v=((N=x==null?void 0:x[e])==null?void 0:N[m])||d,b=i.useMemo(()=>g,Object.values(g));return t.jsx(v.Provider,{value:b,children:h})};a.displayName=c+"Provider";function u(f,x){var v;const h=((v=x==null?void 0:x[e])==null?void 0:v[m])||d,g=i.useContext(h);if(g)return g;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${c}\``)}return[a,u]}const o=()=>{const c=r.map(l=>i.createContext(l));return function(d){const m=(d==null?void 0:d[e])||c;return i.useMemo(()=>({[`__scope${e}`]:{...d,[e]:m}}),[d,m])}};return o.scopeName=e,[s,Yt(o,...n)]}function Yt(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const l=s.reduce((d,{useScope:m,scopeName:a})=>{const f=m(c)[`__scope${a}`];return{...d,...f}},{});return i.useMemo(()=>({[`__scope${n.scopeName}`]:l}),[l])}};return r.scopeName=n.scopeName,r}var Q=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},Xt=ce[" useInsertionEffect ".trim().toString()]||Q;function Jt({prop:e,defaultProp:n,onChange:r=()=>{},caller:s}){const[o,c,l]=Qt({defaultProp:n,onChange:r}),d=e!==void 0,m=d?e:o;{const u=i.useRef(e!==void 0);i.useEffect(()=>{const f=u.current;f!==d&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=d},[d,s])}const a=i.useCallback(u=>{var f;if(d){const x=Zt(u)?u(e):u;x!==e&&((f=l.current)==null||f.call(l,x))}else c(u)},[d,e,c,l]);return[m,a]}function Qt({defaultProp:e,onChange:n}){const[r,s]=i.useState(e),o=i.useRef(r),c=i.useRef(n);return Xt(()=>{c.current=n},[n]),i.useEffect(()=>{var l;o.current!==r&&((l=c.current)==null||l.call(c,r),o.current=r)},[r,o]),[r,s,c]}function Zt(e){return typeof e=="function"}function Me(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Ht(...e){return n=>{let r=!1;const s=e.map(o=>{const c=Me(o,n);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let o=0;o<s.length;o++){const c=s[o];typeof c=="function"?c():Me(e[o],null)}}}}function Le(...e){return i.useCallback(Ht(...e),e)}var qt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ne=qt.reduce((e,n)=>{const r=ae(`Primitive.${n}`),s=i.forwardRef((o,c)=>{const{asChild:l,...d}=o,m=l?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...d,ref:c})});return s.displayName=`Primitive.${n}`,{...e,[n]:s}},{});function en(e,n){return i.useReducer((r,s)=>n[r][s]??r,e)}var Ue=e=>{const{present:n,children:r}=e,s=tn(n),o=typeof r=="function"?r({present:s.isPresent}):i.Children.only(r),c=Le(s.ref,nn(o));return typeof r=="function"||s.isPresent?i.cloneElement(o,{ref:c}):null};Ue.displayName="Presence";function tn(e){const[n,r]=i.useState(),s=i.useRef(null),o=i.useRef(e),c=i.useRef("none"),l=e?"mounted":"unmounted",[d,m]=en(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const a=se(s.current);c.current=d==="mounted"?a:"none"},[d]),Q(()=>{const a=s.current,u=o.current;if(u!==e){const x=c.current,h=se(a);e?m("MOUNT"):h==="none"||(a==null?void 0:a.display)==="none"?m("UNMOUNT"):m(u&&x!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,m]),Q(()=>{if(n){let a;const u=n.ownerDocument.defaultView??window,f=h=>{const v=se(s.current).includes(h.animationName);if(h.target===n&&v&&(m("ANIMATION_END"),!o.current)){const b=n.style.animationFillMode;n.style.animationFillMode="forwards",a=u.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=b)})}},x=h=>{h.target===n&&(c.current=se(s.current))};return n.addEventListener("animationstart",x),n.addEventListener("animationcancel",f),n.addEventListener("animationend",f),()=>{u.clearTimeout(a),n.removeEventListener("animationstart",x),n.removeEventListener("animationcancel",f),n.removeEventListener("animationend",f)}}else m("ANIMATION_END")},[n,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:i.useCallback(a=>{s.current=a?getComputedStyle(a):null,r(a)},[])}}function se(e){return(e==null?void 0:e.animationName)||"none"}function nn(e){var s,o;let n=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var rn=ce[" useId ".trim().toString()]||(()=>{}),sn=0;function on(e){const[n,r]=i.useState(rn());return Q(()=>{r(s=>s??String(sn++))},[e]),e||(n?`radix-${n}`:"")}var le="Collapsible",[an,ms]=Vt(le),[cn,we]=an(le),Ge=i.forwardRef((e,n)=>{const{__scopeCollapsible:r,open:s,defaultOpen:o,disabled:c,onOpenChange:l,...d}=e,[m,a]=Jt({prop:s,defaultProp:o??!1,onChange:l,caller:le});return t.jsx(cn,{scope:r,disabled:c,contentId:on(),open:m,onOpenToggle:i.useCallback(()=>a(u=>!u),[a]),children:t.jsx(Ne.div,{"data-state":ye(m),"data-disabled":c?"":void 0,...d,ref:n})})});Ge.displayName=le;var Be="CollapsibleTrigger",We=i.forwardRef((e,n)=>{const{__scopeCollapsible:r,...s}=e,o=we(Be,r);return t.jsx(Ne.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":ye(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...s,ref:n,onClick:Kt(e.onClick,o.onOpenToggle)})});We.displayName=Be;var je="CollapsibleContent",Ke=i.forwardRef((e,n)=>{const{forceMount:r,...s}=e,o=we(je,e.__scopeCollapsible);return t.jsx(Ue,{present:r||o.open,children:({present:c})=>t.jsx(ln,{...s,ref:n,present:c})})});Ke.displayName=je;var ln=i.forwardRef((e,n)=>{const{__scopeCollapsible:r,present:s,children:o,...c}=e,l=we(je,r),[d,m]=i.useState(s),a=i.useRef(null),u=Le(n,a),f=i.useRef(0),x=f.current,h=i.useRef(0),g=h.current,v=l.open||d,b=i.useRef(v),N=i.useRef(void 0);return i.useEffect(()=>{const w=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(w)},[]),Q(()=>{const w=a.current;if(w){N.current=N.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const j=w.getBoundingClientRect();f.current=j.height,h.current=j.width,b.current||(w.style.transitionDuration=N.current.transitionDuration,w.style.animationName=N.current.animationName),m(s)}},[l.open,s]),t.jsx(Ne.div,{"data-state":ye(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!v,...c,ref:u,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:v&&o})});function ye(e){return e?"open":"closed"}var dn=Ge;function un({...e}){return t.jsx(dn,{"data-slot":"collapsible",...e})}function mn({...e}){return t.jsx(We,{"data-slot":"collapsible-trigger",...e})}function fn({...e}){return t.jsx(Ke,{"data-slot":"collapsible-content",...e})}var ie={exports:{}},pn=ie.exports,Oe;function xn(){return Oe||(Oe=1,function(e,n){(function(r,s){e.exports=s()})(pn,function(){return function(r,s,o){r=r||{};var c=s.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d(a,u,f,x){return c.fromToBase(a,u,f,x)}o.en.relativeTime=l,c.fromToBase=function(a,u,f,x,h){for(var g,v,b,N=f.$locale().relativeTime||l,w=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],j=w.length,R=0;R<j;R+=1){var _=w[R];_.d&&(g=x?o(a).diff(f,_.d,!0):f.diff(a,_.d,!0));var S=(r.rounding||Math.round)(Math.abs(g));if(b=g>0,S<=_.r||!_.r){S<=1&&R>0&&(_=w[R-1]);var T=N[_.l];h&&(S=h(""+S)),v=typeof T=="string"?T.replace("%d",S):T(S,u,_.l,b);break}}if(u)return v;var k=b?N.future:N.past;return typeof k=="function"?k(v):k.replace("%s",v)},c.to=function(a,u){return d(a,u,this,!0)},c.from=function(a,u){return d(a,u,this)};var m=function(a){return a.$u?o.utc():o()};c.toNow=function(a){return this.to(m(this),a)},c.fromNow=function(a){return this.from(m(this),a)}}})}(ie)),ie.exports}var hn=xn();const bn=Nt(hn);function D(e,n,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return n==null?void 0:n(o)}}function De(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function vn(...e){return n=>{let r=!1;const s=e.map(o=>{const c=De(o,n);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let o=0;o<s.length;o++){const c=s[o];typeof c=="function"?c():De(e[o],null)}}}}function $(...e){return i.useCallback(vn(...e),e)}function de(e,n=[]){let r=[];function s(c,l){const d=i.createContext(l),m=r.length;r=[...r,l];const a=f=>{var N;const{scope:x,children:h,...g}=f,v=((N=x==null?void 0:x[e])==null?void 0:N[m])||d,b=i.useMemo(()=>g,Object.values(g));return t.jsx(v.Provider,{value:b,children:h})};a.displayName=c+"Provider";function u(f,x){var v;const h=((v=x==null?void 0:x[e])==null?void 0:v[m])||d,g=i.useContext(h);if(g)return g;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${c}\``)}return[a,u]}const o=()=>{const c=r.map(l=>i.createContext(l));return function(d){const m=(d==null?void 0:d[e])||c;return i.useMemo(()=>({[`__scope${e}`]:{...d,[e]:m}}),[d,m])}};return o.scopeName=e,[s,gn(o,...n)]}function gn(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const l=s.reduce((d,{useScope:m,scopeName:a})=>{const f=m(c)[`__scope${a}`];return{...d,...f}},{});return i.useMemo(()=>({[`__scope${n.scopeName}`]:l}),[l])}};return r.scopeName=n.scopeName,r}var Nn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],W=Nn.reduce((e,n)=>{const r=ae(`Primitive.${n}`),s=i.forwardRef((o,c)=>{const{asChild:l,...d}=o,m=l?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...d,ref:c})});return s.displayName=`Primitive.${n}`,{...e,[n]:s}},{});function wn(e){const n=e+"CollectionProvider",[r,s]=de(n),[o,c]=r(n,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:b,children:N}=v,w=O.useRef(null),j=O.useRef(new Map).current;return t.jsx(o,{scope:b,itemMap:j,collectionRef:w,children:N})};l.displayName=n;const d=e+"CollectionSlot",m=ae(d),a=O.forwardRef((v,b)=>{const{scope:N,children:w}=v,j=c(d,N),R=$(b,j.collectionRef);return t.jsx(m,{ref:R,children:w})});a.displayName=d;const u=e+"CollectionItemSlot",f="data-radix-collection-item",x=ae(u),h=O.forwardRef((v,b)=>{const{scope:N,children:w,...j}=v,R=O.useRef(null),_=$(b,R),S=c(u,N);return O.useEffect(()=>(S.itemMap.set(R,{ref:R,...j}),()=>void S.itemMap.delete(R))),t.jsx(x,{[f]:"",ref:_,children:w})});h.displayName=u;function g(v){const b=c(e+"CollectionConsumer",v);return O.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const j=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((S,T)=>j.indexOf(S.ref.current)-j.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:a,ItemSlot:h},g,s]}var Z=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},jn=ce[" useId ".trim().toString()]||(()=>{}),yn=0;function Cn(e){const[n,r]=i.useState(jn());return Z(()=>{r(s=>s??String(yn++))},[e]),n?`radix-${n}`:""}function Rn(e){const n=i.useRef(e);return i.useEffect(()=>{n.current=e}),i.useMemo(()=>(...r)=>{var s;return(s=n.current)==null?void 0:s.call(n,...r)},[])}var kn=ce[" useInsertionEffect ".trim().toString()]||Z;function Ve({prop:e,defaultProp:n,onChange:r=()=>{},caller:s}){const[o,c,l]=_n({defaultProp:n,onChange:r}),d=e!==void 0,m=d?e:o;{const u=i.useRef(e!==void 0);i.useEffect(()=>{const f=u.current;f!==d&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=d},[d,s])}const a=i.useCallback(u=>{var f;if(d){const x=Sn(u)?u(e):u;x!==e&&((f=l.current)==null||f.call(l,x))}else c(u)},[d,e,c,l]);return[m,a]}function _n({defaultProp:e,onChange:n}){const[r,s]=i.useState(e),o=i.useRef(r),c=i.useRef(n);return kn(()=>{c.current=n},[n]),i.useEffect(()=>{var l;o.current!==r&&((l=c.current)==null||l.call(c,r),o.current=r)},[r,o]),[r,s,c]}function Sn(e){return typeof e=="function"}var In=i.createContext(void 0);function Ye(e){const n=i.useContext(In);return e||n||"ltr"}var ve="rovingFocusGroup.onEntryFocus",An={bubbles:!1,cancelable:!0},H="RovingFocusGroup",[ge,Xe,zn]=wn(H),[Tn,Je]=de(H,[zn]),[Pn,En]=Tn(H),Qe=i.forwardRef((e,n)=>t.jsx(ge.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(ge.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Mn,{...e,ref:n})})}));Qe.displayName=H;var Mn=i.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:o=!1,dir:c,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:a,preventScrollOnEntryFocus:u=!1,...f}=e,x=i.useRef(null),h=$(n,x),g=Ye(c),[v,b]=Ve({prop:l,defaultProp:d??null,onChange:m,caller:H}),[N,w]=i.useState(!1),j=Rn(a),R=Xe(r),_=i.useRef(!1),[S,T]=i.useState(0);return i.useEffect(()=>{const k=x.current;if(k)return k.addEventListener(ve,j),()=>k.removeEventListener(ve,j)},[j]),t.jsx(Pn,{scope:r,orientation:s,dir:g,loop:o,currentTabStopId:v,onItemFocus:i.useCallback(k=>b(k),[b]),onItemShiftTab:i.useCallback(()=>w(!0),[]),onFocusableItemAdd:i.useCallback(()=>T(k=>k+1),[]),onFocusableItemRemove:i.useCallback(()=>T(k=>k-1),[]),children:t.jsx(W.div,{tabIndex:N||S===0?-1:0,"data-orientation":s,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:D(e.onMouseDown,()=>{_.current=!0}),onFocus:D(e.onFocus,k=>{const L=!_.current;if(k.target===k.currentTarget&&L&&!N){const P=new CustomEvent(ve,An);if(k.currentTarget.dispatchEvent(P),!P.defaultPrevented){const U=R().filter(E=>E.focusable),K=U.find(E=>E.active),q=U.find(E=>E.id===v),me=[K,q,...U].filter(Boolean).map(E=>E.ref.current);qe(me,u)}}_.current=!1}),onBlur:D(e.onBlur,()=>w(!1))})})}),Ze="RovingFocusGroupItem",He=i.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:o=!1,tabStopId:c,children:l,...d}=e,m=Cn(),a=c||m,u=En(Ze,r),f=u.currentTabStopId===a,x=Xe(r),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:v}=u;return i.useEffect(()=>{if(s)return h(),()=>g()},[s,h,g]),t.jsx(ge.ItemSlot,{scope:r,id:a,focusable:s,active:o,children:t.jsx(W.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...d,ref:n,onMouseDown:D(e.onMouseDown,b=>{s?u.onItemFocus(a):b.preventDefault()}),onFocus:D(e.onFocus,()=>u.onItemFocus(a)),onKeyDown:D(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){u.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const N=Fn(b,u.orientation,u.dir);if(N!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let j=x().filter(R=>R.focusable).map(R=>R.ref.current);if(N==="last")j.reverse();else if(N==="prev"||N==="next"){N==="prev"&&j.reverse();const R=j.indexOf(b.currentTarget);j=u.loop?$n(j,R+1):j.slice(R+1)}setTimeout(()=>qe(j))}}),children:typeof l=="function"?l({isCurrentTabStop:f,hasTabStop:v!=null}):l})})});He.displayName=Ze;var On={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Dn(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Fn(e,n,r){const s=Dn(e.key,r);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return On[s]}function qe(e,n=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:n}),document.activeElement!==r))return}function $n(e,n){return e.map((r,s)=>e[(n+s)%e.length])}var Ln=Qe,Un=He;function Gn(e){const[n,r]=i.useState(void 0);return Z(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let l,d;if("borderBoxSize"in c){const m=c.borderBoxSize,a=Array.isArray(m)?m[0]:m;l=a.inlineSize,d=a.blockSize}else l=e.offsetWidth,d=e.offsetHeight;r({width:l,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),n}function Bn(e){const n=i.useRef({value:e,previous:e});return i.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}function Wn(e,n){return i.useReducer((r,s)=>n[r][s]??r,e)}var et=e=>{const{present:n,children:r}=e,s=Kn(n),o=typeof r=="function"?r({present:s.isPresent}):i.Children.only(r),c=$(s.ref,Vn(o));return typeof r=="function"||s.isPresent?i.cloneElement(o,{ref:c}):null};et.displayName="Presence";function Kn(e){const[n,r]=i.useState(),s=i.useRef(null),o=i.useRef(e),c=i.useRef("none"),l=e?"mounted":"unmounted",[d,m]=Wn(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const a=oe(s.current);c.current=d==="mounted"?a:"none"},[d]),Z(()=>{const a=s.current,u=o.current;if(u!==e){const x=c.current,h=oe(a);e?m("MOUNT"):h==="none"||(a==null?void 0:a.display)==="none"?m("UNMOUNT"):m(u&&x!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,m]),Z(()=>{if(n){let a;const u=n.ownerDocument.defaultView??window,f=h=>{const v=oe(s.current).includes(CSS.escape(h.animationName));if(h.target===n&&v&&(m("ANIMATION_END"),!o.current)){const b=n.style.animationFillMode;n.style.animationFillMode="forwards",a=u.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=b)})}},x=h=>{h.target===n&&(c.current=oe(s.current))};return n.addEventListener("animationstart",x),n.addEventListener("animationcancel",f),n.addEventListener("animationend",f),()=>{u.clearTimeout(a),n.removeEventListener("animationstart",x),n.removeEventListener("animationcancel",f),n.removeEventListener("animationend",f)}}else m("ANIMATION_END")},[n,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:i.useCallback(a=>{s.current=a?getComputedStyle(a):null,r(a)},[])}}function oe(e){return(e==null?void 0:e.animationName)||"none"}function Vn(e){var s,o;let n=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ce="Radio",[Yn,tt]=de(Ce),[Xn,Jn]=Yn(Ce),nt=i.forwardRef((e,n)=>{const{__scopeRadio:r,name:s,checked:o=!1,required:c,disabled:l,value:d="on",onCheck:m,form:a,...u}=e,[f,x]=i.useState(null),h=$(n,b=>x(b)),g=i.useRef(!1),v=f?a||!!f.closest("form"):!0;return t.jsxs(Xn,{scope:r,checked:o,disabled:l,children:[t.jsx(W.button,{type:"button",role:"radio","aria-checked":o,"data-state":it(o),"data-disabled":l?"":void 0,disabled:l,value:d,...u,ref:h,onClick:D(e.onClick,b=>{o||m==null||m(),v&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),v&&t.jsx(ot,{control:f,bubbles:!g.current,name:s,value:d,checked:o,required:c,disabled:l,form:a,style:{transform:"translateX(-100%)"}})]})});nt.displayName=Ce;var rt="RadioIndicator",st=i.forwardRef((e,n)=>{const{__scopeRadio:r,forceMount:s,...o}=e,c=Jn(rt,r);return t.jsx(et,{present:s||c.checked,children:t.jsx(W.span,{"data-state":it(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:n})})});st.displayName=rt;var Qn="RadioBubbleInput",ot=i.forwardRef(({__scopeRadio:e,control:n,checked:r,bubbles:s=!0,...o},c)=>{const l=i.useRef(null),d=$(l,c),m=Bn(r),a=Gn(n);return i.useEffect(()=>{const u=l.current;if(!u)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(m!==r&&h){const g=new Event("click",{bubbles:s});h.call(u,r),u.dispatchEvent(g)}},[m,r,s]),t.jsx(W.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:d,style:{...o.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ot.displayName=Qn;function it(e){return e?"checked":"unchecked"}var Zn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ue="RadioGroup",[Hn,fs]=de(ue,[Je,tt]),at=Je(),ct=tt(),[qn,er]=Hn(ue),lt=i.forwardRef((e,n)=>{const{__scopeRadioGroup:r,name:s,defaultValue:o,value:c,required:l=!1,disabled:d=!1,orientation:m,dir:a,loop:u=!0,onValueChange:f,...x}=e,h=at(r),g=Ye(a),[v,b]=Ve({prop:c,defaultProp:o??null,onChange:f,caller:ue});return t.jsx(qn,{scope:r,name:s,required:l,disabled:d,value:v,onValueChange:b,children:t.jsx(Ln,{asChild:!0,...h,orientation:m,dir:g,loop:u,children:t.jsx(W.div,{role:"radiogroup","aria-required":l,"aria-orientation":m,"data-disabled":d?"":void 0,dir:g,...x,ref:n})})})});lt.displayName=ue;var dt="RadioGroupItem",ut=i.forwardRef((e,n)=>{const{__scopeRadioGroup:r,disabled:s,...o}=e,c=er(dt,r),l=c.disabled||s,d=at(r),m=ct(r),a=i.useRef(null),u=$(n,a),f=c.value===o.value,x=i.useRef(!1);return i.useEffect(()=>{const h=v=>{Zn.includes(v.key)&&(x.current=!0)},g=()=>x.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",g)}},[]),t.jsx(Un,{asChild:!0,...d,focusable:!l,active:f,children:t.jsx(nt,{disabled:l,required:c.required,checked:f,...m,...o,name:c.name,ref:u,onCheck:()=>c.onValueChange(o.value),onKeyDown:D(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:D(o.onFocus,()=>{var h;x.current&&((h=a.current)==null||h.click())})})})});ut.displayName=dt;var tr="RadioGroupIndicator",mt=i.forwardRef((e,n)=>{const{__scopeRadioGroup:r,...s}=e,o=ct(r);return t.jsx(st,{...o,...s,ref:n})});mt.displayName=tr;var ft=lt,pt=ut,nr=mt;const xt=i.forwardRef(({className:e,...n},r)=>t.jsx(ft,{className:$e("grid gap-2",e),...n,ref:r}));xt.displayName=ft.displayName;const J=i.forwardRef(({className:e,...n},r)=>t.jsx(pt,{ref:r,className:$e("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:t.jsx(nr,{className:"flex items-center justify-center",children:t.jsx(Wt,{className:"h-2.5 w-2.5 fill-current text-current"})})}));J.displayName=pt.displayName;B.extend(bn);function rr(e){return Array.isArray(e==null?void 0:e.advisers)?e.advisers[0]??null:null}function X(e){return e?/^https?:\/\//i.test(e)||e.startsWith("/storage/")?e:`/storage/${e.replace(/^\/?storage\//,"")}`:null}function sr(e){if(!e)return"—";const n=B(e);return n.isValid()?n.format("MMM D, YYYY"):e}function Fe(e){if(!e)return null;const n=`1970-01-01 ${e}`,r=B(n);return r.isValid()?r.format("hh:mm A"):e}function or(e,n){const r=Fe(e),s=Fe(n);return!r&&!s?"—":r&&s?`${r} — ${s}`:r||s||"—"}const ir=[{title:"Dashboard",href:"/dashboard"},{title:"Defense Requirements",href:"/defense-requirements"}];function ps(){const{props:e}=wt(),{defenseRequirements:n=[],defenseRequest:r,acceptDefense:s=!0,auth:o}=e,c=(o==null?void 0:o.user)||{},l=rr(c),[d,m]=i.useState(!s),[a,u]=i.useState(r||null),[f,x]=i.useState(B().format("h:mm A")),[h,g]=i.useState(!1),v=!l,N=!!a&&!new Set(["cancelled","adviser-rejected","coordinator-rejected","completed"]).has((a.workflow_state||"").toLowerCase()),[w,j]=i.useState(!1),[R,_]=i.useState(!1),[S,T]=i.useState(null),[k,L]=i.useState(!1),[P,U]=i.useState(""),[K,q]=i.useState(""),[Re,me]=i.useState(null),[E,ke]=i.useState(!1),[ht,bt]=i.useState(null);function _e(p){if(!p)return 0;const y=(p.workflow_state||"").toLowerCase().trim();return y==="completed"?5:y==="coordinator-approved"?4:y==="scheduled"?3:y==="panels-assigned"||y==="panel-assigned"?2:y==="adviser-approved"||y==="coordinator-review"?1:0}i.useEffect(()=>{a&&(console.log("Defense Request Workflow State:",a.workflow_state),console.log("Current Stepper Index:",_e(a)))},[a]),i.useEffect(()=>{if(!(a!=null&&a.id))return;const p=setInterval(async()=>{try{const y=await fetch(`/api/defense-request/${a.id}`);if(!y.ok)return;const M=await y.json();["workflow_state","defense_chairperson","defense_panelist1","defense_panelist2","defense_panelist3","defense_panelist4","scheduled_date","scheduled_time","scheduled_end_time","defense_venue","defense_mode","scheduling_notes"].some(C=>M[C]!==a[C])&&x(B().format("h:mm A")),u(M)}catch{}},1e4);return()=>clearInterval(p)},[a==null?void 0:a.id,a]);function Se(p,y){if(!y||y.id!==p.id)return(p.status||"").toLowerCase()==="pending";const M=["pending","submitted","adviser-review"];return(p.status||"").toLowerCase()==="cancelled"||y.workflow_state==="cancelled"?!1:(p.status||"").toLowerCase()==="pending"||M.includes(y.workflow_state)}return t.jsxs(yt,{breadcrumbs:ir,children:[t.jsx(jt,{title:"Defense Requirements"}),h?t.jsxs("div",{className:"w-full min-h-[70vh] bg-zinc-100 dark:bg-zinc-900 flex flex-col gap-4 p-0 m-0",children:[t.jsx(te,{className:"h-6 w-1/6 rounded bg-zinc-300 dark:bg-zinc-800 mt-8 mx-8"}),t.jsx(te,{className:"h-12 w-3/4 rounded bg-zinc-300 dark:bg-zinc-800 mx-8"}),t.jsx(te,{className:"h-12 w-2/3 rounded bg-zinc-300 dark:bg-zinc-800 mx-8"}),t.jsx(te,{className:"h-[500px] w-full rounded bg-zinc-300 dark:bg-zinc-800 mt-4"})]}):t.jsxs("div",{className:"flex flex-col px-7 pt-5 pb-5 w-full",children:[v&&t.jsxs(Te,{className:"bg-rose-50 dark:bg-rose-950 border-rose-200 dark:border-rose-900 text-rose-900 dark:text-rose-100 flex items-start gap-3 px-6 py-5 rounded-xl mb-4",children:[t.jsx(xe,{className:"h-5 w-5 text-rose-500 dark:text-rose-400 mt-1 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx(Pe,{className:"font-semibold mb-1",children:"No Adviser Assigned"}),t.jsx(Ee,{children:"You are not currently assigned to an adviser. You must be registered with an adviser before you can submit defense requirements. Please contact your coordinator or adviser for assistance."})]})]}),!s&&d&&t.jsxs(Te,{className:"bg-yellow-50 dark:bg-yellow-950 border-yellow-200 dark:border-yellow-900 text-yellow-900 dark:text-yellow-100 flex items-start gap-3 px-6 py-5 rounded-xl mb-4 relative",children:[t.jsx(xe,{className:"h-5 w-5 text-yellow-500 dark:text-yellow-400 mt-1 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx(Pe,{className:"font-semibold mb-1",children:"Defense Requirement Submissions Closed"}),t.jsx(Ee,{children:"The defense requirement submission period is currently closed. Please contact your coordinator for more information."})]}),t.jsx("button",{type:"button",className:"absolute top-2 right-2 text-yellow-900 dark:text-yellow-100 hover:text-yellow-700 dark:hover:text-yellow-300 rounded p-1","aria-label":"Close",onClick:()=>m(!1),children:t.jsx(he,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg overflow-hidden",children:[t.jsxs("div",{className:"flex flex-row items-center justify-between w-full p-3 border-b border-zinc-200 dark:border-zinc-800",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-rose-500/10 dark:bg-rose-500/20 border border-rose-500 dark:border-rose-700",children:t.jsx(ne,{className:"h-5 w-5 text-rose-400 dark:text-rose-300"})}),t.jsxs("div",{children:[t.jsx("span",{className:"text-base font-semibold dark:text-white",children:"Defense Requirements"}),t.jsx("p",{className:"block text-xs text-muted-foreground dark:text-zinc-400",children:"Track your submission, committee, and schedule."})]})]}),t.jsxs(ee,{className:"bg-rose-500 text-sm px-5 rounded-md dark:bg-rose-600 disabled:opacity-60",onClick:()=>j(!0),disabled:N||!s||v,title:v?"You must be assigned to an adviser to submit requirements":s?N?"Finish current workflow before submitting another":"Submit new defense requirements":"Submissions closed",children:[t.jsx(Ft,{})," Submit requirements"]}),t.jsx(It,{open:w,onOpenChange:j,onFinish:()=>{},acceptDefense:s})]}),n.length===0?t.jsx("div",{className:"p-6 text-center text-sm text-muted-foreground dark:text-zinc-400",children:"No defense requirements submitted yet."}):[...n].sort((p,y)=>(y.created_at?new Date(y.created_at).getTime():0)-(p.created_at?new Date(p.created_at).getTime():0)).map(p=>{const y=ht===p.id,M=p.created_at?B(p.created_at).fromNow():"Unknown",V=a&&a.id===p.id?a:p.workflow_state?{workflow_state:p.workflow_state}:null,F=_e(V),C={...p,...a&&a.id===p.id?a:{}},I=(C.workflow_state||"").toLowerCase(),fe=I==="cancelled",Ie=I==="adviser-rejected"||I==="coordinator-rejected",Ae=I==="completed",vt=!fe&&!Ie&&!Ae,ze=[{key:"submitted",label:"Submitted",icon:t.jsx(re,{className:"w-4 h-4"})},{key:"adviser-approved",label:"Adviser Approved",icon:t.jsx(Y,{className:"w-4 h-4"})},{key:"panels-assigned",label:"Panels Assigned",icon:t.jsx(z,{className:"w-4 h-4"})},{key:"scheduled",label:"Scheduled",icon:t.jsx(be,{className:"w-4 h-4"})},{key:"coordinator-approved",label:"Coordinator Approved",icon:t.jsx(Y,{className:"w-4 h-4"})},{key:"completed",label:"Completed",icon:t.jsx(ne,{className:"w-4 h-4"})}];return t.jsxs(O.Fragment,{children:[t.jsx("div",{className:"border-b border-zinc-200 dark:border-zinc-800 w-full"}),t.jsxs(un,{open:y,onOpenChange:A=>bt(A?p.id:null),children:[t.jsx(mn,{asChild:!0,children:t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 cursor-pointer bg-white dark:bg-zinc-900 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors",children:[t.jsx($t,{className:`transition-transform duration-200 h-4 w-4 text-muted-foreground dark:text-zinc-400 mr-3 ${y?"rotate-180":""}`}),t.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[p.defense_type&&t.jsx(Dt,{variant:"outline",className:"text-[11px] font-semibold px-2 py-0.5 capitalize",children:p.defense_type}),t.jsx("span",{className:"font-semibold text-xs text-black dark:text-white truncate",children:p.thesis_title}),(()=>{const A=fe?{icon:t.jsx(he,{className:"h-3.5 w-3.5"}),label:"Cancelled",tone:"text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}:Ie?{icon:t.jsx(he,{className:"h-3.5 w-3.5"}),label:I==="adviser-rejected"?"Rejected by Adviser":"Rejected by Coordinator",tone:"text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}:Ae?{icon:t.jsx(Y,{className:"h-3.5 w-3.5"}),label:"Defense Completed",tone:"text-green-700 dark:text-green-400 bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"}:I==="scheduled"?{icon:t.jsx(be,{className:"h-3.5 w-3.5"}),label:"Defense Scheduled",tone:"text-rose-700 dark:text-rose-300 bg-rose-50 dark:bg-rose-900/20 border-rose-200 dark:border-rose-800"}:I==="panels-assigned"?{icon:t.jsx(z,{className:"h-3.5 w-3.5"}),label:"Panels Assigned",tone:"text-rose-700 dark:text-rose-300 bg-rose-50 dark:bg-rose-900/20 border-rose-200 dark:border-rose-800"}:I==="coordinator-approved"?{icon:t.jsx(Y,{className:"h-3.5 w-3.5"}),label:"Coordinator Approved",tone:"text-zinc-700 dark:text-zinc-200 bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"}:I==="adviser-approved"?{icon:t.jsx(Y,{className:"h-3.5 w-3.5"}),label:"Adviser Approved",tone:"text-zinc-700 dark:text-zinc-200 bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"}:I==="coordinator-review"?{icon:t.jsx(re,{className:"h-3.5 w-3.5"}),label:"Coordinator Review",tone:"text-zinc-600 dark:text-zinc-400 bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"}:I==="adviser-review"?{icon:t.jsx(re,{className:"h-3.5 w-3.5"}),label:"Adviser Review",tone:"text-zinc-600 dark:text-zinc-400 bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"}:{icon:t.jsx(re,{className:"h-3.5 w-3.5"}),label:"Submitted",tone:"text-zinc-600 dark:text-zinc-400 bg-zinc-50 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"};return t.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-0.5 text-[11px] font-medium ml-2 ${A.tone}`,children:[A.icon,A.label]})})()]}),t.jsx("div",{className:"flex items-center w-64 justify-end",children:vt?t.jsx("div",{className:"flex items-center gap-0",children:ze.map((A,pe)=>{const gt=pe<=F?"bg-rose-500 text-white border-rose-500 dark:bg-rose-600 dark:border-rose-700":"bg-zinc-100 text-zinc-400 border-zinc-200 dark:bg-zinc-800 dark:text-zinc-500 dark:border-zinc-700";return t.jsxs(O.Fragment,{children:[t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:`rounded-full p-1 border ${gt}`,children:A.icon})}),pe<ze.length-1&&t.jsx("div",{className:`h-1 w-6 ${pe<F?"bg-rose-500 dark:bg-rose-700":"bg-zinc-200 dark:bg-zinc-700"}`})]},A.key)})}):t.jsx("div",{className:"flex items-center justify-center"})})]})}),t.jsx(fn,{children:t.jsx("div",{className:"px-4 py-3",children:t.jsxs("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 p-4 sm:p-5",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsx("div",{className:"min-w-0"}),t.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[t.jsxs("span",{className:"text-[10px] text-muted-foreground dark:text-zinc-400 whitespace-nowrap",children:["Submitted ",M]}),t.jsxs(At,{children:[t.jsx(zt,{asChild:!0,children:t.jsx(ee,{variant:"outline",size:"icon",className:"h-7 w-7 p-0",disabled:!!fe,children:t.jsx(Lt,{className:"h-4 w-4"})})}),t.jsx(Tt,{align:"end",children:t.jsx(Pt,{disabled:!Se(p,a),onSelect:A=>{A.preventDefault(),Se(p,a)&&(me(p.id),U(""),q(""),L(!0))},children:"Unsubmit"})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-5 text-xs",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(xe,{className:"h-3.5 w-3.5"}),"Thesis Title"]}),t.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100 break-words",children:p.thesis_title||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(ne,{className:"h-3.5 w-3.5"}),"Defense Type"]}),t.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:p.defense_type||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(z,{className:"h-3.5 w-3.5"}),"Student"]}),t.jsxs("div",{className:"font-medium text-zinc-900 dark:text-zinc-100 truncate",children:[p.first_name," ",p.last_name]})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(z,{className:"h-3.5 w-3.5"}),"Adviser"]}),t.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100 truncate",children:p.adviser||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(ne,{className:"h-3.5 w-3.5"}),"Program"]}),t.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100 break-words",children:p.program||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(be,{className:"h-3.5 w-3.5"}),"Date"]}),t.jsx("div",{className:"font-medium",children:sr(C.scheduled_date)})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(Ut,{className:"h-3.5 w-3.5"}),"Time"]}),t.jsx("div",{className:"font-medium",children:or(C.scheduled_time,C.scheduled_end_time)})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(Gt,{className:"h-3.5 w-3.5"}),"Venue"]}),t.jsx("div",{className:"font-medium",children:C.defense_venue||"—"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Mode"}),t.jsx("div",{className:"font-medium capitalize",children:C.defense_mode||"—"})]}),t.jsxs("div",{className:"sm:col-span-2 min-w-0",children:[t.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Notes"}),t.jsx("div",{className:"font-medium break-words",children:C.scheduling_notes||"—"})]}),t.jsxs("div",{className:"sm:col-span-2 min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(z,{className:"h-3.5 w-3.5"}),"Committee"]}),[C.defense_chairperson,C.defense_panelist1,C.defense_panelist2,C.defense_panelist3,C.defense_panelist4].some(Boolean)?t.jsxs("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:[C.defense_chairperson&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 px-2.5 py-1 text-[11px]",children:[t.jsx(z,{className:"h-3.5 w-3.5 text-zinc-500"}),t.jsx("span",{className:"font-medium",children:C.defense_chairperson}),t.jsx("span",{className:"text-zinc-500",children:"(Chairperson)"})]}),C.defense_panelist1&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 px-2.5 py-1 text-[11px]",children:[t.jsx(z,{className:"h-3.5 w-3.5 text-zinc-500"}),t.jsx("span",{className:"font-medium",children:C.defense_panelist1}),t.jsx("span",{className:"text-zinc-500",children:"(Panelist 1)"})]}),C.defense_panelist2&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 px-2.5 py-1 text-[11px]",children:[t.jsx(z,{className:"h-3.5 w-3.5 text-zinc-500"}),t.jsx("span",{className:"font-medium",children:C.defense_panelist2}),t.jsx("span",{className:"text-zinc-500",children:"(Panelist 2)"})]}),C.defense_panelist3&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 px-2.5 py-1 text-[11px]",children:[t.jsx(z,{className:"h-3.5 w-3.5 text-zinc-500"}),t.jsx("span",{className:"font-medium",children:C.defense_panelist3}),t.jsx("span",{className:"text-zinc-500",children:"(Panelist 3)"})]}),C.defense_panelist4&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 px-2.5 py-1 text-[11px]",children:[t.jsx(z,{className:"h-3.5 w-3.5 text-zinc-500"}),t.jsx("span",{className:"font-medium",children:C.defense_panelist4}),t.jsx("span",{className:"text-zinc-500",children:"(Panelist 4)"})]})]}):t.jsx("div",{className:"text-[12px] text-muted-foreground",children:"No committee assigned yet."})]}),t.jsxs("div",{className:"sm:col-span-2 min-w-0",children:[t.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1.5",children:[t.jsx(G,{className:"h-3.5 w-3.5"}),"Attachments"]}),t.jsxs("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:[p.manuscript_proposal&&t.jsxs("a",{href:X(p.manuscript_proposal)||void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-[11px] px-2.5 py-1",style:{textDecoration:"none"},children:[t.jsx(G,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"truncate max-w-[160px]",children:["Manuscript • ",p.manuscript_proposal.split("/").pop()]})]}),p.similarity_index&&t.jsxs("a",{href:X(p.similarity_index)||void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-[11px] px-2.5 py-1",style:{textDecoration:"none"},children:[t.jsx(G,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"truncate max-w-[160px]",children:["Similarity • ",p.similarity_index.split("/").pop()]})]}),p.rec_endorsement&&t.jsxs("a",{href:X(p.rec_endorsement)||void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-[11px] px-2.5 py-1",style:{textDecoration:"none"},children:[t.jsx(G,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"truncate max-w-[160px]",children:["Endorsement • ",p.rec_endorsement.split("/").pop()]})]}),p.proof_of_payment&&t.jsxs("a",{href:X(p.proof_of_payment)||void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-[11px] px-2.5 py-1",style:{textDecoration:"none"},children:[t.jsx(G,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"truncate max-w-[160px]",children:["Payment • ",p.proof_of_payment.split("/").pop()]})]}),p.avisee_adviser_attachment&&t.jsxs("a",{href:X(p.avisee_adviser_attachment)||void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-[11px] px-2.5 py-1",style:{textDecoration:"none"},children:[t.jsx(G,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"truncate max-w-[160px]",children:["Avisee–Adviser • ",p.avisee_adviser_attachment.split("/").pop()]})]}),!p.manuscript_proposal&&!p.similarity_index&&!p.rec_endorsement&&!p.proof_of_payment&&!p.avisee_adviser_attachment&&t.jsx("div",{className:"text-[12px] text-muted-foreground",children:"No attachments uploaded."})]})]})]}),I==="completed"&&t.jsxs("div",{className:"mt-4 p-3 rounded-md border border-green-200 bg-green-50 dark:bg-green-900/30",children:[t.jsx("div",{className:"font-bold text-green-700 text-xs mb-1",children:"Congratulations, your defense has been successfully completed!"}),t.jsxs("div",{className:"text-xs text-zinc-700 dark:text-zinc-200",children:[t.jsx("b",{children:"Request for Oral Defense Certificate"}),t.jsx("br",{}),"Please fill out this form:",t.jsx("br",{}),t.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLScIFYf8Z6L8q_N2qVEdS4koTJ7jv4HOFnhit-4LKXmOH--Ukg/viewform?usp=send_form",target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline break-all",children:"https://docs.google.com/forms/d/e/1FAIpQLScIFYf8Z6L8q_N2qVEdS4koTJ7jv4HOFnhit-4LKXmOH--Ukg/viewform?usp=send_form"})]})]})]})})})]})]},p.id)})]}),t.jsx(Ct,{open:k,onOpenChange:L,children:t.jsxs(Rt,{children:[t.jsxs(kt,{children:[t.jsx(_t,{children:"Are you sure?"}),t.jsx(St,{children:"Please select a reason for unsubmission."})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(xt,{value:P,onValueChange:U,children:[t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(J,{value:"mistake",id:"reason-mistake"}),t.jsx("label",{htmlFor:"reason-mistake",className:"text-sm",children:"I made a mistake in filling up the forms"})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(J,{value:"cancel",id:"reason-cancel"}),t.jsx("label",{htmlFor:"reason-cancel",className:"text-sm",children:"I'd like to just cancel the submission"})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(J,{value:"outdated",id:"reason-outdated"}),t.jsx("label",{htmlFor:"reason-outdated",className:"text-sm",children:"The submission was outdated"})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(J,{value:"other",id:"reason-other"}),t.jsx("label",{htmlFor:"reason-other",className:"text-sm",children:"Other..."})]})]}),P==="other"&&t.jsx(Mt,{placeholder:"Enter your reason",value:K,onChange:p=>q(p.target.value),className:"text-sm"}),t.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[t.jsx(ee,{variant:"outline",onClick:()=>L(!1),children:"Cancel"}),t.jsx(ee,{disabled:E||!P||P==="other"&&!K,onClick:async()=>{var p,y;ke(!0);try{const M=((p=window.Laravel)==null?void 0:p.csrfToken)||((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content")),V=await fetch(`/defense-requirements/${Re}/unsubmit`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":M||""},body:JSON.stringify({reason:P==="other"?K:P,_token:M||""})});if(V.ok)L(!1),window.location.reload();else{let F={};try{F=await V.json()}catch{}alert((F==null?void 0:F.message)||"Failed to unsubmit.")}}catch{alert("Network error. Please try again.")}finally{ke(!1)}},children:"Submit"})]})]})]})}),S&&t.jsx(Ot,{open:R,onOpenChange:_,defenseRequest:S})]})]})}export{ps as default};
