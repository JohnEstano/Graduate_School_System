import{K as h,r as i,j as e,L as j}from"./app-OOvd0qGy.js";import{A as g}from"./app-layout-4BSfGYAy.js";import{B as p}from"./button-Bvl2ELDv.js";import y from"./PaymentForm-Dinn0JzP.js";import v from"./display-payment-Bt0joVkC.js";import{D as N,a as k}from"./dialog-DgFd6e46.js";import{R as w}from"./receipt-PJ839HEm.js";import{C as S}from"./check-CihXD7iu.js";import"./index-ChOW5_O6.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./input-CzcDJDbH.js";import"./index-B2wwfcIF.js";import"./index-DQ9rqnvl.js";import"./index-4w5oLsoB.js";import"./x-DrNmi13E.js";import"./createLucideIcon-Cvkj7Hkp.js";import"./tooltip-BFmjF_jJ.js";import"./floating-ui.react-dom-BrG2AUyT.js";import"./separator-Cye1ujSm.js";import"./index-B9sjBiRz.js";import"./chevron-right-BsU_TN8l.js";import"./dropdown-menu-JMbXV8S0.js";import"./index-DcZRhvrv.js";import"./index-kQq3evoo.js";import"./index-C9drr0Qb.js";import"./index-CQ9en90x.js";import"./index-C7ezi2Q7.js";import"./avatar-DboJvblb.js";import"./settings-BGemkvqC.js";import"./graduation-cap-CCWiuwHf.js";import"./file-text-DLuaZQHd.js";import"./dollar-sign-4LNVBfuJ.js";import"./users-EStqJIUY.js";import"./credit-card-Bfq-rBsk.js";import"./tabs-BvigrSxv.js";import"./badge-9siNCstt.js";import"./circle-check-big-Ddw5Ycw8.js";import"./info-CIHMpyv0.js";import"./sun-Ch86N1Y-.js";import"./label-CWMX11o4.js";import"./popover-Bp-FQuXL.js";import"./calendar--1HgbcTb.js";import"./en-US-BA9orzCf.js";import"./endOfWeek-QFyZPl43.js";import"./format-HX8DKPSU.js";import"./differenceInCalendarMonths-HUNRrXGm.js";import"./normalizeInterval-CdMCNNY-.js";import"./endOfMonth-CK_ShA5m.js";import"./isSameDay-DUlCFK42.js";import"./isSameMonth-CQd3m9St.js";import"./chevron-left-DIKbIxDb.js";import"./chevron-down-CgfVHQYn.js";import"./calendar-h4nCOpBr.js";import"./paperclip-D2cdFqeN.js";import"./formatDistanceToNow-Bo4ytHt0.js";import"./constructNow-Chb2L4Vx.js";import"./getRoundingMethod-Btu-7J5l.js";import"./endOfDay-UBg8OSOW.js";import"./clock-BJgG26g7.js";import"./circle-x-Cfzvg8iR.js";import"./badge-check-D9AtGDnO.js";function $e(){const{props:c}=h(),{student:d,canSubmit:x,payment:t}=c,o=i.useMemo(()=>({canSubmit:null,debugOpen:!1}),[]),n=x,m=n&&(!t||t.status==="rejected"),[u,a]=i.useState(!1),[f,l]=i.useState(!1),b=i.useMemo(()=>{const r=t==null?void 0:t.status,s="inline-flex items-center rounded-full px-2 py-1 text-xs font-medium";return r==="approved"?e.jsx("span",{className:`${s} bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300`,children:"Approved"}):r==="rejected"?e.jsx("span",{className:`${s} bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300`,children:"Rejected"}):r==="pending"?e.jsx("span",{className:`${s} bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300`,children:"Pending"}):e.jsx("span",{className:`${s} bg-slate-100 text-slate-800 dark:bg-slate-800/50 dark:text-slate-300`,children:"No submission"})},[t==null?void 0:t.status]);return e.jsxs(g,{children:[e.jsx(j,{title:"Comprehensive Exam â€¢ Payment"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-5 pt-5 px-7 overflow-auto",children:e.jsxs("div",{className:"w-full px-2 bg-white border border-zinc-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between w-full p-3 border-b",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-rose-500/10 border border-rose-500",children:e.jsx(w,{className:"h-5 w-5 text-rose-400"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-base font-semibold",children:"Comprehensive Exam Payment"}),e.jsx("p",{className:"block text-xs text-muted-foreground",children:"Submit your official receipt for verification."}),e.jsx("div",{className:"mt-1 text-xs",children:b})]})]}),e.jsx(p,{className:"bg-rose-500 text-sm px-5 rounded-md",onClick:()=>a(!0),disabled:!m&&!o.debugOpen,title:m||o.debugOpen?"Submit payment":n?"Payment already submitted":"You can submit payment only after your comprehensive application is approved.",children:"Submit payment"})]}),e.jsx("div",{className:"p-1",children:t?e.jsx("div",{id:"payment-card",children:e.jsx(v,{payment:{id:t.payment_id,status:t.status,or_number:t.or_number,payment_date:t.payment_date,receipt_image:t.receipt_image,remarks:t.remarks??null,created_at:t.created_at??null},student:d})}):e.jsx("div",{className:"p-6 text-center text-sm text-muted-foreground",children:"No payment submitted yet."})})]})}),e.jsx(N,{open:u,onOpenChange:r=>{a(r),r||l(!1)},children:e.jsxs(k,{className:"flex h-[70vh] w-full max-w-3xl flex-col",children:[" ",f?e.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center space-y-6 px-4",children:[e.jsx(S,{size:48,className:"text-rose-500"}),e.jsx("h2",{className:"text-2xl font-semibold",children:"Payment Submitted!"}),e.jsx("p",{className:"text-center text-gray-600",children:"Your payment has been saved successfully."}),e.jsx(p,{onClick:()=>{a(!1),setTimeout(()=>{var r;(r=document.getElementById("payment-card"))==null||r.scrollIntoView({behavior:"smooth",block:"start"})},100)},className:"bg-rose-500",children:"Done"})]}):e.jsx("div",{className:"flex-1 overflow-auto px-2",children:e.jsx(y,{canSubmit:m||o.debugOpen,payment:t,onSuccess:()=>l(!0)})})]})})]})}export{$e as default};
