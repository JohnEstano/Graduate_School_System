import{j as e}from"./app-BDkuJsct.js";import{D as f,a as h,d as u,b as y,c as b,g as p}from"./dialog-DeUj0iLU.js";import{B as d}from"./badge-BJdX7_A9.js";import{B as j}from"./button-DggClj9M.js";import{P as N}from"./printer-CSDni_pD.js";import{X as k}from"./x-CtfT_1vN.js";import{U as l}from"./user-IY2-Ii15.js";import{C as v}from"./calendar-CI-DWPmu.js";import{C as w}from"./credit-card-CM3Zlvhr.js";import{F as o}from"./file-text-rxgzo2tt.js";import"./index-CWqpdCTP.js";import"./index-BhbofC_p.js";import"./index-B_a1aFVM.js";import"./index-D-bfryUZ.js";import"./utils-jAU0Cazi.js";import"./index-DZZQifJx.js";import"./createLucideIcon-CEmaZ7tj.js";function I({panelist:t,onClose:m}){if(!t)return null;const c=(t.students||[]).reduce((r,a)=>r+(a.payments||[]).reduce((s,n)=>s+Number(n.amount||0),0),0),x=()=>{window.open(`/honorarium/panelist/${t.id}/download-pdf`,"_blank")},i=r=>r?r.includes("Adviser")?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300 border-blue-200":r.includes("Panel Chair")?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300 border-purple-200":r.includes("Panel Member")?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300 border-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300 border-gray-200":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300 border-gray-200",g=r=>{switch(r){case"Proposal":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300 border-yellow-200";case"Pre-Final":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300 border-orange-200";case"Final":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300 border-emerald-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300 border-gray-200"}};return e.jsx(f,{open:!!t,onOpenChange:r=>{r||m()},children:e.jsxs(h,{className:"max-w-6xl w-full max-h-[90vh] flex flex-col p-0 gap-0",children:[e.jsxs(u,{className:"sticky top-0 z-20 bg-white dark:bg-[#121212] border-b p-4 flex flex-row justify-between items-center m-2",children:[e.jsxs("div",{className:"flex-1 mr-16",children:[e.jsx(y,{className:"text-2xl font-bold",children:`${t.pfirst_name} ${t.pmiddle_name||""} ${t.plast_name}`.trim()}),e.jsxs(b,{className:"flex items-center gap-2 text-base mt-1",children:[e.jsx(d,{className:`${i(t.role)} font-medium`,children:"Total:"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["₱ ",c.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(j,{variant:"outline",size:"sm",onClick:x,className:"print:hidden",children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),e.jsx(p,{asChild:!0,children:e.jsx("button",{className:`ring-offset-background focus:ring-ring rounded-sm opacity-70 transition-opacity 
                hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden p-2`,"aria-label":"Close",children:e.jsx(k,{className:"h-4 w-4"})})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto py-2 px-6",children:e.jsx("div",{className:"rounded-md overflow-x-auto border bg-white dark:bg-[#121212] p-4",children:e.jsxs("div",{className:"space-y-4",children:[(t.students||[]).sort((r,a)=>{const s=r.defense_date?new Date(r.defense_date).getTime():0;return(a.defense_date?new Date(a.defense_date).getTime():0)-s}).map(r=>{const a=(r.payments||[])[0];return a?e.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-[#121212] print:border-gray-400",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center flex-shrink-0 print:border print:border-blue-300",children:e.jsx(l,{className:"h-5 w-5 text-blue-600 dark:text-blue-300"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-base",children:`${r.first_name} ${r.middle_name||""} ${r.last_name}`.trim()}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.course_section||"Regular"," • ",r.school_year||"2024-2025"]}),r.assigned_role&&e.jsx(d,{className:`${i(r.assigned_role)} text-xs`,children:r.assigned_role}),e.jsx(d,{className:`${g(a.defense_type||r.defense_type||"N/A")} text-xs`,children:a.defense_type||r.defense_type||"N/A"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(v,{className:"h-4 w-4 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Defense Date"}),e.jsx("div",{className:"font-medium",children:a.defense_date?new Date(a.defense_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):r.defense_date?new Date(r.defense_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Payment Date"}),e.jsx("div",{className:"font-medium",children:a.payment_date?new Date(a.payment_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(o,{className:"h-4 w-4 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"OR Number"}),e.jsx("div",{className:"font-medium",children:a.or_number||r.or_number||"-"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(l,{className:"h-4 w-4 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Honorarium Amount"}),e.jsxs("div",{className:"font-semibold text-green-600 dark:text-green-400",children:["₱",Number(a.amount||0).toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]})]},r.id):null}),(!t.students||t.students.length===0)&&e.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[e.jsx(o,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No payment records found for this panelist."})]})]})})})]})})}export{I as default};
