import{r as g,j as e,L as M}from"./app-DVscOEu2.js";import{U as R,A as D}from"./app-layout-B3GcPYH9.js";import{C as i}from"./card-d-byv3Vx.js";import{B as o}from"./button-Ce0hhOYY.js";import{B as x}from"./badge-CoIL-rL9.js";import{c as N}from"./createLucideIcon-D7oluGz7.js";import{M as j}from"./message-square-XNRLjw0M.js";import{C as f}from"./circle-x-BRNFXNZR.js";import{C as a}from"./circle-check-big-DM3V3plD.js";import{C as d}from"./circle-alert-IqxqnLVa.js";import"./index-DZo2EVCJ.js";import"./utils-jAU0Cazi.js";import"./input-r876wPDn.js";import"./index-Cf9FYmS9.js";import"./index-DMoMDHfQ.js";import"./index-y5_JTaNr.js";import"./index-Bje6bX72.js";import"./Combination-h-yS1RMD.js";import"./floating-ui.react-dom-B8YvmuRi.js";import"./index-BkWARksf.js";import"./x-DOc550yR.js";import"./tooltip-CF62-_BS.js";import"./separator-D0jXpuQ_.js";import"./chevron-right-BTIB9cEh.js";import"./dropdown-menu-COhy0mIG.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],U=N("Database",P);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],I=N("Zap",B),E=[{title:"Dashboard",href:"/dashboard"},{title:"System Status",href:"/system-status"}];function ie(){const[l,y]=g.useState([{name:"Database Connection",status:"checking",message:"Checking database connectivity...",icon:U},{name:"Messaging System",status:"checking",message:"Testing messaging endpoints...",icon:j},{name:"User Authentication",status:"checking",message:"Verifying authentication system...",icon:R},{name:"Real-time Features",status:"checking",message:"Testing real-time capabilities...",icon:I}]);g.useEffect(()=>{h()},[]);const h=async()=>{const s=[w(),v(),b(),k()];await Promise.all(s)},t=(s,c,m)=>{y(S=>S.map((u,A)=>A===s?{...u,status:c,message:m}:u))},w=async()=>{try{await new Promise(s=>setTimeout(s,1e3)),t(0,"success","Database connection established")}catch{t(0,"error","Database connection failed")}},v=async()=>{try{const s=await fetch("/messages/unread-count");if(s.ok){const c=await s.json();t(1,"success",`Messaging system operational (${c.count||0} unread messages)`)}else t(1,"error","Messaging API not responding")}catch{t(1,"error","Failed to connect to messaging system")}},b=async()=>{try{await new Promise(s=>setTimeout(s,1500)),t(2,"success","User authentication verified")}catch{t(2,"error","Authentication system error")}},k=async()=>{try{await new Promise(s=>setTimeout(s,2e3)),t(3,"success","Real-time polling active")}catch{t(3,"error","Real-time features unavailable")}},C=s=>{switch(s){case"success":return e.jsx(a,{className:"h-5 w-5 text-green-500"});case"error":return e.jsx(f,{className:"h-5 w-5 text-red-500"});default:return e.jsx(d,{className:"h-5 w-5 text-yellow-500 animate-pulse"})}},p=s=>{switch(s){case"success":return e.jsx(x,{className:"bg-green-100 text-green-800",children:"Operational"});case"error":return e.jsx(x,{variant:"destructive",children:"Error"});default:return e.jsx(x,{variant:"secondary",children:"Checking..."})}},r=l.every(s=>s.status!=="checking"),n=l.some(s=>s.status==="error");return e.jsxs(D,{breadcrumbs:E,children:[e.jsx(M,{title:"System Status"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-auto rounded-xl pt-5 pr-7 pl-7",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"System Status"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Real-time status of Graduate School Management System components"})]}),e.jsx(o,{onClick:h,disabled:!r,children:r?"Run Checks Again":"Running Checks..."})]}),e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[r?n?e.jsx(f,{className:"h-8 w-8 text-red-500"}):e.jsx(a,{className:"h-8 w-8 text-green-500"}):e.jsx(d,{className:"h-8 w-8 text-yellow-500 animate-pulse"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:r?n?"System Issues Detected":"All Systems Operational":"System Check in Progress"}),e.jsx("p",{className:"text-gray-600",children:r?n?"Some system components need attention":"All core features are functioning normally":"Running diagnostics on all system components..."})]})]}),p(r?n?"error":"success":"checking")]})}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:l.map((s,c)=>{const m=s.icon;return e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(m,{className:"h-6 w-6 text-gray-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:s.name}),C(s.status)]}),e.jsx("p",{className:`text-sm mt-1 ${s.status==="error"?"text-red-600":s.status==="success"?"text-green-600":"text-gray-600"}`,children:s.message}),e.jsx("div",{className:"mt-2",children:p(s.status)})]})]})},c)})}),e.jsxs(i,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Messaging System Features"}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(a,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Private Conversations"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(a,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Group Messaging"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(a,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Real-time Updates"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(a,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Message History"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(a,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Unread Indicators"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(a,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"User Search"})]})]})]}),e.jsxs(i,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(o,{variant:"outline",onClick:()=>window.open("/messages","_blank"),children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Open Messages"]}),e.jsxs(o,{variant:"outline",onClick:()=>window.location.reload(),children:[e.jsx(d,{className:"h-4 w-4 mr-2"}),"Refresh Status"]})]})]})]})]})}export{ie as default};
