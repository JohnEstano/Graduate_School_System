import{r as a,j as e,L as V}from"./app-DW0Mt5c9.js";import{A as G}from"./app-layout-CPwLq_xH.js";import{B as o}from"./button-BZf0VdIO.js";import{P,a as R,b as A}from"./popover-D7yVk8xU.js";import{C as H,a as L,e as M,b as T,c as Y,d as p}from"./command-74ZhXW_a.js";import{T as W,a as $,b as w,c as y,d as q,e as h}from"./table-CYsX4eCK.js";import{A as J,a as K}from"./avatar-B3rD_VQk.js";import{c as v}from"./utils-jAU0Cazi.js";import{S as U}from"./search-input-CG6hCMfD.js";import X from"./record-modal-CbA9nE4w.js";import{C as Z}from"./calendar-BCyjqlGy.js";import{C as b}from"./check-C1Ca0PY3.js";import{c as ee}from"./createLucideIcon-S0dKkUVo.js";import{E as se}from"./eye-CiUjArwd.js";import{D as ae}from"./download-BwN388zE.js";import{C as te,a as re}from"./chevrons-right-gGkXyIev.js";import{C as oe}from"./chevron-left-DlVNtzPQ.js";import{C as ne}from"./chevron-right-x7vIKCyG.js";import"./index-RzYQM1sh.js";import"./index-DZZQifJx.js";import"./input-Ch6RmxP_.js";import"./index-BMNAwHVU.js";import"./index-DHu7YzAG.js";import"./index-Bh88FqJG.js";import"./x-CW6T59GI.js";import"./tooltip-3yEC6fE6.js";import"./floating-ui.react-dom-DEJ-U2zP.js";import"./separator-4d5ucxHB.js";import"./index-xrb8sl6P.js";import"./dropdown-menu-FJcetjAu.js";import"./index-dxfJWdT_.js";import"./index-I9YLalqX.js";import"./index-Au_TdUcj.js";import"./index-Bwn0NV8Z.js";import"./settings-DPsrAkv5.js";import"./users-CFj_s0Ga.js";import"./graduation-cap-d15gjgNL.js";import"./file-text-Dpj0IN7n.js";import"./dollar-sign-DVIUp7aq.js";import"./send-BUfb6BoG.js";import"./credit-card-Bzx9FpUt.js";import"./tabs-3Dm9feNm.js";import"./badge-B7OUzsXL.js";import"./circle-check-big-CG9wjNDm.js";import"./info-Dl-vg0Zq.js";import"./sun-C_6rnlvD.js";import"./search-Ck6Ms1BF.js";import"./dialog-D7L72BhV.js";import"./proxy-CMvBkXOB.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],ie=ee("Book",le),ce=[{title:"Honorarium",href:"/honorarium"},{title:"Honorarium Summary",href:"/honorarium-summary"}],me=["Doctorate","Masters","Bachelors"];function de(u,c){const t=[];for(let n=c;n>=u;n--)t.push(n);return t}function is({records:u=[]}){const[c]=a.useState(u),[t,n]=a.useState(null),[i,S]=a.useState(null),[m,z]=a.useState(""),[r,I]=a.useState(1),d=6,[B,j]=a.useState(!1),[E,f]=a.useState(!1),[O,_]=a.useState(!1),[g,xe]=a.useState(null),N=a.useMemo(()=>c.filter(s=>{const C=t?s.date_edited.startsWith(t):!0,F=i?s.category===i:!0,Q=m?s.name.toLowerCase().includes(m.toLowerCase()):!0;return C&&F&&Q}),[c,t,i,m]),l=Math.ceil(N.length/d),k=a.useMemo(()=>{const s=(r-1)*d;return N.slice(s,s+d)},[r,N,d]),x=s=>{s>0&&s<=l&&I(s)},D=s=>{window.location.href=`/honorarium/individual-record/${s.id}`};return e.jsxs(G,{breadcrumbs:ce,children:[e.jsx(V,{title:"Honorarium Summary"}),e.jsxs("div",{className:"container mx-auto p-6 dark:bg-[#0a0a0a] min-h-screen",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Honorarium Summary"})}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-4 gap-4",children:[e.jsx(U,{placeholder:"Search by Program Name...",className:"w-full md:w-1/3",value:m,onChange:s=>z(s.target.value)}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Filter:"}),e.jsxs(P,{open:B,onOpenChange:j,children:[e.jsx(R,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:"w-[150px] justify-start text-left font-normal",children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),t??"All Years"]})}),e.jsx(A,{className:"w-[200px] p-0",align:"start",children:e.jsxs(H,{children:[e.jsx(L,{placeholder:"Search years..."}),e.jsxs(M,{children:[e.jsx(T,{children:"No year found."}),e.jsxs(Y,{children:[e.jsxs(p,{onSelect:()=>{n(null),j(!1)},children:[e.jsx(b,{className:v("mr-2 h-4 w-4",t===null?"opacity-100":"opacity-0")}),"All Years"]}),de(2020,2025).map(s=>e.jsxs(p,{onSelect:()=>{n(s.toString()),j(!1)},children:[e.jsx(b,{className:v("mr-2 h-4 w-4",t===s.toString()?"opacity-100":"opacity-0")}),s]},s))]})]})]})})]}),e.jsxs(P,{open:E,onOpenChange:f,children:[e.jsx(R,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:"w-[180px] justify-start text-left font-normal",children:[e.jsx(ie,{className:"mr-2 h-4 w-4"}),i??"All Programs"]})}),e.jsx(A,{className:"w-[200px] p-0",align:"start",children:e.jsxs(H,{children:[e.jsx(L,{placeholder:"Filter category..."}),e.jsxs(M,{children:[e.jsx(T,{children:"No category found."}),e.jsxs(Y,{children:[me.map(s=>e.jsxs(p,{onSelect:()=>{S(s),f(!1)},children:[e.jsx(b,{className:v("mr-2 h-4 w-4",i===s?"opacity-100":"opacity-0")}),s]},s)),e.jsx(p,{onSelect:()=>{S(null),f(!1)},className:"text-red-500",children:"Clear Filter"})]})]})]})})]})]})]}),e.jsx("div",{className:"rounded-md overflow-x-auto border border-border bg-white dark:bg-[#121212] p-2",children:e.jsxs(W,{className:"min-w-full text-sm",children:[e.jsx($,{children:e.jsxs(w,{children:[e.jsx(y,{className:"w-[60%] px-1 py-2",children:"Program"}),e.jsx(y,{className:"w-[20%] px-1 py-2 text-center",children:"Date Edited"}),e.jsx(y,{className:"w-[20%] text-center px-1 py-2",children:"Actions"})]})}),e.jsx(q,{children:k.length>0?k.map((s,C)=>e.jsxs(w,{className:"hover:bg-muted/50",children:[e.jsxs(h,{className:"flex items-center space-x-4 px-1 py-2",children:[e.jsx(J,{className:"h-10 w-10 flex-shrink-0 bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300",children:e.jsx(K,{children:s.program.charAt(0)})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.program})]})]}),e.jsx(h,{className:"px-1 py-2 text-center",children:s.date_edited}),e.jsx(h,{className:"px-1 py-2",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsxs(o,{variant:"outline",size:"sm",className:"rounded-md px-3 py-2 h-auto text-xs flex items-center gap-1",onClick:()=>D(s),children:[e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline-block",children:"View Records"})]}),e.jsx(o,{variant:"outline",size:"icon",className:"rounded-md h-auto p-2",onClick:()=>{window.location.href=route("honorarium-summary.download",s.id)},children:e.jsx(ae,{className:"w-4 h-4"})})]})})]},C)):e.jsx(w,{children:e.jsx(h,{colSpan:3,className:"h-24 text-center",children:"No results found."})})})]})}),l>1&&e.jsxs("div",{className:"mt-4 flex justify-end items-center space-x-2 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Page ",r," of ",l]}),e.jsx(o,{variant:"outline",size:"icon",onClick:()=>x(1),disabled:r===1,children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx(o,{variant:"outline",size:"icon",onClick:()=>x(r-1),disabled:r===1,children:e.jsx(oe,{className:"w-4 h-4"})}),e.jsx(o,{variant:"outline",size:"icon",onClick:()=>x(r+1),disabled:r===l,children:e.jsx(ne,{className:"w-4 h-4"})}),e.jsx(o,{variant:"outline",size:"icon",onClick:()=>x(l),disabled:r===l,children:e.jsx(re,{className:"w-4 h-4"})})]})]}),e.jsx(X,{show:O,onClose:()=>_(!1),record:g?{...g,payments:(g.payments??[]).map(s=>({...s,panelist_name:s.panelist_name??"",role:s.role??""}))}:null})]})}export{is as default};
