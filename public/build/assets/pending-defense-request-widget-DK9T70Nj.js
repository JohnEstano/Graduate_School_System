import{j as e}from"./app-BAKMM9W6.js";import{S as d}from"./skeleton-tKFykgei.js";import{G as v}from"./graduation-cap-CyBvkmsT.js";import{C as D}from"./chevron-right-DZ7e7qvM.js";import{c as S}from"./constructNow-Chb2L4Vx.js";import{g as M,e as z,n as _,b as y,d as j,f as N,h as p,a as w}from"./en-US-BA9orzCf.js";import{c as A,g as I}from"./getRoundingMethod-Btu-7J5l.js";import{p as O}from"./parseISO-CbXPh3Al.js";import"./utils-jAU0Cazi.js";import"./createLucideIcon-BSNBS9Xz.js";function R(l,n,s){const m=M(),t=(s==null?void 0:s.locale)??m.locale??z,i=A(l,n);if(isNaN(i))throw new RangeError("Invalid time value");const c=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:i}),[g,b]=_(s==null?void 0:s.in,...i>0?[n,l]:[l,n]),o=I((s==null?void 0:s.roundingMethod)??"round"),h=b.getTime()-g.getTime(),x=h/w,k=y(b)-y(g),f=(h-k)/w,u=s==null?void 0:s.unit;let r;if(u?r=u:x<1?r="second":x<60?r="minute":x<j?r="hour":f<N?r="day":f<p?r="month":r="year",r==="second"){const a=o(h/1e3);return t.formatDistance("xSeconds",a,c)}else if(r==="minute"){const a=o(x);return t.formatDistance("xMinutes",a,c)}else if(r==="hour"){const a=o(x/60);return t.formatDistance("xHours",a,c)}else if(r==="day"){const a=o(f/j);return t.formatDistance("xDays",a,c)}else if(r==="month"){const a=o(f/N);return a===12&&u!=="month"?t.formatDistance("xYears",1,c):t.formatDistance("xMonths",a,c)}else{const a=o(f/p);return t.formatDistance("xYears",a,c)}}function P(l,n){return R(l,S(l),n)}function T(l){const n=(l||"").trim();let s="cursor-pointer rounded-full px-2 py-1 border font-bold text-[10px] "+(n==="High"?"bg-rose-100 text-rose-700 border-rose-200 dark:bg-rose-950 dark:text-rose-300 dark:border-rose-900":n==="Low"?"bg-sky-100 text-sky-700 border-sky-200 dark:bg-sky-950 dark:text-sky-300 dark:border-sky-900":"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-950 dark:text-amber-300 dark:border-amber-900");return e.jsx("span",{className:s,children:n||"Medium"})}const W=({pendingRequests:l,loading:n=!1})=>{const s=n,m=l;return e.jsx("div",{className:"flex-1 border-sidebar-border/70 dark:border-sidebar-border rounded-xl border p-5 bg-white dark:bg-zinc-900 flex flex-col  min-h-[220px]",children:s?e.jsxs("div",{className:"flex flex-col gap-3 h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx(d,{className:"h-8 w-16 mb-2 bg-gray-100"}),e.jsx(d,{className:"h-4 w-32 bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-10 w-10 rounded-full bg-gray-100"}),e.jsx(d,{className:"h-6 w-6 rounded-full bg-gray-100"})]})]}),e.jsx(d,{className:"h-4 w-full mb-2 bg-gray-100"}),e.jsx("div",{className:"flex flex-col gap-2 mt-2",children:[...Array(3)].map((t,i)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-5 w-3/4 bg-gray-100"}),e.jsx(d,{className:"h-5 w-16 bg-gray-100"})]},i))})]}):e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:"/defense-requests",className:"flex items-center justify-between mb-2 group cursor-pointer select-none",style:{textDecoration:"none"},children:[e.jsx("div",{children:e.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Pending Defense Requests"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-flex items-center justify-center rounded-full bg-rose-500 p-2",children:e.jsx(v,{className:"size-6 text-white"})}),e.jsx(D,{className:"size-6 text-gray-400 transition-transform transition-colors duration-200 group-hover:text-rose-500 group-hover:translate-x-1"})]})]}),e.jsx("hr",{className:"my-2 border-gray-200 dark:border-gray-700"}),e.jsxs("div",{className:"overflow-x-auto",children:[m.length===0?e.jsx("div",{className:"text-xs text-muted-foreground text-center py-10",children:"No pending defense requests."}):e.jsxs("table",{className:"w-full text-xs table-fixed",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-gray-500 dark:text-gray-400",children:[e.jsx("th",{className:"text-left py-1 pr-2 w-2/5",children:"Thesis Title"}),e.jsx("th",{className:"text-left py-1 px-2 w-1/5",children:"Adviser"}),e.jsx("th",{className:"text-left py-1 px-2 w-1/5",children:"Presenter"}),e.jsx("th",{className:"text-center py-1 px-2 w-1/6",children:"Submitted"}),e.jsx("th",{className:"text-center py-1 pl-2 w-1/6",children:"Priority"})]})}),e.jsx("tbody",{children:m.slice(0,3).map((t,i)=>e.jsxs("tr",{className:` ${i%2===0?"bg-gray-50 dark:bg-zinc-800":"bg-white dark:bg-zinc-900"} hover:bg-rose-50 dark:hover:bg-rose-950`,children:[e.jsx("td",{className:"truncate py-2 pr-2 w-2/5 font-medium",children:t.thesis_title||e.jsx("span",{className:"text-gray-400",children:"N/A"})}),e.jsx("td",{className:"py-2 px-2 w-1/5",children:e.jsx("span",{className:"text-gray-400",children:"N/A"})}),e.jsx("td",{className:"py-2 px-2 w-1/5",children:`${t.first_name??""} ${t.last_name??""}`.trim()||e.jsx("span",{className:"text-gray-400",children:"N/A"})}),e.jsx("td",{className:"py-2 px-2 w-1/6 text-center",children:t.submitted_by?P(typeof t.submitted_by=="string"?O(t.submitted_by):t.submitted_by,{addSuffix:!0}):e.jsx("span",{className:"text-gray-400",children:"N/A"})}),e.jsx("td",{className:"py-2 pl-2 w-1/6 text-center",children:T(t.priority)})]},t.id))})]}),m.length>3&&e.jsxs("span",{className:"text-xs text-rose-500 mt-2 inline-block",children:["+",m.length-3," more"]})]})]})})};export{W as default};
