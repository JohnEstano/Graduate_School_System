import{r as u,j as e}from"./app-BDkuJsct.js";import{B as d}from"./badge-BJdX7_A9.js";import{S as j}from"./separator-DaKqQg6m.js";import{C as f}from"./chevron-down-DMxaecxw.js";import{B as g}from"./book-open-D0xLe0hN.js";import{H as p}from"./hourglass-BE6hGw0v.js";import{C as v}from"./circle-x-DUEw59KP.js";import{B as N}from"./badge-check-CeCr6JRP.js";import{f as b}from"./formatDistanceToNow-nFmhZNS9.js";import{f as c}from"./format-Cze4Gw5q.js";import"./index-B_a1aFVM.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./index-LRezjsDo.js";import"./index-BhbofC_p.js";import"./createLucideIcon-CEmaZ7tj.js";import"./constructNow-DDgVKswu.js";import"./differenceInCalendarMonths-BlVIDW-K.js";import"./endOfDay-Ci94Ylrd.js";import"./endOfMonth-DvPI_8Ds.js";function w(s){switch((s||"pending").toLowerCase()){case"approved":return e.jsxs(d,{className:"bg-green-100 text-green-700 border border-green-200 gap-1",children:[e.jsx(N,{size:14})," Approved"]});case"rejected":return e.jsxs(d,{className:"bg-rose-100 text-rose-700 border border-rose-200 gap-1",children:[e.jsx(v,{size:14})," Rejected"]});default:return e.jsxs(d,{className:"bg-gray-100 text-gray-700 border border-gray-200 gap-1",children:[e.jsx(p,{size:14})," Pending Review"]})}}function W({application:s}){var l;const[a,o]=u.useState(!1);function m(r){return r?/T.+(Z|[+-]\d{2}:\d{2})$/.test(r)?new Date(r):new Date(r.replace(" ","T")+"Z"):null}const t=s.subjects??[],i=(l=t[0])!=null&&l.date?new Date(t[0].date+"T00:00:00"):null,n=m(s.created_at),x=n?`Submitted ${b(n,{addSuffix:!0})}`:"";return e.jsxs("div",{className:"w-full",children:[e.jsxs("button",{type:"button",onClick:()=>o(r=>!r),className:"group flex w-full items-center gap-3 rounded-md  px-3 py-3 text-left transition hover:bg-rose-50",children:[e.jsx("div",{className:"shrink-0",children:w(s.status)}),e.jsx("div",{className:"hidden md:block flex-1 h-2 rounded-full bg-rose-100 overflow-hidden",children:e.jsx("div",{className:"h-full bg-rose-200"})}),e.jsxs("div",{className:"ml-auto flex items-center gap-2 text-xs text-muted-foreground",children:[x,e.jsx(f,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})]})]}),a&&e.jsxs("div",{className:"rounded-md p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-rose-50 border border-rose-200 p-2",children:e.jsx(g,{className:"h-5 w-5 text-rose-500"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs text-zinc-600",children:"Applicant"}),e.jsx("div",{className:"truncate text-sm font-semibold",children:`${s.first_name} ${s.middle_initial?s.middle_initial+". ":""}${s.last_name}`})]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx(d,{variant:"secondary",children:s.program}),e.jsx(d,{variant:"secondary",children:s.school_year}),i&&e.jsxs(d,{variant:"secondary",children:["First Exam: ",c(i,"PPP")]}),t.length>0&&e.jsxs(d,{variant:"secondary",children:[t.length," Subject",t.length>1?"s":""]})]}),e.jsx(j,{className:"my-4"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 text-xs text-zinc-600",children:"Contact"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",s.email||"—"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Mobile:"})," ",s.mobile_no||"—"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Telephone:"})," ",s.telephone_no||"—"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Office Address:"})," ",s.office_address||"—"]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 text-xs text-zinc-600",children:"Subjects & Schedule"}),t.length?e.jsx("div",{className:"space-y-2",children:t.map((r,h)=>e.jsx("div",{className:"flex w-full items-center justify-between rounded-lg border p-2 transition hover:bg-zinc-50",children:e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"truncate text-sm font-medium",children:r.subject}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[r.date?c(new Date(r.date),"PPP"):"—"," • ",r.startTime||"—"," - ",r.endTime||"—"]})]})},h))}):e.jsx("div",{className:"text-sm text-muted-foreground",children:"No subjects added."})]})]})]})]})}export{W as default};
