import{r as u,j as e}from"./app-OOvd0qGy.js";import{B as d}from"./badge-9siNCstt.js";import{S as j}from"./separator-Cye1ujSm.js";import{C as f}from"./chevron-down-CgfVHQYn.js";import{B as p}from"./book-open-zOvnsNoh.js";import{H as g}from"./hourglass-PkVD7duv.js";import{C as v}from"./circle-x-Cfzvg8iR.js";import{B as N}from"./badge-check-D9AtGDnO.js";import{f as b}from"./formatDistanceToNow-Bo4ytHt0.js";import{f as o}from"./format-HX8DKPSU.js";import"./index-ChOW5_O6.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./index-B9sjBiRz.js";import"./index-DQ9rqnvl.js";import"./createLucideIcon-Cvkj7Hkp.js";import"./constructNow-Chb2L4Vx.js";import"./en-US-BA9orzCf.js";import"./getRoundingMethod-Btu-7J5l.js";import"./differenceInCalendarMonths-HUNRrXGm.js";import"./endOfDay-UBg8OSOW.js";import"./endOfMonth-CK_ShA5m.js";function w(s){switch((s||"pending").toLowerCase()){case"approved":return e.jsxs(d,{className:"bg-green-100 text-green-700 border border-green-200 gap-1",children:[e.jsx(N,{size:14})," Approved"]});case"rejected":return e.jsxs(d,{className:"bg-rose-100 text-rose-700 border border-rose-200 gap-1",children:[e.jsx(v,{size:14})," Rejected"]});default:return e.jsxs(d,{className:"bg-gray-100 text-gray-700 border border-gray-200 gap-1",children:[e.jsx(g,{size:14})," Pending Review"]})}}function q({application:s}){var l;const[a,m]=u.useState(!1);function c(r){return r?/T.+(Z|[+-]\d{2}:\d{2})$/.test(r)?new Date(r):new Date(r.replace(" ","T")+"Z"):null}const t=s.subjects??[],i=(l=t[0])!=null&&l.date?new Date(t[0].date+"T00:00:00"):null,n=c(s.created_at),x=n?`Submitted ${b(n,{addSuffix:!0})}`:"";return e.jsxs("div",{className:"w-full",children:[e.jsxs("button",{type:"button",onClick:()=>m(r=>!r),className:"group flex w-full items-center gap-3 rounded-md  px-3 py-3 text-left transition hover:bg-rose-50",children:[e.jsx("div",{className:"shrink-0",children:w(s.status)}),e.jsx("div",{className:"hidden md:block flex-1 h-2 rounded-full bg-rose-100 overflow-hidden",children:e.jsx("div",{className:"h-full bg-rose-200"})}),e.jsxs("div",{className:"ml-auto flex items-center gap-2 text-xs text-muted-foreground",children:[x,e.jsx(f,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})]})]}),a&&e.jsxs("div",{className:"rounded-md p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-rose-50 border border-rose-200 p-2",children:e.jsx(p,{className:"h-5 w-5 text-rose-500"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs text-zinc-600",children:"Applicant"}),e.jsx("div",{className:"truncate text-sm font-semibold",children:`${s.first_name} ${s.middle_initial?s.middle_initial+". ":""}${s.last_name}`})]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx(d,{variant:"secondary",children:s.program}),e.jsx(d,{variant:"secondary",children:s.school_year}),i&&e.jsxs(d,{variant:"secondary",children:["First Exam: ",o(i,"PPP")]}),t.length>0&&e.jsxs(d,{variant:"secondary",children:[t.length," Subject",t.length>1?"s":""]})]}),e.jsx(j,{className:"my-4"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 text-xs text-zinc-600",children:"Contact"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",s.email||"—"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Mobile:"})," ",s.mobile_no||"—"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Telephone:"})," ",s.telephone_no||"—"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Office Address:"})," ",s.office_address||"—"]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 text-xs text-zinc-600",children:"Subjects & Schedule"}),t.length?e.jsx("div",{className:"space-y-2",children:t.map((r,h)=>e.jsx("div",{className:"flex w-full items-center justify-between rounded-lg border p-2 transition hover:bg-zinc-50",children:e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"truncate text-sm font-medium",children:r.subject}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[r.date?o(new Date(r.date),"PPP"):"—"," • ",r.startTime||"—"," - ",r.endTime||"—"]})]})},h))}):e.jsx("div",{className:"text-sm text-muted-foreground",children:"No subjects added."})]})]})]})]})}export{q as default};
