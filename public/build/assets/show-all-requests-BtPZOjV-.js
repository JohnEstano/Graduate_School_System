import{j as e,r as a,L as Ve,S as Q}from"./app-BFhJ_rhz.js";import{t as h,T as Je}from"./index-D_r1tZUC.js";import{B as n}from"./button-CKae6SRa.js";import{C as $,c as B}from"./card-DBC-Y-7_.js";import{C as Y}from"./checkbox-MXmJcexu.js";import{I as Ke}from"./input-BIzgsiDe.js";import{S as q}from"./separator-BY26pNcl.js";import Z from"./table-defense-requests-9MjE8ju9.js";import{D as ee,a as se,c as te,d as re}from"./dialog-D7W9x4ad.js";import{B as S}from"./badge-WiooCdVb.js";import{A as Ue,T as fe,a as We,b as ie,c as ne}from"./app-layout-DKWHuAKG.js";import{P as O,a as M,b as F,C as Ge}from"./calendar-XS_JVQYC.js";import{e as Qe}from"./endOfDay-UBg8OSOW.js";import{t as le}from"./en-US-BA9orzCf.js";import{S as ue}from"./signature-C4zF8XWa.js";import{c as Ce}from"./createLucideIcon-KZz7-iiu.js";import{C as je}from"./circle-x-DEwAB-7S.js";import{C as ge}from"./circle-check-big-B-7ETsgn.js";import{S as Ye}from"./search-BRnI7D0o.js";import{F as Ze}from"./filter-BQdaWQA_.js";import{C as ve}from"./circle-plus-Cb6CDunJ.js";import{X as L}from"./x-CnUa_NpO.js";import{C as es}from"./calendar-CgC1wT9Q.js";import{C as ss}from"./circle-arrow-left-DDPgs7Aa.js";import{T as ts}from"./trash-2-BT7H_eCO.js";import{P as rs}from"./printer-jY8gfb0T.js";import{s as ye,f as be}from"./format-HX8DKPSU.js";import"./index-BxKqTWPD.js";import"./index-XUnuFccv.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./index-DECR1Bfi.js";import"./index-Cts8AH-1.js";import"./index-C9pixpqP.js";import"./index-D4LukQ_D.js";import"./index-Bdmt_zOQ.js";import"./check-C9G5qvCx.js";import"./table-qP7NH3UJ.js";import"./dropdown-menu-ClRvripl.js";import"./index-C_D7lUP4.js";import"./floating-ui.react-dom-cBbMY6yK.js";import"./index-D0wd6wGz.js";import"./tooltip-I1_k_sJu.js";import"./chevrons-up-down-COq0GsTe.js";import"./file-text-DZ3MZZ0V.js";import"./formatDistanceToNowStrict-CG62KDbP.js";import"./constructNow-Chb2L4Vx.js";import"./getRoundingMethod-Btu-7J5l.js";import"./circle-alert-D1cIR00J.js";import"./index-B3ixvT_X.js";import"./chevron-right-DjSSbn5Y.js";import"./avatar-Hezgfi3W.js";import"./settings-HgSYffZJ.js";import"./graduation-cap-CXqZ0t7s.js";import"./dollar-sign-Du1oc25G.js";import"./users-DEbcMkR_.js";import"./credit-card-BiSsycVm.js";import"./info-C_dbFrPh.js";import"./sun-zhaV4S8O.js";import"./endOfWeek-QFyZPl43.js";import"./differenceInCalendarMonths-HUNRrXGm.js";import"./normalizeInterval-CdMCNNY-.js";import"./endOfMonth-CK_ShA5m.js";import"./isSameDay-DUlCFK42.js";import"./isSameMonth-CQd3m9St.js";import"./chevron-left-D0d8_kcB.js";import"./chevron-down-CFBjVW0P.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ns=Ce("Clock4",is);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],as=Ce("Settings2",ls);function os(d,m,i){const g=+le(d,i==null?void 0:i.in),[C,z]=[+le(m.start,i==null?void 0:i.in),+le(m.end,i==null?void 0:i.in)].sort((T,v)=>T-v);return g>=C&&g<=z}function cs({page:d,totalPages:m,onPageChange:i}){return e.jsxs("div",{className:"flex justify-between items-center gap-2 px-4 py-2",children:[e.jsxs("span",{className:"text-xs",children:["Page ",d," of ",m]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(n,{size:"sm",variant:"outline",disabled:d===1,onClick:()=>i(1),children:"«"}),e.jsx(n,{size:"sm",variant:"outline",disabled:d===1,onClick:()=>i(d-1),children:"‹"}),e.jsx(n,{size:"sm",variant:"outline",disabled:d===m,onClick:()=>i(d+1),children:"›"}),e.jsx(n,{size:"sm",variant:"outline",disabled:d===m,onClick:()=>i(m),children:"»"})]})]})}function Ne({defenseRequests:d,onStatusChange:m}){const[i,g]=a.useState({open:!1,id:null,action:null});function C(){const s=document.querySelector('meta[name="csrf-token"]');return(s==null?void 0:s.content)||""}const z=s=>s.map(t=>({...t,date_of_defense:t.date_of_defense||t.scheduled_date||void 0,mode_defense:t.mode_defense||t.defense_mode||void 0})),[T,v]=a.useState(z(d||[])),[P,we]=a.useState(""),[f,E]=a.useState([]),[u,I]=a.useState([]),[l,X]=a.useState(),[w,ke]=a.useState(null),[p,ae]=a.useState("pending"),[b,Se]=a.useState({pending:1,rejected:1,approved:1}),[Te,De]=a.useState({pending:[],rejected:[],approved:[]}),[x,oe]=a.useState({title:!0,presenter:!0,adviser:!0,submitted_at:!0,program:!0,date:!0,mode:!0,type:!0,priority:!0});function ce(s){return s==="pending"||s==="rejected"?{title:x.title,presenter:x.presenter,adviser:x.adviser,submitted_at:x.submitted_at,program:x.program,type:x.type,priority:x.priority}:x}const[_e,D]=a.useState(!1),[y,A]=a.useState(null),[qe,R]=a.useState(!1),[ze,de]=a.useState(!1),Pe=b[p],me=s=>Se(t=>({...t,[p]:s})),pe=a.useCallback(async()=>{de(!0);try{const s=await fetch("/coordinator/defense-requests/all-defense-requests");if(s.ok){const t=await s.json();v(z(t))}else h.error("Failed to fetch defense requests")}catch{h.error("Error fetching defense requests")}finally{de(!1)}},[]);a.useEffect(()=>{d||pe()},[pe,d]);const H=a.useMemo(()=>{let s=T;if(P){const t=P.toLowerCase();s=s.filter(r=>`${r.first_name} ${r.last_name} ${r.thesis_title}`.toLowerCase().includes(t))}if(f.length&&(s=s.filter(t=>t.priority&&f.includes(t.priority))),u.length&&(s=s.filter(t=>u.includes(t.defense_type))),l!=null&&l.from&&(l!=null&&l.to)){const t=ye(l.from),r=Qe(l.to);s=s.filter(o=>{if(!o.date_of_defense)return!1;const j=ye(new Date(o.date_of_defense));return os(j,{start:t,end:r})})}return s},[P,f,u,T,l]),V=a.useMemo(()=>w?[...H].sort((s,t)=>{const r=s.date_of_defense?new Date(s.date_of_defense).getTime():0,o=t.date_of_defense?new Date(t.date_of_defense).getTime():0;return w==="asc"?r-o:o-r}):H,[H,w]),N={pending:V.filter(s=>s.status==="Pending"),rejected:V.filter(s=>s.status==="Rejected"),approved:V.filter(s=>s.status==="Approved")},Ae=Math.max(1,Math.ceil(N[p].length/10)),k={pending:N.pending.slice((b.pending-1)*10,b.pending*10),rejected:N.rejected.slice((b.rejected-1)*10,b.rejected*10),approved:N.approved.slice((b.approved-1)*10,b.approved*10)},Re=N.pending.length,$e=N.rejected.length,Be=N.approved.length,c=Te[p]||[],_=s=>De(t=>({...t,[p]:s})),J=c.length===k[p].length&&k[p].length>0,he=()=>_(J?[]:k[p].map(s=>s.id)),xe=s=>_(c.includes(s)?c.filter(t=>t!==s):[...c,s]),K=()=>ke(s=>s==="asc"?"desc":s==="desc"?null:"asc"),Oe=s=>oe(t=>({...t,[s]:!t[s]})),Me=(s,t)=>{v(r=>r.map(o=>o.id===s?{...o,status:t}:o)),m==null||m(s,t)},Fe=async s=>{try{(await fetch("/defense-requests/bulk-status",{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":C(),Accept:"application/json"},body:JSON.stringify({ids:c,status:s})})).ok?(v(r=>r.map(o=>c.includes(o.id)?{...o,status:s}:o)),c.forEach(r=>Me(r,s)),_([]),h.success("Bulk updated")):h.error("Bulk update failed")}catch{h.error("Bulk update error")}},Le=async()=>{try{const s=await fetch("/defense-requests/bulk-remove",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":C(),Accept:"application/json"},body:JSON.stringify({ids:c})}),t=await s.json();s.ok?(v(r=>r.filter(o=>!c.includes(o.id))),_([]),h.success("Deleted")):h.error((t==null?void 0:t.error)||"Delete failed")}catch{h.error("Delete error")}};function U(s){A(s),D(!0)}const Ee=async()=>{if(!y||c.length===0){D(!1);return}let s="Pending";y==="approve"?s="Approved":y==="reject"?s="Rejected":y==="retrieve"&&(s="Pending"),await Fe(s),D(!1),A(null),h.success(`Updated to ${s}`)},W=async(s,t)=>{try{(await fetch(`/defense-requests/${s}/priority`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":C(),Accept:"application/json"},body:JSON.stringify({priority:t})})).ok?(v(o=>o.map(j=>j.id===s?{...j,priority:t}:j)),h.success("Priority updated")):h.error("Failed to update priority")}catch{h.error("Error updating priority")}};function Ie(){const s=T.filter(r=>c.includes(r.id)),t=window.open("","","height=900,width=1200");t&&(t.document.write(`
      <html>
        <head>
          <title>Print Selected</title>
          <style>
            body{font-family:Arial;padding:32px}
            h1{font-size:18px;margin:0 0 16px}
            table{border-collapse:collapse;width:100%}
            th,td{border:1px solid #ccc;padding:6px 8px;font-size:12px;text-align:left}
          </style>
        </head>
        <body>
          <h1>Defense Requests</h1>
          <table>
            <thead><tr><th>ID</th><th>Title</th><th>Presenter</th><th>Type</th><th>Priority</th><th>Status</th></tr></thead>
            <tbody>
              ${s.map(r=>`<tr>
                <td>${r.id}</td>
                <td>${r.thesis_title}</td>
                <td>${r.first_name} ${r.last_name}</td>
                <td>${r.defense_type}</td>
                <td>${r.priority}</td>
                <td>${r.status}</td>
              </tr>`).join("")}
            </tbody>
          </table>
          <script>window.print()<\/script>
        </body>
      </html>
    `),t.document.close())}const Xe=a.useCallback(async(s,t)=>{try{(await fetch(`/defense-requests/${s}/status`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":C(),Accept:"application/json"},body:JSON.stringify({status:t})})).ok?(v(o=>o.map(j=>j.id===s?{...j,status:t}:j)),m==null||m(s,t),h.success(`Request #${s} set to ${t}`)):h.error("Failed to update status")}catch{h.error("Error updating status")}},[m]);function G(s,t){g({open:!0,id:s,action:t})}async function He(){if(!i.id||!i.action){g({open:!1,id:null,action:null});return}let s="Pending";i.action==="approve"?s="Approved":i.action==="reject"?s="Rejected":i.action==="retrieve"&&(s="Pending"),await Xe(i.id,s),g({open:!1,id:null,action:null})}return e.jsxs("div",{className:"p-2 flex flex-col gap-2 min-h-screen bg-background overflow-x-hidden",children:[e.jsx(Ve,{title:"Defense Requests Management"}),e.jsx(Je,{richColors:!0,position:"bottom-right"}),e.jsx(ee,{open:i.open,onOpenChange:s=>{s||g({open:!1,id:null,action:null})},children:e.jsxs(se,{children:[e.jsx(te,{children:"Confirm Action"}),e.jsx(re,{children:i.action==="approve"?"Please review before approving.":"Apply this status change?"}),e.jsxs("div",{className:"mt-3 text-sm space-y-3",children:[i.id&&e.jsxs("p",{children:["Request #",i.id,": Set to"," ",e.jsx("span",{className:"font-semibold",children:i.action==="approve"?"Approved":i.action==="reject"?"Rejected":"Pending"}),"?"]}),i.action==="approve"&&e.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-md border bg-muted/40 p-5",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:e.jsx(ue,{className:"h-14 w-14 text-primary"})}),e.jsx("p",{className:"text-center text-sm leading-relaxed",children:"Approving this defense request authorizes the use of your signature on the official defense documents."})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(n,{variant:"ghost",onClick:()=>g({open:!1,id:null,action:null}),children:"Cancel"}),e.jsx(n,{onClick:He,children:"Confirm"})]})]})}),e.jsx(ee,{open:_e,onOpenChange:s=>{s||(D(!1),A(null))},children:e.jsxs(se,{children:[e.jsx(te,{children:"Status Update"}),e.jsx(re,{children:y==="approve"?"Review before bulk approval.":"Confirm the status change."}),e.jsxs("div",{className:"space-y-3 mt-2 text-sm",children:[e.jsxs("p",{children:["Update ",c.length," request",c.length!==1&&"s"," to"," ",e.jsx("span",{className:"font-semibold",children:y==="approve"?"Approved":y==="reject"?"Rejected":"Pending"}),"?"]}),y==="approve"&&e.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-md border bg-muted/40 p-5",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:e.jsx(ue,{className:"h-14 w-14 text-primary"})}),e.jsx("p",{className:"text-center text-sm leading-relaxed",children:"Approving these defense requests authorizes the use of your signature on their official defense documents."})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"ghost",onClick:()=>{D(!1),A(null)},children:"Cancel"}),e.jsx(n,{onClick:Ee,children:"Confirm"})]})]})]})}),e.jsx(ee,{open:qe,onOpenChange:R,children:e.jsxs(se,{children:[e.jsx(te,{children:"Delete Requests"}),e.jsx(re,{children:"This action cannot be undone."}),e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsxs("p",{className:"text-sm",children:["Delete ",c.length," selected request(s)?"]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"ghost",onClick:()=>R(!1),children:"Cancel"}),e.jsx(n,{variant:"destructive",onClick:async()=>{await Le(),R(!1)},children:"Delete"})]})]})]})}),e.jsxs($,{className:"flex flex-col border-none shadow-none p-0 flex-1 min-h-0",children:[" ",e.jsx("div",{className:"flex flex-wrap items-center",children:e.jsx(fe,{value:p,onValueChange:s=>ae(s),children:e.jsxs(We,{className:"gap-1 py-1",children:[" ",e.jsxs(ie,{value:"pending",children:[e.jsx(ns,{})," Pending ",e.jsx(S,{className:"ml-1",variant:"secondary",children:Re})]}),e.jsxs(ie,{value:"rejected",children:[e.jsx(je,{})," Rejected ",e.jsx(S,{className:"ml-1",variant:"secondary",children:$e})]}),e.jsxs(ie,{value:"approved",children:[e.jsx(ge,{})," Approved ",e.jsx(S,{className:"ml-1",variant:"secondary",children:Be})]})]})})}),e.jsxs(B,{className:"ps-0 pe-0 flex-1 flex flex-col min-h-0 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1 mt-0",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{placeholder:"Search...",value:P,onChange:s=>{we(s.target.value),me(1)},className:"pl-2 h-8 text-sm w-[210px]"}),e.jsx(Ye,{className:"absolute right-2 top-1.5 h-4 w-4 text-muted-foreground"})]}),e.jsx(q,{orientation:"vertical",className:"mx-1 h-5"})," ",e.jsx(Ze,{className:"h-4 w-4 text-zinc-900 dark:text-zinc-200"}),e.jsxs(O,{children:[e.jsx(M,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"rounded-md border-dashed text-xs h-8 px-3 flex items-center gap-1",children:[e.jsx(ve,{})," Priority",f.length>0&&e.jsx(S,{variant:"secondary",className:"ml-1 px-2 py-0.5 rounded-full text-xs",children:f.length>1?`${f.length} selected`:f[0]})]})}),e.jsxs(F,{className:"w-44 p-1",side:"bottom",align:"start",children:[["Low","Medium","High"].map(s=>e.jsxs("div",{onClick:()=>E(t=>t.includes(s)?t.filter(r=>r!==s):[...t,s]),className:"flex items-center gap-2 p-2 rounded hover:bg-muted cursor-pointer",children:[e.jsx(Y,{checked:f.includes(s)}),e.jsx("span",{className:"text-sm",children:s})]},s)),e.jsx(q,{className:"my-2"}),e.jsxs(n,{size:"sm",variant:"ghost",className:"w-full",onClick:()=>E([]),children:[e.jsx(L,{size:14})," Clear"]})]})]}),e.jsxs(O,{children:[e.jsx(M,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"rounded-md border-dashed text-xs h-8 px-3 flex items-center gap-1",children:[e.jsx(ve,{})," Type",u.length>0&&e.jsx(S,{variant:"secondary",className:"ml-1 px-2 py-0.5 rounded-full text-xs",children:u.length>1?`${u.length} selected`:u[0]})]})}),e.jsxs(F,{className:"w-44 p-1",side:"bottom",align:"start",children:[["Proposal","Prefinal","Final"].map(s=>e.jsxs("div",{onClick:()=>I(t=>t.includes(s)?t.filter(r=>r!==s):[...t,s]),className:"flex items-center gap-2 p-2 rounded hover:bg-muted cursor-pointer",children:[e.jsx(Y,{checked:u.includes(s)}),e.jsx("span",{className:"text-sm",children:s})]},s)),e.jsx(q,{className:"my-2"}),e.jsxs(n,{size:"sm",variant:"ghost",className:"w-full",onClick:()=>I([]),children:[e.jsx(L,{size:14})," Clear"]})]})]}),p==="approved"&&e.jsxs(O,{children:[e.jsx(M,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"rounded-md border-dashed text-xs h-8 px-3 flex items-center gap-1",children:[e.jsx(es,{size:14}),"Date",(l==null?void 0:l.from)&&(l==null?void 0:l.to)&&e.jsx(S,{variant:"secondary",className:"ml-1 px-2 py-0.5 rounded-full text-xs",children:`${be(l.from,"MMM dd")} - ${be(l.to,"MMM dd")}`})]})}),e.jsxs(F,{className:"w-auto p-2",side:"bottom",align:"start",children:[e.jsx(Ge,{mode:"range",selected:l,onSelect:X}),e.jsx(n,{size:"sm",variant:"ghost",className:"w-full mt-2",onClick:()=>X(void 0),children:"Clear Dates"})]})]}),(f.length>0||u.length>0||(l==null?void 0:l.from))&&e.jsxs(n,{variant:"ghost",size:"sm",className:"h-8 px-3 flex items-center gap-1",onClick:()=>{E([]),I([]),X(void 0)},children:[e.jsx(L,{size:14})," Reset"]})]}),e.jsxs(O,{children:[e.jsx(M,{asChild:!0,children:e.jsx(n,{variant:"outline",className:"rounded-md border-dashed text-xs h-8 px-3",children:e.jsx(as,{})})}),e.jsxs(F,{className:"w-52 p-1",side:"bottom",align:"end",children:[[{key:"title",label:"Title"},{key:"presenter",label:"Presenter"},{key:"adviser",label:"Adviser"},{key:"submitted_at",label:"Submitted"},{key:"program",label:"Program"},{key:"date",label:"Scheduled Date"},{key:"mode",label:"Mode"},{key:"type",label:"Type"},{key:"priority",label:"Priority"}].map(({key:s,label:t})=>e.jsxs("div",{onClick:()=>Oe(s),className:"flex items-center gap-2 p-2 rounded hover:bg-muted cursor-pointer",children:[e.jsx(Y,{checked:x[s]}),e.jsx("span",{className:"text-sm",children:t})]},s)),e.jsx(q,{className:"my-2"}),e.jsx(n,{size:"sm",variant:"ghost",className:"w-full",onClick:()=>oe({title:!0,presenter:!0,adviser:!0,submitted_at:!0,program:!0,date:!0,mode:!0,type:!0,priority:!0}),children:"Show all"})]})]})]}),c.length>0&&(p==="pending"||p==="rejected")&&e.jsxs("div",{className:"fixed left-1/2 z-30 -translate-x-1/2 bottom-4 md:bottom-6 flex items-center gap-1 bg-white border shadow-lg rounded-lg px-4 py-1 text-xs dark:bg-muted",children:[e.jsxs("span",{className:"font-semibold",children:[c.length," selected"]}),e.jsx(q,{orientation:"vertical",className:"h-5 mx-2"}),e.jsxs("div",{className:"flex gap-1",children:[p==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(n,{variant:"ghost",size:"icon",className:"h-7 w-auto px-2",onClick:()=>U("approve"),children:[e.jsx(ge,{size:14,className:"text-green-500"})," ",e.jsx("span",{className:"hidden sm:inline ml-1",children:"Approve"})]}),e.jsxs(n,{variant:"ghost",size:"icon",className:"h-7 w-auto px-2",onClick:()=>U("reject"),children:[e.jsx(je,{size:14,className:"text-red-500"})," ",e.jsx("span",{className:"hidden sm:inline ml-1",children:"Reject"})]})]}),p==="rejected"&&e.jsxs(n,{variant:"ghost",size:"icon",className:"h-7 w-auto px-2",onClick:()=>U("retrieve"),children:[e.jsx(ss,{size:14,className:"text-blue-500"})," ",e.jsx("span",{className:"hidden sm:inline ml-1",children:"Retrieve"})]}),e.jsx(n,{variant:"ghost",size:"icon",className:"h-7 w-auto px-2",onClick:()=>R(!0),children:e.jsx(ts,{size:14})}),e.jsx(n,{variant:"ghost",size:"icon",className:"h-7 w-auto px-2",onClick:Ie,children:e.jsx(rs,{size:14})}),e.jsx(n,{variant:"ghost",size:"icon",className:"h-7 w-auto px-2",onClick:()=>_([]),children:e.jsx(L,{size:14})})]})]}),ze?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading defense requests..."})]})}):e.jsxs(fe,{value:p,onValueChange:s=>ae(s),className:"w-full flex-1 flex flex-col min-h-0 overflow-hidden",children:[e.jsx(ne,{value:"pending",className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:e.jsx($,{className:"border-none shadow-none p-1 flex-1 flex flex-col min-h-0 overflow-hidden",children:e.jsx(B,{className:"ps-0 pe-0 flex-1 flex flex-col min-h-0 overflow-hidden",children:e.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:e.jsx(Z,{paged:k.pending,columns:ce("pending"),selected:c,toggleSelectOne:xe,headerChecked:J,toggleSelectAll:he,toggleSort:K,sortDir:w,onPriorityChange:W,tabType:"pending",onRowApprove:s=>G(s,"approve"),onRowReject:s=>G(s,"reject"),onViewDetails:s=>Q.visit(`/coordinator/defense-requests/${s}/details`)})})})})}),e.jsx(ne,{value:"rejected",className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:e.jsx($,{className:"border-none shadow-none p-1 flex-1 flex flex-col min-h-0",children:e.jsx(B,{className:"ps-0 pe-0 flex-1 flex flex-col min-h-0",children:e.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:e.jsx(Z,{paged:k.rejected,columns:ce("rejected"),selected:c,toggleSelectOne:xe,headerChecked:J,toggleSelectAll:he,toggleSort:K,sortDir:w,onPriorityChange:W,tabType:"rejected",onRowRetrieve:s=>G(s,"retrieve"),onViewDetails:s=>Q.visit(`/coordinator/defense-requests/${s}/details`)})})})})}),e.jsx(ne,{value:"approved",className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:e.jsx($,{className:"border-none shadow-none p-1 flex-1 flex flex-col min-h-0",children:e.jsx(B,{className:"ps-0 pe-0 flex-1 flex flex-col min-h-0",children:e.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:e.jsx(Z,{paged:k.approved,columns:{...x,progress:!0},selected:[],toggleSelectOne:()=>{},headerChecked:!1,toggleSelectAll:()=>{},toggleSort:K,sortDir:w,onPriorityChange:W,tabType:"approved",onViewDetails:s=>Q.visit(`/coordinator/defense-requests/${s}/details`),highlightMissingDateMode:!0,hideActions:!0,hideSelect:!0})})})})})]}),e.jsx(cs,{page:Pe,totalPages:Ae,onPageChange:me})]})]})]})}function Ct(d){if(d.withLayout){const m=[{title:"Dashboard",href:"/dashboard"},{title:"Defense Requests",href:"/defense-request"}];return e.jsx(Ue,{breadcrumbs:m,children:e.jsx(Ne,{...d})})}return e.jsx(Ne,{...d})}export{Ct as default};
