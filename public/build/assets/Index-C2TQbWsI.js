import{r as t,j as e,L as G}from"./app-BAKMM9W6.js";import{A as W}from"./app-layout-CHeZhPmm.js";import{B as o}from"./button-CVeIta7K.js";import{P as R,a as A,b as L}from"./popover-PrBd-iYP.js";import{C as T,e as Y,a as M,b as z,c as B,d as p}from"./command-4azl6iTd.js";import{T as q,a as J,b as w,c as y,d as K,e as h}from"./table-B43wWAfS.js";import{A as U,a as X}from"./avatar-BvAeIlgK.js";import{c as b}from"./utils-jAU0Cazi.js";import{S as Z,B as $}from"./search-input-Dkqs6kd0.js";import ee from"./record-modal-n8amk2dk.js";import{C as se}from"./calendar-X1sSFtzx.js";import{C as v}from"./check-DCZqiU_u.js";import{E as te}from"./eye-DUf5rf-n.js";import{D as ae}from"./download-DfuOgvsT.js";import{C as re,a as oe}from"./chevrons-right-CwQGBnq-.js";import{C as le}from"./chevron-left-E1732S1e.js";import{C as ne}from"./chevron-right-DZ7e7qvM.js";import"./index-CEqJL0NP.js";import"./index-DZZQifJx.js";import"./input-BRk-fvKd.js";import"./index-Chzm2fti.js";import"./index-CUQ5MhIm.js";import"./index-DScCZkqp.js";import"./x-BVoq4DiS.js";import"./createLucideIcon-BSNBS9Xz.js";import"./tooltip-B2Ch4P2D.js";import"./floating-ui.react-dom-CqLEll0E.js";import"./separator-LRfcwlAa.js";import"./index-BHprz6Pm.js";import"./dropdown-menu-D2EcCZ7C.js";import"./index-SVK1MPcU.js";import"./index-DUmeJSti.js";import"./index-C98k58Jz.js";import"./index-BqysFurs.js";import"./index-CEy3VqYv.js";import"./settings-CXr5fuO8.js";import"./graduation-cap-CyBvkmsT.js";import"./file-text-Bhi2OKUW.js";import"./dollar-sign-BZcFe5e9.js";import"./users-t5r6UxGv.js";import"./badge-dollar-sign-Ciqfzy1N.js";import"./send-CY1U2khq.js";import"./credit-card-DIRNAmsI.js";import"./tabs-DJFs2CDd.js";import"./badge-D0sAGNiG.js";import"./circle-check-big-wj1h3M4g.js";import"./info-D5wsL-jW.js";import"./sun-D0NfJtcj.js";import"./search-DuDncY0P.js";import"./dialog-Fyk91gvx.js";import"./proxy-DdjMGZgw.js";const ie=[{title:"Honorarium",href:"/honorarium"},{title:"Honorarium Summary",href:"/honorarium-summary"}],me=["Doctorate","Masters","Bachelors"];function ce(u,m){const a=[];for(let l=m;l>=u;l--)a.push(l);return a}function is({records:u=[]}){const[m]=t.useState(u),[a,l]=t.useState(null),[i,S]=t.useState(null),[c,E]=t.useState(""),[r,H]=t.useState(1),d=6,[I,j]=t.useState(!1),[O,f]=t.useState(!1),[D,P]=t.useState(!1),[g,F]=t.useState(null),N=t.useMemo(()=>m.filter(s=>{const C=a?s.date_edited.startsWith(a):!0,Q=i?s.category===i:!0,V=c?s.name.toLowerCase().includes(c.toLowerCase()):!0;return C&&Q&&V}),[m,a,i,c]),n=Math.ceil(N.length/d),k=t.useMemo(()=>{const s=(r-1)*d;return N.slice(s,s+d)},[r,N,d]),x=s=>{s>0&&s<=n&&H(s)},_=s=>{F(s),P(!0)};return e.jsxs(W,{breadcrumbs:ie,children:[e.jsx(G,{title:"Honorarium Summary"}),e.jsxs("div",{className:"container mx-auto p-6 dark:bg-[#0a0a0a] min-h-screen",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Honorarium Summary"})}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-4 gap-4",children:[e.jsx(Z,{placeholder:"Search by Program Name...",className:"w-full md:w-1/3",value:c,onChange:s=>E(s.target.value)}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Filter:"}),e.jsxs(R,{open:I,onOpenChange:j,children:[e.jsx(A,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:"w-[150px] justify-start text-left font-normal",children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),a??"All Years"]})}),e.jsx(L,{className:"w-[200px] p-0",align:"start",children:e.jsxs(T,{children:[e.jsx(Y,{placeholder:"Search years..."}),e.jsxs(M,{children:[e.jsx(z,{children:"No year found."}),e.jsxs(B,{children:[e.jsxs(p,{onSelect:()=>{l(null),j(!1)},children:[e.jsx(v,{className:b("mr-2 h-4 w-4",a===null?"opacity-100":"opacity-0")}),"All Years"]}),ce(2020,2025).map(s=>e.jsxs(p,{onSelect:()=>{l(s.toString()),j(!1)},children:[e.jsx(v,{className:b("mr-2 h-4 w-4",a===s.toString()?"opacity-100":"opacity-0")}),s]},s))]})]})]})})]}),e.jsxs(R,{open:O,onOpenChange:f,children:[e.jsx(A,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:"w-[180px] justify-start text-left font-normal",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),i??"All Programs"]})}),e.jsx(L,{className:"w-[200px] p-0",align:"start",children:e.jsxs(T,{children:[e.jsx(Y,{placeholder:"Filter category..."}),e.jsxs(M,{children:[e.jsx(z,{children:"No category found."}),e.jsxs(B,{children:[me.map(s=>e.jsxs(p,{onSelect:()=>{S(s),f(!1)},children:[e.jsx(v,{className:b("mr-2 h-4 w-4",i===s?"opacity-100":"opacity-0")}),s]},s)),e.jsx(p,{onSelect:()=>{S(null),f(!1)},className:"text-red-500",children:"Clear Filter"})]})]})]})})]})]})]}),e.jsx("div",{className:"rounded-md overflow-x-auto border border-border bg-white dark:bg-[#121212] p-2",children:e.jsxs(q,{className:"min-w-full text-sm",children:[e.jsx(J,{children:e.jsxs(w,{children:[e.jsx(y,{className:"w-[60%] px-1 py-2",children:"Program"}),e.jsx(y,{className:"w-[20%] px-1 py-2 text-center",children:"Date Edited"}),e.jsx(y,{className:"w-[20%] text-center px-1 py-2",children:"Actions"})]})}),e.jsx(K,{children:k.length>0?k.map((s,C)=>e.jsxs(w,{className:"hover:bg-muted/50",children:[e.jsxs(h,{className:"flex items-center space-x-4 px-1 py-2",children:[e.jsx(U,{className:"h-10 w-10 flex-shrink-0 bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300",children:e.jsx(X,{children:s.program.charAt(0)})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.program})]})]}),e.jsx(h,{className:"px-1 py-2 text-center",children:s.date_edited}),e.jsx(h,{className:"px-1 py-2",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsxs(o,{variant:"outline",size:"sm",className:"rounded-md px-3 py-2 h-auto text-xs flex items-center gap-1",onClick:()=>_(s),children:[e.jsx(te,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline-block",children:"View Records"})]}),e.jsx(o,{variant:"outline",size:"icon",className:"rounded-md h-auto p-2",onClick:()=>{window.location.href=route("honorarium-summary.download",s.id)},children:e.jsx(ae,{className:"w-4 h-4"})})]})})]},C)):e.jsx(w,{children:e.jsx(h,{colSpan:3,className:"h-24 text-center",children:"No results found."})})})]})}),n>1&&e.jsxs("div",{className:"mt-4 flex justify-end items-center space-x-2 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Page ",r," of ",n]}),e.jsx(o,{variant:"outline",size:"icon",onClick:()=>x(1),disabled:r===1,children:e.jsx(re,{className:"w-4 h-4"})}),e.jsx(o,{variant:"outline",size:"icon",onClick:()=>x(r-1),disabled:r===1,children:e.jsx(le,{className:"w-4 h-4"})}),e.jsx(o,{variant:"outline",size:"icon",onClick:()=>x(r+1),disabled:r===n,children:e.jsx(ne,{className:"w-4 h-4"})}),e.jsx(o,{variant:"outline",size:"icon",onClick:()=>x(n),disabled:r===n,children:e.jsx(oe,{className:"w-4 h-4"})})]})]}),e.jsx(ee,{show:D,onClose:()=>P(!1),record:g?{...g,payments:(g.payments??[]).map(s=>({...s,panelist_name:s.panelist_name??"",role:s.role??""}))}:null})]})}export{is as default};
