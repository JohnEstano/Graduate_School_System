import{r as a,j as t,L as d}from"./app-c5ij2Uy8.js";import{A as g}from"./app-layout-CoKXZjt7.js";import{S as u}from"./layout-C_RF5Ji6.js";import{H as x}from"./heading-small-biE9tSn4.js";import{B as f}from"./button-Bw6OnloJ.js";import"./index-C6aQ0K-7.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./input-CzpjdScL.js";import"./index-DMzRbVW9.js";import"./index-DQWsGEEw.js";import"./index-CQBUWWAm.js";import"./x-b-iKzdpp.js";import"./createLucideIcon-QXbACLHs.js";import"./tooltip-83sBEdgp.js";import"./floating-ui.react-dom-Dei2gU0X.js";import"./separator-D3p5J1Rh.js";import"./index-B09PGLNS.js";import"./chevron-right-Ck80R1L5.js";import"./dropdown-menu-BwXzysW_.js";import"./index-CV-6as2J.js";import"./index-bpbdPemA.js";import"./index-k7YYal9B.js";import"./settings-DxBpoil_.js";import"./chevrons-up-down-D9rV0uwe.js";import"./file-text-DKQ02F9u.js";import"./graduation-cap-tQeZTHqc.js";import"./users-pq8v5pDb.js";import"./credit-card-Dc2ElWmq.js";import"./badge-B7RMVcXi.js";import"./circle-check-big-REqj7tp6.js";import"./info-DAOKqyYD.js";const h=[{title:"E‑Signatures",href:"/settings/signatures"}];function W(){const[s,m]=a.useState([]),[p,r]=a.useState(!1);async function e(){const i=await fetch("/api/signatures");i.ok&&m(await i.json())}a.useEffect(()=>{e()},[]);async function c(i){var n;if(!((n=i.target.files)!=null&&n[0]))return;r(!0);const o=new FormData;o.append("image",i.target.files[0]),await fetch("/api/signatures",{method:"POST",body:o}),r(!1),e()}async function l(i){await fetch(`/api/signatures/${i}/activate`,{method:"PATCH"}),e()}return t.jsxs(g,{breadcrumbs:h,children:[t.jsx(d,{title:"E‑Signatures"}),t.jsx(u,{children:t.jsxs("div",{className:"space-y-10",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx(x,{title:"E‑Signatures",description:"Upload and select your active signature image."}),t.jsxs("div",{children:[t.jsx("input",{type:"file",accept:"image/png",onChange:c}),p&&t.jsx("span",{className:"ml-2 text-sm",children:"Uploading..."}),t.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Upload transparent PNG (max 1MB)."})]})]}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[s.map(i=>t.jsxs("div",{className:`border rounded p-3 flex flex-col items-center gap-2 bg-white ${i.active?"ring-2 ring-green-500":""}`,children:[t.jsx("img",{src:`/storage/${i.image_path}`,className:"max-h-24 object-contain"}),t.jsx(f,{size:"sm",variant:i.active?"secondary":"default",onClick:()=>l(i.id),children:i.active?"Active":"Set Active"})]},i.id)),!s.length&&t.jsx("p",{className:"text-sm col-span-full",children:"No signatures."})]})]})})]})}export{W as default};
