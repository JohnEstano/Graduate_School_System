import{r as l,j as e}from"./app-BubHmeqC.js";import{D as N,a as v,e as I,b as B,c as L,f as C}from"./dialog-ywfV6j7b.js";import{B as r}from"./button-CX84Ig4W.js";import{I as P}from"./input-y4wBi6jo.js";import{L as i}from"./label-D3c8d3nH.js";import{S as D,a as y,b as w,c as S,e as n}from"./select-wHGTrFCR.js";import{P as R,a as Y,b as H}from"./popover-DbNLJDwL.js";import{C as O}from"./calendar-1djviplC.js";import{c as K}from"./utils-jAU0Cazi.js";import{A as $,a as q,b as z}from"./alert-BEYaKx-T.js";import{C as G}from"./calendar-B4x-YT-4.js";import{f as b}from"./format-HX8DKPSU.js";import"./index-Bsel9b7o.js";import"./index-PQN_369Y.js";import"./index-CAAZlwhj.js";import"./index-DyQT7xcZ.js";import"./x-DS6n0ElR.js";import"./createLucideIcon-Biu-y2hB.js";import"./index-DZZQifJx.js";import"./index-6aAr3Pmv.js";import"./index-CVQNv_Nf.js";import"./index-CBu7v5lz.js";import"./index-1EFpZ92o.js";import"./floating-ui.react-dom-DwEbxQiH.js";import"./index-dLIx9e4I.js";import"./chevron-down-2lGOOBZZ.js";import"./check-CZ9c_sEg.js";import"./en-US-BA9orzCf.js";import"./endOfWeek-QFyZPl43.js";import"./differenceInCalendarMonths-HUNRrXGm.js";import"./normalizeInterval-CdMCNNY-.js";import"./endOfMonth-CK_ShA5m.js";import"./isSameDay-DUlCFK42.js";import"./isSameMonth-CQd3m9St.js";import"./chevron-left-BtmPIa6j.js";import"./chevron-right-BRo8ahWW.js";const x={panelistName:"",role:"Member",defenseType:"Proposal",receivedDate:"",amount:450};function Ae({show:m,onClose:u,onAddPanelist:F}){const[s,p]=l.useState(x),[t,h]=l.useState(void 0),[A,o]=l.useState(!1),[g,c]=l.useState(!1);l.useEffect(()=>{m||(p(x),h(void 0),o(!1))},[m]);const d=(a,M)=>{p(V=>({...V,[a]:M})),o(!0)},j=a=>{h(a),o(!0)},f=()=>{A?c(!0):u()},T=()=>{u(),c(!1)},k=()=>{if(!s.panelistName||!t||s.amount<=0)return;const a={...s,receivedDate:t?b(t,"PPP"):""};F(a),p(x),h(void 0),o(!1)},E=!s.panelistName||!t||s.amount<=0;return e.jsxs(e.Fragment,{children:[e.jsx(N,{open:m,onOpenChange:f,children:e.jsxs(v,{className:"max-w-3xl min-w-150 w-full max-h-[90vh]",children:[e.jsxs(I,{children:[e.jsx(B,{children:"Add New Panelist"}),e.jsx(L,{children:"Enter the details for the new panelist. Click save when you're done."})]}),e.jsx("div",{className:"max-h-[80vh] overflow-y-auto px-1",children:e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(i,{htmlFor:"panelistName",className:"text-right",children:"Name"}),e.jsx(P,{id:"panelistName",value:s.panelistName,onChange:a=>d("panelistName",a.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(i,{htmlFor:"role",className:"text-right",children:"Role"}),e.jsxs(D,{onValueChange:a=>d("role",a),defaultValue:s.role,children:[e.jsx(y,{className:"col-span-3",children:e.jsx(w,{placeholder:"Select a role"})}),e.jsxs(S,{children:[e.jsx(n,{value:"Chair",children:"Chair"}),e.jsx(n,{value:"Member",children:"Member"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(i,{htmlFor:"defenseType",className:"text-right",children:"Defense Type"}),e.jsxs(D,{onValueChange:a=>d("defenseType",a),defaultValue:s.defenseType,children:[e.jsx(y,{className:"col-span-3",children:e.jsx(w,{placeholder:"Select a defense type"})}),e.jsxs(S,{children:[e.jsx(n,{value:"Proposal",children:"Proposal"}),e.jsx(n,{value:"Pre-final",children:"Pre-final"}),e.jsx(n,{value:"Final",children:"Final"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(i,{htmlFor:"receivedDate",className:"text-right",children:"Received Date"}),e.jsxs(R,{children:[e.jsx(Y,{asChild:!0,children:e.jsxs(r,{variant:"outline",className:K("col-span-3 justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),t?b(t,"PPP"):e.jsx("span",{children:"Pick a date"})]})}),e.jsxs(H,{className:"w-auto p-0",align:"start",children:[e.jsx(O,{mode:"single",selected:t,onSelect:j,initialFocus:!0,captionLayout:"dropdown",fromYear:1900,toYear:2100}),e.jsx("div",{className:"p-2",children:e.jsx(r,{variant:"ghost",onClick:()=>j(void 0),className:"w-full",children:"Clear"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(i,{htmlFor:"amount",className:"text-right",children:"Amount"}),e.jsx(P,{id:"amount",type:"number",value:s.amount,onChange:a=>d("amount",parseFloat(a.target.value)),className:"col-span-3"})]})]})}),e.jsxs(C,{children:[e.jsx(r,{onClick:f,variant:"ghost",className:"rounded-md px-3 py-2 h-auto text-xs",children:"Cancel"}),e.jsx(r,{onClick:k,disabled:E,className:"rounded-md px-3 py-2 h-auto text-xs",children:"Save Panelist"})]})]})}),g&&e.jsx(N,{open:g,onOpenChange:c,children:e.jsxs(v,{className:"max-w-md",children:[e.jsxs($,{className:"border-0 p-0",children:[e.jsx(q,{children:"Discard changes?"}),e.jsx(z,{children:"Are you sure you want to discard your changes? Your unsaved changes will be lost."})]}),e.jsxs(C,{className:"mt-4",children:[e.jsx(r,{onClick:()=>c(!1),variant:"ghost",className:"rounded-md px-3 py-2 h-auto text-xs",children:"Keep Editing"}),e.jsx(r,{onClick:T,className:"rounded-md px-3 py-2 h-auto text-xs",children:"Discard"})]})]})})]})}export{Ae as default};
