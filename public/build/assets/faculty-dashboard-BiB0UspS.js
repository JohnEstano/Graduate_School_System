import{K as j,r as s,j as e}from"./app-c5ij2Uy8.js";import w from"./reminders-widget-BdkcxMQ_.js";import b from"./upcomming-schedules-widget-DluQHeRx.js";import D from"./weekly-defense-schedule-widget-FcVgnzbC.js";import S from"./quick-actions-widget-CIWsSLl7.js";import N from"./immediate-action-defense-requests-widget-DSmgf-oh.js";import{S as k,M as q}from"./sun-C9b2snPL.js";import"./skeleton-CGx7kAgr.js";import"./utils-jAU0Cazi.js";import"./graduation-cap-tQeZTHqc.js";import"./createLucideIcon-QXbACLHs.js";import"./calendar-2wm08bbg.js";import"./format-C3S3_MiX.js";import"./isSameDay-BpBRZswP.js";import"./parseISO-Dx9MyA3S.js";import"./tooltip-83sBEdgp.js";import"./index-DQWsGEEw.js";import"./index-C6aQ0K-7.js";import"./floating-ui.react-dom-Dei2gU0X.js";import"./receipt-Cb46pmdQ.js";import"./settings-DxBpoil_.js";import"./file-text-DKQ02F9u.js";import"./chevron-right-Ck80R1L5.js";function R(){return new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}function W(){const t=new Date().getHours();return t>=6&&t<18}function $(){const{auth:{user:t}}=j().props,[o,n]=s.useState([]),[m,c]=s.useState([]),[d,x]=s.useState([]),[l,p]=s.useState(!0),[u,f]=s.useState(new Date().getDay()),g=[{label:"Sun",value:0},{label:"Mon",value:1},{label:"Tue",value:2},{label:"Wed",value:3},{label:"Thu",value:4},{label:"Fri",value:5},{label:"Sat",value:6}];return s.useEffect(()=>{fetch("/adviser/defense-requests",{headers:{Accept:"application/json"}}).then(a=>a.json()).then(a=>{const r=a&&a.items?a.items:[];n(r);const h=r.filter(i=>{const y=(i.workflow_state||"").toLowerCase();return["","submitted","pending","adviser-pending","adviser-review"].includes(y)});c(h);const v=new Date().toISOString().slice(0,10);x(r.filter(i=>i.scheduled_date===v))}).catch(()=>{}).finally(()=>p(!1))},[]),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-auto rounded-xl pt-5",children:[e.jsxs("div",{className:"mb-8 mt-3 flex flex-row justify-between items-center relative overflow-hidden",style:{minHeight:"120px"},children:[e.jsxs("div",{className:"flex flex-col pr-8 pl-7",children:[e.jsxs("span",{className:"flex items-center text-xs font-semibold text-gray-700 dark:text-gray-200 mb-1 relative z-10",children:[W()?e.jsx(k,{className:"mr-1 size-4 text-yellow-500"}):e.jsx(q,{className:"mr-1 size-4 text-blue-500"}),R()]}),e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white relative z-10",children:["Hi, ",t==null?void 0:t.name,"!"]}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 relative z-10",children:(t==null?void 0:t.role)??"Faculty"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-12 w-px mx-4 bg-gray-300 dark:bg-gray-700 opacity-60"}),e.jsx(S,{})]})]}),e.jsxs("div",{className:"flex flex-col gap-6 bg-gray-100 ms-4 me-4 rounded-xl mt-2 mb-2 px-5 py-8 dark:bg-zinc-900",children:[e.jsxs("div",{className:"w-full mb-2 flex flex-col md:flex-row gap-4",children:[e.jsx(N,{requests:m,loading:l}),e.jsx(D,{weekDays:g,selectedDay:u,setSelectedDay:f,approvedDefenses:o,referenceDate:new Date,loading:l})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(w,{}),e.jsx(b,{loading:l,todayEvents:d})]})]})]})}export{$ as default};
