import{r as x,j as e}from"./app-BDkuJsct.js";import{B as s}from"./badge-BJdX7_A9.js";import{S as p}from"./separator-DaKqQg6m.js";import{f as h}from"./formatDistanceToNow-nFmhZNS9.js";import{C as u}from"./chevron-down-DMxaecxw.js";import{c}from"./createLucideIcon-CEmaZ7tj.js";import{C as f}from"./clock-BykI6stH.js";import{C as g}from"./circle-x-DUEw59KP.js";import{B as j}from"./badge-check-CeCr6JRP.js";import{f as o}from"./format-Cze4Gw5q.js";import"./index-B_a1aFVM.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./index-LRezjsDo.js";import"./index-BhbofC_p.js";import"./constructNow-DDgVKswu.js";import"./differenceInCalendarMonths-BlVIDW-K.js";import"./endOfDay-Ci94Ylrd.js";import"./endOfMonth-DvPI_8Ds.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],N=c("ExternalLink",v);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],w=c("HandCoins",b);function k(r){switch((r||"pending").toLowerCase()){case"approved":return e.jsxs(s,{className:"bg-green-100 text-green-700 border border-green-200 gap-1",children:[e.jsx(j,{size:14})," Approved"]});case"rejected":return e.jsxs(s,{className:"bg-rose-100 text-rose-700 border border-rose-200 gap-1",children:[e.jsx(g,{size:14})," Rejected"]});default:return e.jsxs(s,{className:"bg-gray-100 text-gray-700 border border-gray-200 gap-1",children:[e.jsx(f,{size:14})," Pending Review"]})}}function y(r){return r?/T.+(Z|[+-]\d{2}:\d{2})$/.test(r)?new Date(r):new Date(r.replace(" ","T")+"Z"):null}function O({payment:r,student:t}){const[d,l]=x.useState(!1),n=y(r.created_at||r.payment_date),m=n?`Submitted ${h(n,{addSuffix:!0})}`:"",a=(()=>{const i=(r.status||"pending").toLowerCase();return i==="approved"?{wrap:"bg-rose-100 ring-1 ring-rose-200/60",fill:"bg-rose-500",width:"100%"}:i==="rejected"?{wrap:"bg-rose-100 ring-1 ring-rose-200/60",fill:"bg-rose-400",width:"24%"}:{wrap:"bg-rose-100 ring-1 ring-rose-200/60",fill:"bg-rose-300",width:"66%"}})();return e.jsxs("div",{className:"w-full",children:[e.jsxs("button",{type:"button",onClick:()=>l(i=>!i),className:"group flex w-full items-center gap-3 rounded-md px-3 py-3 text-left transition hover:bg-rose-50",children:[e.jsx("div",{className:"shrink-0",children:k(r.status)}),e.jsx("div",{className:`hidden md:block flex-1 h-2 rounded-full overflow-hidden ${a.wrap}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":a.width==="100%"?100:a.width==="66%"?66:24,"data-status":r.status,children:e.jsx("div",{className:`h-full ${a.fill} transition-all duration-500 ease-out`,style:{width:a.width}})}),e.jsxs("div",{className:"ml-auto flex items-center gap-2 text-xs text-muted-foreground",children:[m,e.jsx(u,{className:`h-4 w-4 transition-transform ${d?"rotate-180":""}`})]})]}),d&&e.jsxs("div",{className:"mt-3 rounded-md p-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-rose-50 border border-rose-200 p-2",children:e.jsx(w,{className:"h-5 w-5 text-rose-500"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs text-zinc-600",children:"Student"}),e.jsx("div",{className:"truncate text-sm font-semibold",children:t.name})]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[t.program&&e.jsx(s,{variant:"secondary",children:t.program}),e.jsx(s,{variant:"secondary",children:r.status[0].toUpperCase()+r.status.slice(1)}),e.jsxs(s,{variant:"secondary",children:["Paid: ",o(new Date(r.payment_date+"T00:00:00"),"PPP")]})]}),e.jsx(p,{className:"my-4"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 text-xs text-zinc-600",children:"Payment Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"OR Number:"})," ",r.or_number||"â€”"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Payment Date:"})," ",o(new Date(r.payment_date+"T00:00:00"),"PPP")]}),r.remarks&&e.jsxs("div",{className:"rounded-md border border-slate-200 p-2",children:[e.jsx("span",{className:"font-medium",children:"Remarks:"})," ",r.remarks]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 text-xs text-zinc-600",children:"Receipt"}),r.receipt_image?e.jsxs("a",{className:"inline-flex items-center gap-1 text-primary-600 underline hover:no-underline text-sm",href:`/storage/${r.receipt_image}`,target:"_blank",rel:"noreferrer",children:["View receipt ",e.jsx(N,{className:"h-4 w-4"})]}):e.jsx("div",{className:"text-sm text-muted-foreground",children:"No receipt uploaded."})]})]})]})]})}export{O as default};
