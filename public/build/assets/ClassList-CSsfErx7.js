import{r as l,j as e,L as y}from"./app-c5ij2Uy8.js";import{A as b}from"./app-layout-CoKXZjt7.js";import"./index-C6aQ0K-7.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./button-Bw6OnloJ.js";import"./input-CzpjdScL.js";import"./index-DMzRbVW9.js";import"./index-DQWsGEEw.js";import"./index-CQBUWWAm.js";import"./x-b-iKzdpp.js";import"./createLucideIcon-QXbACLHs.js";import"./tooltip-83sBEdgp.js";import"./floating-ui.react-dom-Dei2gU0X.js";import"./separator-D3p5J1Rh.js";import"./index-B09PGLNS.js";import"./chevron-right-Ck80R1L5.js";import"./dropdown-menu-BwXzysW_.js";import"./index-CV-6as2J.js";import"./index-bpbdPemA.js";import"./index-k7YYal9B.js";import"./settings-DxBpoil_.js";import"./chevrons-up-down-D9rV0uwe.js";import"./file-text-DKQ02F9u.js";import"./graduation-cap-tQeZTHqc.js";import"./users-pq8v5pDb.js";import"./credit-card-Dc2ElWmq.js";import"./badge-B7RMVcXi.js";import"./circle-check-big-REqj7tp6.js";import"./info-DAOKqyYD.js";function V(){const[d,n]=l.useState([]),[p,x]=l.useState([]),[f,o]=l.useState(null),[h,u]=l.useState(null),[a,c]=l.useState(!0),[m,i]=l.useState(null);return l.useEffect(()=>{let t=!0;return fetch("/legacy/faculty/class-list").then(s=>s.json()).then(s=>{t&&(s.error&&i(s.error),n(s.rows||[]),x(s.periods||[]),o(s.selected_period_id||null),u(s.short_period_label||null))}).catch(s=>i(s.message)).finally(()=>t&&c(!1)),()=>{t=!1}},[]),e.jsxs(b,{breadcrumbs:[{title:"Faculty Class List",href:"/faculty/class-list"}],children:[e.jsx(y,{title:"Class List"}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Instructor Class List"}),a&&e.jsx("div",{className:"text-sm text-gray-500",children:"Loading class list..."}),!a&&p.length>0&&e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Semester / Period"}),e.jsxs("select",{className:"rounded border border-gray-300 bg-white px-2 py-1 text-sm dark:bg-zinc-900 dark:border-zinc-700",value:f||"",onChange:t=>{const s=t.target.value;o(s),c(!0),fetch(`/legacy/faculty/class-list?period_id=${s}`).then(r=>r.json()).then(r=>{n(r.rows||[]),x(r.periods||[]),o(r.selected_period_id||s),u(r.short_period_label||null),r.error?i(r.error):i(null)}).catch(r=>i(r.message)).finally(()=>c(!1))},children:[e.jsx("option",{value:"",disabled:!0,children:"Select Period"}),p.map(t=>e.jsx("option",{value:t.id,children:t.label},t.id))]})]}),h&&e.jsx("div",{className:"rounded bg-pink-50 dark:bg-pink-950/30 px-3 py-2 text-sm font-medium text-pink-700 dark:text-pink-300",children:h})]}),m&&e.jsx("div",{className:"text-sm text-red-600",children:m}),!a&&!m&&d.length===0&&e.jsx("div",{className:"text-sm text-gray-500",children:"No classes found."}),!a&&d.length>0&&e.jsx("div",{className:"overflow-auto rounded border border-gray-200 dark:border-gray-700",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"#"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Course Code"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Course Title"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Type"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Size"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Load"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Section"})]})}),e.jsx("tbody",{children:d.map(t=>e.jsxs("tr",{className:"border-t border-gray-100 dark:border-gray-700",children:[e.jsx("td",{className:"px-3 py-2",children:t.number}),e.jsx("td",{className:"px-3 py-2 font-mono",children:t.course_code}),e.jsx("td",{className:"px-3 py-2",children:t.course_title}),e.jsx("td",{className:"px-3 py-2",children:t.type}),e.jsx("td",{className:"px-3 py-2",children:t.size}),e.jsx("td",{className:"px-3 py-2",children:t.load}),e.jsx("td",{className:"px-3 py-2",children:t.section})]},t.number))})]})})]})]})}export{V as default};
