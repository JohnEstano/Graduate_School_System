<<<<<<<< Updated upstream:public/build/assets/super-admin-dashboard-Dxo_4_sk.js
import{K as J,r as A,j as e,R as N}from"./app-CQngmq00.js";import{C as l,a as n,b as o,c}from"./card-C_emSl4Q.js";import{B as g}from"./button-Cw9tQIeO.js";import{B as y}from"./badge-BsPMjMb7.js";import{S as O}from"./skeleton-Dhy5gbzz.js";import{S as Q}from"./separator-CMC4qrzs.js";import{I as R}from"./input-izsDzGd9.js";import{L as j}from"./label-CbqPBzn6.js";import{S as _,a as D,b as k,c as P,e as f}from"./select-Dw8a4pct.js";import{T as M}from"./textarea-CCb-V_XO.js";import{D as V,d as q,a as $,e as G,b as H}from"./dialog-D-tH9FDm.js";import{S as W,M as Y}from"./sun-5m6UvoyG.js";import{U as C}from"./users-DZ67WViD.js";import{B as T}from"./book-open-BEj5GOyH.js";import{C as Z}from"./clipboard-list-D93gqQbk.js";import{D as ee}from"./database-CvEXs6r0.js";import{S as L}from"./settings-CDLWUJwV.js";import{U as se}from"./user-check-DCGmNr3e.js";import{c as te}from"./createLucideIcon-pjYyoixj.js";import{G as re}from"./graduation-cap-DHFIPOzN.js";import{M as ae}from"./mail-AVeYXekB.js";import"./utils-jAU0Cazi.js";import"./index-CDDLQrUy.js";import"./index-DZZQifJx.js";import"./index-ahz1tZ6M.js";import"./index-DRp-GX9j.js";import"./index-CgLqTVh4.js";import"./index-VBHUZLOo.js";import"./index-BfMlnZ5P.js";import"./floating-ui.react-dom-DL84dtXf.js";import"./index-BJk2QW0A.js";import"./index-BZgaE142.js";import"./chevron-down-Bg3q2iyP.js";import"./check-BEGkAg7k.js";import"./index-BSk2xfhC.js";import"./x-B3RMhnUQ.js";/**
========
import{K as J,r as A,j as e,R as N}from"./app-DdPj2m7B.js";import{C as l,a as n,b as o,c}from"./card-VQzzqn5t.js";import{B as g}from"./button-C4XkiM_B.js";import{B as y}from"./badge-ofr1GoIX.js";import{S as O}from"./skeleton-eQxcUfOO.js";import{S as Q}from"./separator-DAbYQnLI.js";import{I as R}from"./input-DCrn1t-u.js";import{L as j}from"./label-by1MoGWy.js";import{S as _,a as D,b as k,c as P,e as f}from"./select-BHDrHMEc.js";import{T as M}from"./textarea-ClN04vZX.js";import{D as V,d as q,a as $,e as G,b as H}from"./dialog-BeApitpu.js";import{S as W,M as Y}from"./sun-CPhm4DAg.js";import{U as C}from"./users-Bi2Lh05r.js";import{B as T}from"./book-open-DwBftJzx.js";import{C as Z}from"./clipboard-list-CItztuo4.js";import{D as ee}from"./database-DPC1avUz.js";import{S as L}from"./settings-CYIvZ_Tn.js";import{U as se}from"./user-check-jTMUIr-7.js";import{c as te}from"./createLucideIcon-B8qZ3ylK.js";import{G as re}from"./graduation-cap-BxuxjmnL.js";import{M as ae}from"./mail-DebR_hdY.js";import"./utils-jAU0Cazi.js";import"./index-DYEC1Owk.js";import"./index-DZZQifJx.js";import"./index-DxK34XW3.js";import"./index-C0AcbnKJ.js";import"./index-DGKk-Zer.js";import"./index-ATT6OHxL.js";import"./index-MX9TSR8D.js";import"./floating-ui.react-dom-qFQCHW7g.js";import"./index-DFD1OPps.js";import"./index-DRr-UIpQ.js";import"./chevron-down-DEJUajdp.js";import"./check-BgnkF1LW.js";import"./index-DDxX9UbU.js";import"./x-gfWO9KfB.js";/**
>>>>>>>> Stashed changes:public/build/assets/super-admin-dashboard-CxFlop9P.js
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ie=te("Shield",de);function le(){return new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}function B(){const u=new Date().getHours();return u>=6&&u<18}function Ge(){const{auth:{user:u},allUsers:r=[],programs:b=[],coordinators:F=[],stats:w={total_users:0,total_programs:0,pending_requests:0}}=J().props,[I,U]=A.useState(!1),[m,p]=A.useState("overview"),[x,i]=A.useState({name:"",code:"",coordinator_id:"",description:""}),[h,v]=A.useState({recipient_type:"all",subject:"",message:"",recipient_roles:[]}),E=B()?"Good morning":"Good evening";return e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 md:gap-6 overflow-auto rounded-xl pt-4 md:pt-6 px-4 md:px-7 pb-4 md:pb-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white",children:[E,", ",(u==null?void 0:u.name)??"Super Admin"]}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-500 dark:text-gray-400",children:[le()," â€¢ System Administrator"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:B()?e.jsx(W,{className:"size-5 md:size-6 text-yellow-500"}):e.jsx(Y,{className:"size-5 md:size-6 text-blue-400"})})]}),e.jsx(Q,{})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:[e.jsxs(l,{className:"border-l-4 border-l-blue-500",children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(C,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:w.total_users}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All registered accounts"})]})]}),e.jsxs(l,{className:"border-l-4 border-l-purple-500",children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Programs"}),e.jsx(T,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:w.total_programs}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active programs"})]})]}),e.jsxs(l,{className:"border-l-4 border-l-orange-500",children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Pending Requests"}),e.jsx(Z,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:w.pending_requests}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires attention"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-1 sm:space-y-0 sm:space-x-1 rounded-lg bg-muted p-1 overflow-x-auto",children:[e.jsx("button",{onClick:()=>p("overview"),className:`flex-1 sm:flex-none rounded-md px-2 md:px-3 py-2 text-xs md:text-sm font-medium transition-colors whitespace-nowrap ${m==="overview"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Overview"}),e.jsx("button",{onClick:()=>p("users"),className:`flex-1 sm:flex-none rounded-md px-2 md:px-3 py-2 text-xs md:text-sm font-medium transition-colors whitespace-nowrap ${m==="users"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Users"}),e.jsx("button",{onClick:()=>p("programs"),className:`flex-1 sm:flex-none rounded-md px-2 md:px-3 py-2 text-xs md:text-sm font-medium transition-colors whitespace-nowrap ${m==="programs"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Programs"}),e.jsx("button",{onClick:()=>p("notifications"),className:`flex-1 sm:flex-none rounded-md px-2 md:px-3 py-2 text-xs md:text-sm font-medium transition-colors whitespace-nowrap ${m==="notifications"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Notifications"}),e.jsx("button",{onClick:()=>p("coordinators"),className:`flex-1 sm:flex-none rounded-md px-2 md:px-3 py-2 text-xs md:text-sm font-medium transition-colors whitespace-nowrap ${m==="coordinators"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Coordinators"})]}),m==="overview"&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5"}),"Recent Programs"]})}),e.jsxs(c,{children:[e.jsx("div",{className:"space-y-3",children:b.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.coordinator_name})]}),e.jsxs(y,{variant:s.status==="active"?"default":"secondary",children:[s.students_count," students"]})]},s.id))}),e.jsx(g,{variant:"outline",className:"w-full mt-4",onClick:()=>p("programs"),children:"Manage Programs"})]})]})}),m==="users"&&e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs(o,{className:"flex items-center gap-2 text-base md:text-lg",children:[e.jsx(ee,{className:"h-4 w-4 md:h-5 md:w-5"}),"User Management Dashboard"]})}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 md:gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.filter(s=>s.role==="Student").length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Students"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.filter(s=>s.role==="Faculty").length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Faculty"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.filter(s=>s.role==="Coordinator").length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Coordinators"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.filter(s=>s.role==="Administrative Assistant").length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Admin Assistants"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.filter(s=>s.role==="Dean").length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Deans"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:r.filter(s=>!["Student","Faculty","Coordinator","Administrative Assistant","Dean"].includes(s.role)).length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Others"})]})]})})]}),e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs(o,{className:"flex items-center gap-2 text-base md:text-lg",children:[e.jsx(C,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-600"}),"Students (",r.filter(s=>s.role==="Student").length,")"]})}),e.jsx(c,{children:e.jsx("div",{className:"border rounded-lg overflow-x-auto",children:e.jsxs("div",{className:"min-w-[600px]",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 md:p-4 bg-blue-50 dark:bg-blue-950 font-medium text-xs md:text-sm",children:[e.jsx("div",{children:"Name"}),e.jsx("div",{children:"Email"}),e.jsx("div",{children:"School ID"}),e.jsx("div",{children:"Program"})]}),e.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[r.filter(s=>s.role==="Student").map(s=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 md:p-4 border-t text-xs md:text-sm",children:[e.jsx("div",{className:"font-medium",children:s.name||"N/A"}),e.jsx("div",{className:"text-muted-foreground",children:s.email}),e.jsx("div",{className:"text-muted-foreground",children:s.school_id||"N/A"}),e.jsx("div",{className:"text-muted-foreground",children:s.program||"N/A"})]},s.id)),r.filter(s=>s.role==="Student").length===0&&e.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No students found"})]})]})})})]}),e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs(o,{className:"flex items-center gap-2 text-base md:text-lg",children:[e.jsx(T,{className:"h-4 w-4 md:h-5 md:w-5 text-green-600"}),"Faculty (",r.filter(s=>s.role==="Faculty").length,")"]})}),e.jsx(c,{children:e.jsx("div",{className:"border rounded-lg overflow-x-auto",children:e.jsxs("div",{className:"min-w-[600px]",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 md:p-4 bg-green-50 dark:bg-green-950 font-medium text-xs md:text-sm",children:[e.jsx("div",{children:"Name"}),e.jsx("div",{children:"Email"}),e.jsx("div",{children:"School ID"}),e.jsx("div",{children:"Program"})]}),e.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[r.filter(s=>s.role==="Faculty").map(s=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 md:p-4 border-t text-xs md:text-sm",children:[e.jsx("div",{className:"font-medium",children:s.name||"N/A"}),e.jsx("div",{className:"text-muted-foreground",children:s.email}),e.jsx("div",{className:"text-muted-foreground",children:s.school_id||"N/A"}),e.jsx("div",{className:"text-muted-foreground",children:s.program||"N/A"})]},s.id)),r.filter(s=>s.role==="Faculty").length===0&&e.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No faculty found"})]})]})})})]}),e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs(o,{className:"flex items-center gap-2 text-base md:text-lg",children:[e.jsx(L,{className:"h-4 w-4 md:h-5 md:w-5 text-purple-600"}),"Coordinators (",r.filter(s=>s.role==="Coordinator").length,")"]})}),e.jsx(c,{children:e.jsx("div",{className:"border rounded-lg overflow-x-auto",children:e.jsxs("div",{className:"min-w-[600px]",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 md:p-4 bg-purple-50 dark:bg-purple-950 font-medium text-xs md:text-sm",children:[e.jsx("div",{children:"Name"}),e.jsx("div",{children:"Email"}),e.jsx("div",{children:"Program"}),e.jsx("div",{children:"School ID"})]}),e.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[r.filter(s=>s.role==="Coordinator").map(s=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 md:p-4 border-t text-xs md:text-sm",children:[e.jsx("div",{className:"font-medium",children:s.name||"N/A"}),e.jsx("div",{className:"text-muted-foreground",children:s.email}),e.jsx("div",{className:"text-muted-foreground",children:s.program||"N/A"}),e.jsx("div",{className:"text-muted-foreground",children:s.school_id||"N/A"})]},s.id)),r.filter(s=>s.role==="Coordinator").length===0&&e.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No coordinators found"})]})]})})})]}),e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs(o,{className:"flex items-center gap-2 text-base md:text-lg",children:[e.jsx(se,{className:"h-4 w-4 md:h-5 md:w-5 text-orange-600"}),"Administrative Assistants (",r.filter(s=>s.role==="Administrative Assistant").length,")"]})}),e.jsx(c,{children:e.jsx("div",{className:"border rounded-lg overflow-x-auto",children:e.jsxs("div",{className:"min-w-[600px]",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 md:p-4 bg-orange-50 dark:bg-orange-950 font-medium text-xs md:text-sm",children:[e.jsx("div",{children:"Name"}),e.jsx("div",{children:"Email"}),e.jsx("div",{children:"School ID"}),e.jsx("div",{children:"Program"})]}),e.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[r.filter(s=>s.role==="Administrative Assistant").map(s=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 md:p-4 border-t text-xs md:text-sm",children:[e.jsx("div",{className:"font-medium",children:s.name||"N/A"}),e.jsx("div",{className:"text-muted-foreground",children:s.email}),e.jsx("div",{className:"text-muted-foreground",children:s.school_id||"N/A"}),e.jsx("div",{className:"text-muted-foreground",children:s.program||"N/A"})]},s.id)),r.filter(s=>s.role==="Administrative Assistant").length===0&&e.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No administrative assistants found"})]})]})})})]}),e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs(o,{className:"flex items-center gap-2 text-base md:text-lg",children:[e.jsx(ie,{className:"h-4 w-4 md:h-5 md:w-5 text-red-600"}),"Deans (",r.filter(s=>s.role==="Dean").length,")"]})}),e.jsx(c,{children:e.jsx("div",{className:"border rounded-lg overflow-x-auto",children:e.jsxs("div",{className:"min-w-[600px]",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 md:p-4 bg-red-50 dark:bg-red-950 font-medium text-xs md:text-sm",children:[e.jsx("div",{children:"Name"}),e.jsx("div",{children:"Email"}),e.jsx("div",{children:"School ID"}),e.jsx("div",{children:"Program"})]}),e.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[r.filter(s=>s.role==="Dean").map(s=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 md:p-4 border-t text-xs md:text-sm",children:[e.jsx("div",{className:"font-medium",children:s.name||"N/A"}),e.jsx("div",{className:"text-muted-foreground",children:s.email}),e.jsx("div",{className:"text-muted-foreground",children:s.school_id||"N/A"}),e.jsx("div",{className:"text-muted-foreground",children:s.program||"N/A"})]},s.id)),r.filter(s=>s.role==="Dean").length===0&&e.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No deans found"})]})]})})})]}),r.filter(s=>!["Student","Faculty","Coordinator","Administrative Assistant","Dean"].includes(s.role)).length>0&&e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs(o,{className:"flex items-center gap-2 text-base md:text-lg",children:[e.jsx(C,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-600"}),"Other Roles (",r.filter(s=>!["Student","Faculty","Coordinator","Administrative Assistant","Dean"].includes(s.role)).length,")"]})}),e.jsx(c,{children:e.jsx("div",{className:"border rounded-lg overflow-x-auto",children:e.jsxs("div",{className:"min-w-[600px]",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 md:p-4 bg-gray-50 dark:bg-gray-950 font-medium text-xs md:text-sm",children:[e.jsx("div",{children:"Name"}),e.jsx("div",{children:"Email"}),e.jsx("div",{children:"Role"}),e.jsx("div",{children:"School ID"})]}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.filter(s=>!["Student","Faculty","Coordinator","Administrative Assistant","Dean"].includes(s.role)).map(s=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 md:p-4 border-t text-xs md:text-sm",children:[e.jsx("div",{className:"font-medium",children:s.name||"N/A"}),e.jsx("div",{className:"text-muted-foreground",children:s.email}),e.jsx("div",{children:e.jsx(y,{variant:"secondary",children:s.role})}),e.jsx("div",{className:"text-muted-foreground",children:s.school_id||"N/A"})]},s.id))})]})})})]})]}),m==="programs"&&e.jsx("div",{className:"space-y-4 md:space-y-6",children:e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[e.jsxs(o,{className:"flex items-center gap-2 text-base md:text-lg",children:[e.jsx(L,{className:"h-4 w-4 md:h-5 md:w-5"}),"Program Management"]}),e.jsxs(V,{children:[e.jsx(q,{asChild:!0,children:e.jsx(g,{children:"Add New Program"})}),e.jsxs($,{children:[e.jsx(G,{children:e.jsx(H,{children:"Create New Program"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(j,{htmlFor:"program-name",children:"Program Name"}),e.jsx(R,{id:"program-name",value:x.name,onChange:s=>i({...x,name:s.target.value}),placeholder:"e.g., Master of Science in Computer Science"})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"program-code",children:"Program Code"}),e.jsx(R,{id:"program-code",value:x.code,onChange:s=>i({...x,code:s.target.value}),placeholder:"e.g., MSCS"})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"coordinator",children:"Coordinator"}),e.jsxs(_,{value:x.coordinator_id,onValueChange:s=>i({...x,coordinator_id:s}),children:[e.jsx(D,{children:e.jsx(k,{placeholder:"Select coordinator"})}),e.jsx(P,{children:F.map(s=>e.jsx(f,{value:s.id.toString(),children:s.name},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"description",children:"Description"}),e.jsx(M,{id:"description",value:x.description,onChange:s=>i({...x,description:s.target.value}),placeholder:"Program description..."})]}),e.jsx(g,{className:"w-full",children:"Create Program"})]})]})]})]})}),e.jsx(c,{children:e.jsxs("div",{className:"border rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-7 gap-4 p-4 bg-muted font-medium text-sm",children:[e.jsx("div",{children:"Program Name"}),e.jsx("div",{children:"Code"}),e.jsx("div",{children:"Coordinator"}),e.jsx("div",{children:"Email"}),e.jsx("div",{children:"Students"}),e.jsx("div",{children:"Status"}),e.jsx("div",{children:"Actions"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:b.map(s=>e.jsxs("div",{className:"grid grid-cols-7 gap-4 p-4 border-t text-sm",children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-muted-foreground font-mono text-xs",children:s.code}),e.jsx("div",{className:"font-medium text-blue-600",children:s.coordinator_name}),e.jsx("div",{className:"text-muted-foreground text-xs",children:s.coordinator_email}),e.jsx("div",{children:e.jsxs(y,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[s.students_count," students"]})}),e.jsx("div",{children:e.jsx(y,{variant:s.status==="active"?"default":"secondary",className:"bg-emerald-100 text-emerald-800 border-emerald-200",children:s.status})}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(g,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs",children:"View"}),e.jsx(g,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs",children:"Edit"})]})]},s.id))}),b.length===0&&e.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[e.jsx(re,{className:"mx-auto h-8 w-8 mb-2 opacity-50"}),e.jsx("p",{children:"No programs found"})]})]})})]})}),m==="notifications"&&e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-5 w-5"}),"Send Notifications"]})}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(j,{htmlFor:"recipient-type",children:"Recipients"}),e.jsxs(_,{value:h.recipient_type,onValueChange:s=>v({...h,recipient_type:s}),children:[e.jsx(D,{children:e.jsx(k,{})}),e.jsxs(P,{children:[e.jsx(f,{value:"all",children:"All Users"}),e.jsx(f,{value:"students",children:"Students Only"}),e.jsx(f,{value:"faculty",children:"Faculty Only"}),e.jsx(f,{value:"coordinators",children:"Coordinators Only"}),e.jsx(f,{value:"staff",children:"Staff Only"})]})]})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"subject",children:"Subject"}),e.jsx(R,{id:"subject",value:h.subject,onChange:s=>v({...h,subject:s.target.value}),placeholder:"Email subject line"})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"message",children:"Message"}),e.jsx(M,{id:"message",value:h.message,onChange:s=>v({...h,message:s.target.value}),placeholder:"Enter your message here...",rows:6})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{className:"flex-1",children:"Send Notification"}),e.jsx(g,{variant:"outline",children:"Save as Draft"})]})]})})]}),m==="coordinators"&&e.jsx(ne,{})]})}function ne(){const[u,r]=N.useState([]),[b,F]=N.useState([]),[w,I]=N.useState([]),[U,m]=N.useState(!0),[p,x]=N.useState(!1),[i,h]=N.useState({coordinator_user_id:"",program_name:"",notes:""});N.useEffect(()=>{v()},[]);const v=async()=>{m(!0);try{const[t,d,a]=await Promise.all([fetch("/api/coordinator-assignments"),fetch("/api/coordinator-assignments/coordinators"),fetch("/api/coordinator-assignments/programs")]),S=await t.json(),K=await d.json(),X=await a.json();r(S.assignments||[]),F(K.coordinators||[]),I(X.programs||[])}catch(t){console.error("Error loading coordinator assignments:",t)}finally{m(!1)}},E=async()=>{var t;if(!i.coordinator_user_id||!i.program_name){alert("Please select both coordinator and program");return}try{const d=await fetch("/api/coordinator-assignments",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||""},body:JSON.stringify(i)}),a=await d.json();d.ok?(alert(a.message||"Program assigned successfully!"),x(!1),h({coordinator_user_id:"",program_name:"",notes:""}),v()):alert(a.error||"Failed to assign program")}catch(d){console.error("Error adding assignment:",d),alert("Failed to assign program. Please try again.")}},s=async t=>{var d;if(confirm("Are you sure you want to remove this program assignment?"))try{const a=await fetch(`/api/coordinator-assignments/${t}`,{method:"DELETE",headers:{"X-CSRF-TOKEN":((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content"))||""}}),S=await a.json();a.ok?(alert(S.message||"Assignment removed successfully!"),v()):alert(S.error||"Failed to remove assignment")}catch(a){console.error("Error removing assignment:",a),alert("Failed to remove assignment. Please try again.")}},z=u.reduce((t,d)=>{const a=d.coordinator_id;return t[a]||(t[a]={coordinator:d.coordinator_name,email:d.coordinator_email,programs:[]}),t[a].programs.push(d),t},{});return e.jsx("div",{className:"space-y-6",children:e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(o,{children:"Coordinator Program Assignments"}),e.jsxs(V,{open:p,onOpenChange:x,children:[e.jsx(q,{asChild:!0,children:e.jsxs(g,{children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Assign Program"]})}),e.jsxs($,{children:[e.jsx(G,{children:e.jsx(H,{children:"Assign Program to Coordinator"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"coordinator",children:"Coordinator"}),e.jsxs(_,{value:i.coordinator_user_id,onValueChange:t=>h({...i,coordinator_user_id:t}),children:[e.jsx(D,{children:e.jsx(k,{placeholder:"Select coordinator..."})}),e.jsx(P,{children:b.map(t=>e.jsxs(f,{value:t.id.toString(),children:[t.name," (",t.email,")"]},t.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"program",children:"Program"}),e.jsxs(_,{value:i.program_name,onValueChange:t=>h({...i,program_name:t}),children:[e.jsx(D,{children:e.jsx(k,{placeholder:"Select program..."})}),e.jsx(P,{children:w.map(t=>e.jsx(f,{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"notes",children:"Notes (Optional)"}),e.jsx(M,{id:"notes",placeholder:"Add any notes about this assignment...",value:i.notes,onChange:t=>h({...i,notes:t.target.value}),rows:3})]}),e.jsx(g,{onClick:E,className:"w-full",children:"Assign Program"})]})]})]})]})}),e.jsx(c,{children:U?e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{className:"h-12 w-full"}),e.jsx(O,{className:"h-12 w-full"}),e.jsx(O,{className:"h-12 w-full"})]}):Object.keys(z).length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No coordinator assignments yet. Click "Assign Program" to get started.'}):e.jsx("div",{className:"space-y-6",children:Object.values(z).map((t,d)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:t.coordinator}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.email})]}),e.jsxs(y,{variant:"secondary",children:[t.programs.length," programs"]})]}),e.jsx("div",{className:"space-y-2",children:t.programs.map(a=>e.jsxs("div",{className:"flex items-center justify-between bg-muted p-3 rounded-md",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:a.program_name}),a.notes&&e.jsx("p",{className:"text-sm text-muted-foreground",children:a.notes}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Assigned ",a.created_at," by ",a.assigned_by_name]})]}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>s(a.id),className:"text-destructive hover:text-destructive",children:"Remove"})]},a.id))})]},d))})})]})})}export{Ge as default};
