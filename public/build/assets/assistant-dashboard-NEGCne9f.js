<<<<<<<< Updated upstream:public/build/assets/assistant-dashboard-CKbDCugz.js
import{K as F,r as a,j as e,R as $}from"./app-CQngmq00.js";import{C as u}from"./card-C_emSl4Q.js";import{S as i}from"./skeleton-Dhy5gbzz.js";import{T as I,a as K,b as g,c as h}from"./tabs-DJOYkXMD.js";import O from"./quick-actions-widget-CFXp9tUk.js";import Q from"./weekly-defense-schedule-widget-neNTVngQ.js";import U from"./pending-defense-request-widget-Wll2GlDq.js";import{S as B,M as G}from"./sun-5m6UvoyG.js";import{c as b}from"./createLucideIcon-pjYyoixj.js";import{D as J}from"./dollar-sign-CkMbILE9.js";import{C as X}from"./calendar-days-DHLDYaT_.js";import{C as f}from"./clipboard-list-D93gqQbk.js";import"./utils-jAU0Cazi.js";import"./index-CDDLQrUy.js";import"./index-DRp-GX9j.js";import"./tooltip-BvePKNvs.js";import"./floating-ui.react-dom-DL84dtXf.js";import"./user-round-Re0lcQTC.js";import"./settings-CDLWUJwV.js";import"./receipt-CoKWPx4G.js";import"./badge-dollar-sign-DPXQOWgc.js";import"./users-DZ67WViD.js";import"./book-open-BEj5GOyH.js";import"./calendar-Bi5dAEy5.js";import"./chevron-right-QGs8lTP5.js";import"./graduation-cap-DHFIPOzN.js";import"./format-HX8DKPSU.js";import"./en-US-BA9orzCf.js";import"./isSameDay-DUlCFK42.js";import"./parseISO-CbXPh3Al.js";import"./constructNow-Chb2L4Vx.js";import"./getRoundingMethod-Btu-7J5l.js";/**
========
import{K as F,r as a,j as e,R as $}from"./app-DdPj2m7B.js";import{C as u}from"./card-VQzzqn5t.js";import{S as i}from"./skeleton-eQxcUfOO.js";import{T as I,a as K,b as g,c as h}from"./tabs-BvzTftzm.js";import O from"./quick-actions-widget-C-8cE6Xj.js";import Q from"./weekly-defense-schedule-widget-DBOiOoFP.js";import U from"./pending-defense-request-widget-CAwpUGVV.js";import{S as B,M as G}from"./sun-CPhm4DAg.js";import{c as b}from"./createLucideIcon-B8qZ3ylK.js";import{D as J}from"./dollar-sign-DEGfV_co.js";import{C as X}from"./calendar-days-QY893wAX.js";import{C as f}from"./clipboard-list-CItztuo4.js";import"./utils-jAU0Cazi.js";import"./index-DYEC1Owk.js";import"./index-C0AcbnKJ.js";import"./tooltip-YyHP33lU.js";import"./floating-ui.react-dom-qFQCHW7g.js";import"./user-round-DdfHKHWt.js";import"./settings-CYIvZ_Tn.js";import"./receipt-DWAji_2S.js";import"./badge-dollar-sign-D1ijFK0L.js";import"./users-Bi2Lh05r.js";import"./book-open-DwBftJzx.js";import"./calendar-BkrqGKNC.js";import"./chevron-right-BZod6iQK.js";import"./graduation-cap-BxuxjmnL.js";import"./format-HX8DKPSU.js";import"./en-US-BA9orzCf.js";import"./isSameDay-DUlCFK42.js";import"./parseISO-CbXPh3Al.js";import"./constructNow-Chb2L4Vx.js";import"./getRoundingMethod-Btu-7J5l.js";/**
>>>>>>>> Stashed changes:public/build/assets/assistant-dashboard-NEGCne9f.js
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Z=b("ChartColumn",Y);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M7 12h.01",key:"eqddd0"}]],te=b("CircleEllipsis",ee);function se(){return new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}function ae(){const s=new Date().getHours();return s>=6&&s<18}function Ee(){const{auth:{user:s},stats:n={pending_applications:0,pending_defense_requests:0,pending_payments:0,upcoming_deadlines:0}}=F().props,[l,d]=a.useState(!1),[c,v]=a.useState(n.pending_honorariums??null),[m,j]=a.useState(n.todays_defenses??null),[y,k]=a.useState(n.pending_applications??0),[w,N]=a.useState(n.pending_payments??0),[z,C]=a.useState(n.pending_defense_requests??0),[D,S]=a.useState([]),[T,_]=a.useState([]),[q,P]=a.useState(new Date().getDay()),A=[{label:"Sun",value:0},{label:"Mon",value:1},{label:"Tue",value:2},{label:"Wed",value:3},{label:"Thu",value:4},{label:"Fri",value:5},{label:"Sat",value:6}];a.useEffect(()=>{c!==null&&m!==null||(d(!0),Promise.all([fetch("/api/pending-honorariums").then(t=>t.ok?t.json():{count:0}).catch(()=>({count:0})),fetch("/api/todays-defenses").then(t=>t.ok?t.json():{count:0}).catch(()=>({count:0})),fetch("/api/pending-applications").then(t=>t.ok?t.json():{count:0}).catch(()=>({count:0})),fetch("/api/pending-payments").then(t=>t.ok?t.json():{count:0}).catch(()=>({count:0})),fetch("/api/pending-defense-requests").then(t=>t.ok?t.json():{count:0}).catch(()=>({count:0})),fetch("/defense-requests",{headers:{Accept:"application/json"}}).then(t=>t.ok?t.json():[]).catch(()=>[])]).then(([t,o,H,W,L,r])=>{v(t.count??0),j(o.count??0),k(H.count??0),N(W.count??0),C(L.count??0);const x=Array.isArray(r)?r:r.defenseRequests??[];S(x);const V=x.filter(p=>(p.normalized_status||p.status)==="Pending");_(V)}).finally(()=>d(!1)))},[]);const[R,M]=a.useState("overview"),E=[{title:"Pending Honorariums",value:c??0,description:"Honorariums not yet processed",icon:e.jsx(J,{}),iconTheme:"bg-rose-100 text-rose-600 dark:bg-rose-900 dark:text-rose-300",iconColorClass:"text-rose-500"},{title:"Today's Defense Schedules",value:m??0,description:"Defenses scheduled for today",icon:e.jsx(X,{}),iconTheme:"bg-violet-100 text-violet-600 dark:bg-violet-900 dark:text-violet-300",iconColorClass:"text-violet-500"},{title:"Pending Applications",value:y,description:"Applications awaiting review",icon:e.jsx(f,{}),iconTheme:"bg-rose-100 text-rose-600 dark:bg-rose-900 dark:text-rose-300",iconColorClass:"text-rose-500"},{title:"Payment Confirmations",value:w,description:"Payments require verification",icon:e.jsx(te,{}),iconTheme:"bg-violet-100 text-violet-600 dark:bg-violet-900 dark:text-violet-300",iconColorClass:"text-violet-500"},{title:"Defense Requests",value:z,description:"Defense requests to process",icon:e.jsx(f,{}),iconTheme:"bg-rose-100 text-rose-600 dark:bg-rose-900 dark:text-rose-300",iconColorClass:"text-rose-500"}];return e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-auto bg-white dark:bg-background",children:l?e.jsxs("div",{className:"w-full min-h-[70vh] bg-zinc-100 dark:bg-zinc-900 flex flex-col gap-4 p-0 m-0",children:[e.jsx(i,{className:"h-6 w-1/6 rounded bg-zinc-300 dark:bg-zinc-800 mt-8 mx-8"}),e.jsx(i,{className:"h-12 w-3/4 rounded bg-zinc-300 dark:bg-zinc-800 mx-8"}),e.jsx(i,{className:"h-12 w-2/3 rounded bg-zinc-300 dark:bg-zinc-800 mx-8"}),e.jsx(i,{className:"h-[500px] w-full rounded bg-zinc-300 dark:bg-zinc-800 mt-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 md:mb-7 mt-2 md:mt-3 pt-2 md:pt-3 px-4 md:px-7",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 md:gap-0 relative overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"flex items-center text-xs font-semibold text-gray-700 dark:text-gray-200 mb-1 md:mb-2 relative z-10",children:[ae()?e.jsx(B,{className:"mr-1 size-3 md:size-4 text-rose-500"}):e.jsx(G,{className:"mr-1 size-3 md:size-4 text-rose-500"}),se()]}),e.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white relative z-10",children:["Hi, ",s==null?void 0:s.name,"!"]}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 relative z-10",children:(s==null?void 0:s.role)??"Assistant"})]}),e.jsxs("div",{className:"hidden md:flex items-center",children:[e.jsx("div",{className:"h-12 w-px mx-4 bg-gray-300 dark:bg-gray-700 opacity-60"}),e.jsx("div",{className:"mr-8",children:e.jsx(O,{userRole:s==null?void 0:s.role})})]})]})}),e.jsx("div",{className:"w-full max-w-screen-xl mx-auto px-4 md:px-7",children:e.jsxs(I,{value:R,onValueChange:M,className:"w-full",children:[e.jsxs(K,{className:"mb-2 ",children:[e.jsx(g,{value:"overview",className:"flex-1 sm:flex-none",children:"Overview"}),e.jsx(g,{value:"analytics",className:"flex-1 sm:flex-none",children:"Analytics"})]}),e.jsxs(h,{value:"overview",className:"w-full",children:[e.jsx("div",{className:"w-full max-w-screen-xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 px-0 mb-4 md:mb-6",children:E.map((t,o)=>e.jsxs(u,{className:"col-span-1 rounded-lg md:rounded-xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 shadow-sm flex flex-col justify-between p-0 min-h-0 h-auto transition hover:shadow-md",style:{minWidth:0},children:[e.jsxs("div",{className:"flex items-center justify-between px-4 md:px-5 pt-3 md:pt-4 pb-0",children:[e.jsx("div",{className:"text-xs md:text-sm font-extrabold text-gray-800 dark:text-zinc-100 leading-tight",children:t.title}),e.jsx("div",{className:`rounded-full p-1 md:p-1.5 flex items-center justify-center flex-shrink-0 ${t.iconTheme}`,children:$.cloneElement(t.icon,{className:"size-3 md:size-4 font-extrabold "+t.iconColorClass})})]}),e.jsxs("div",{className:"flex flex-col px-4 md:px-5 pb-3 md:pb-4 pt-1 md:pt-2",children:[e.jsx("span",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white leading-none",children:t.value}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 truncate",children:t.description})]})]},o))}),e.jsx("div",{className:"flex flex-col gap-4 md:gap-6 bg-gray-100 dark:bg-muted rounded-lg md:rounded-xl mt-2 mb-2 px-3 md:px-4 py-4 md:py-8 w-full",children:e.jsxs("div",{className:"w-full mb-2 flex flex-col gap-4",children:[e.jsx(Q,{weekDays:A,selectedDay:q,setSelectedDay:P,approvedDefenses:D,referenceDate:new Date,loading:l}),e.jsx(U,{pendingRequests:T,loading:l})]})})]}),e.jsx(h,{value:"analytics",className:"w-full",children:e.jsx("div",{className:"w-full max-w-screen-xl mx-auto grid grid-cols-1 gap-4 mb-4 md:mb-6",children:e.jsxs(u,{className:"flex flex-row items-center gap-3 md:gap-4 p-4 md:p-6",children:[e.jsx("div",{className:"rounded-full bg-violet-100 dark:bg-violet-900 p-2 md:p-3 flex items-center justify-center flex-shrink-0",children:e.jsx(Z,{className:"size-6 md:size-8 text-violet-600 dark:text-violet-300"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-base md:text-lg font-bold text-gray-900 dark:text-white",children:"Analytics"}),e.jsx("div",{className:"text-xs md:text-sm text-gray-500 dark:text-gray-400",children:"Visualize assistant workflow metrics and trends here."})]})]})})})]})})]})})}export{Ee as default};
