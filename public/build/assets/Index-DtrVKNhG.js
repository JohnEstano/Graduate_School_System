import{K as h,r as i,j as e,L as j}from"./app-BFhJ_rhz.js";import{A as g}from"./app-layout-DKWHuAKG.js";import{B as p}from"./button-CKae6SRa.js";import y from"./PaymentForm-Bv_iDdZg.js";import v from"./display-payment-5Kh2tP2v.js";import{D as N,a as k}from"./dialog-D7W9x4ad.js";import{R as w}from"./receipt-DOktdA3j.js";import{C as S}from"./check-C9G5qvCx.js";import"./index-XUnuFccv.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./input-BIzgsiDe.js";import"./index-B3ixvT_X.js";import"./index-BxKqTWPD.js";import"./index-D0wd6wGz.js";import"./x-CnUa_NpO.js";import"./createLucideIcon-KZz7-iiu.js";import"./tooltip-I1_k_sJu.js";import"./floating-ui.react-dom-cBbMY6yK.js";import"./separator-BY26pNcl.js";import"./index-DECR1Bfi.js";import"./chevron-right-DjSSbn5Y.js";import"./dropdown-menu-ClRvripl.js";import"./index-C9pixpqP.js";import"./index-Cts8AH-1.js";import"./index-C_D7lUP4.js";import"./index-Bdmt_zOQ.js";import"./avatar-Hezgfi3W.js";import"./settings-HgSYffZJ.js";import"./chevrons-up-down-COq0GsTe.js";import"./file-text-DZ3MZZ0V.js";import"./graduation-cap-CXqZ0t7s.js";import"./dollar-sign-Du1oc25G.js";import"./users-DEbcMkR_.js";import"./credit-card-BiSsycVm.js";import"./badge-WiooCdVb.js";import"./circle-check-big-B-7ETsgn.js";import"./info-C_dbFrPh.js";import"./sun-zhaV4S8O.js";import"./label-1vsVmE7Q.js";import"./calendar-XS_JVQYC.js";import"./en-US-BA9orzCf.js";import"./endOfWeek-QFyZPl43.js";import"./format-HX8DKPSU.js";import"./differenceInCalendarMonths-HUNRrXGm.js";import"./normalizeInterval-CdMCNNY-.js";import"./endOfMonth-CK_ShA5m.js";import"./isSameDay-DUlCFK42.js";import"./isSameMonth-CQd3m9St.js";import"./chevron-left-D0d8_kcB.js";import"./chevron-down-CFBjVW0P.js";import"./calendar-CgC1wT9Q.js";import"./paperclip-Dlg1S261.js";import"./formatDistanceToNow-Bo4ytHt0.js";import"./constructNow-Chb2L4Vx.js";import"./getRoundingMethod-Btu-7J5l.js";import"./endOfDay-UBg8OSOW.js";import"./clock-DOccUPQF.js";import"./circle-x-DEwAB-7S.js";import"./badge-check-BGkTbWA9.js";function Be(){const{props:c}=h(),{student:d,canSubmit:x,payment:t}=c,o=i.useMemo(()=>({canSubmit:null,debugOpen:!1}),[]),n=x,a=n&&(!t||t.status==="rejected"),[u,m]=i.useState(!1),[f,l]=i.useState(!1),b=i.useMemo(()=>{const r=t==null?void 0:t.status,s="inline-flex items-center rounded-full px-2 py-1 text-xs font-medium";return r==="approved"?e.jsx("span",{className:`${s} bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300`,children:"Approved"}):r==="rejected"?e.jsx("span",{className:`${s} bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300`,children:"Rejected"}):r==="pending"?e.jsx("span",{className:`${s} bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300`,children:"Pending"}):e.jsx("span",{className:`${s} bg-slate-100 text-slate-800 dark:bg-slate-800/50 dark:text-slate-300`,children:"No submission"})},[t==null?void 0:t.status]);return e.jsxs(g,{children:[e.jsx(j,{title:"Comprehensive Exam â€¢ Payment"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-5 pt-5 px-7 overflow-auto",children:e.jsxs("div",{className:"w-full px-2 bg-white border border-zinc-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between w-full p-3 border-b",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-rose-500/10 border border-rose-500",children:e.jsx(w,{className:"h-5 w-5 text-rose-400"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-base font-semibold",children:"Comprehensive Exam Payment"}),e.jsx("p",{className:"block text-xs text-muted-foreground",children:"Submit your official receipt for verification."}),e.jsx("div",{className:"mt-1 text-xs",children:b})]})]}),e.jsx(p,{className:"bg-rose-500 text-sm px-5 rounded-md",onClick:()=>m(!0),disabled:!a&&!o.debugOpen,title:a||o.debugOpen?"Submit payment":n?"Payment already submitted":"You can submit payment only after your comprehensive application is approved.",children:"Submit payment"})]}),e.jsx("div",{className:"p-1",children:t?e.jsx("div",{id:"payment-card",children:e.jsx(v,{payment:{id:t.payment_id,status:t.status,or_number:t.or_number,payment_date:t.payment_date,receipt_image:t.receipt_image,remarks:t.remarks??null,created_at:t.created_at??null},student:d})}):e.jsx("div",{className:"p-6 text-center text-sm text-muted-foreground",children:"No payment submitted yet."})})]})}),e.jsx(N,{open:u,onOpenChange:r=>{m(r),r||l(!1)},children:e.jsxs(k,{className:"flex h-[70vh] w-full max-w-3xl flex-col",children:[" ",f?e.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center space-y-6 px-4",children:[e.jsx(S,{size:48,className:"text-rose-500"}),e.jsx("h2",{className:"text-2xl font-semibold",children:"Payment Submitted!"}),e.jsx("p",{className:"text-center text-gray-600",children:"Your payment has been saved successfully."}),e.jsx(p,{onClick:()=>{m(!1),setTimeout(()=>{var r;(r=document.getElementById("payment-card"))==null||r.scrollIntoView({behavior:"smooth",block:"start"})},100)},className:"bg-rose-500",children:"Done"})]}):e.jsx("div",{className:"flex-1 overflow-auto px-2",children:e.jsx(y,{canSubmit:a||o.debugOpen,payment:t,onSuccess:()=>l(!0)})})]})})]})}export{Be as default};
